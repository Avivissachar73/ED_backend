{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/modules/common/cmps/FormInput.vue?28ee","webpack:///./src/modules/common/cmps/PaginationBtns.vue?798c","webpack:///./src/modules/ED/views/MapPage.vue?ceca","webpack:///./src/App.vue","webpack:///./src/modules/common/cmps/AppHeader.vue","webpack:///./src/modules/common/cmps/CreditLogo.vue","webpack:///src/modules/common/cmps/CreditLogo.vue","webpack:///./src/modules/common/cmps/CreditLogo.vue?81e5","webpack:///./src/modules/common/cmps/CreditLogo.vue?cf52","webpack:///src/modules/common/cmps/AppHeader.vue","webpack:///./src/modules/common/cmps/AppHeader.vue?3c7c","webpack:///./src/modules/common/cmps/AppHeader.vue?dce0","webpack:///./src/modules/common/cmps/AppFooter.vue","webpack:///src/modules/common/cmps/AppFooter.vue","webpack:///./src/modules/common/cmps/AppFooter.vue?f711","webpack:///./src/modules/common/cmps/AppFooter.vue?a730","webpack:///./src/modules/common/cmps/AppAside.vue","webpack:///src/modules/common/cmps/AppAside.vue","webpack:///./src/modules/common/cmps/AppAside.vue?f23a","webpack:///./src/modules/common/cmps/AppAside.vue?e4e3","webpack:///./src/modules/common/services/util.service.js","webpack:///./src/modules/common/services/http.service.js","webpack:///./src/modules/common/services/socket.service.js","webpack:///./src/modules/common/services/event-emmiter.service.js","webpack:///./src/modules/common/cmps/Loader.vue","webpack:///./src/modules/common/cmps/AnimationLoader.vue","webpack:///./src/modules/common/services/canvasService/canvas.service.js","webpack:///src/modules/common/cmps/AnimationLoader.vue","webpack:///./src/modules/common/cmps/AnimationLoader.vue?8024","webpack:///./src/modules/common/cmps/AnimationLoader.vue?1c1b","webpack:///src/modules/common/cmps/Loader.vue","webpack:///./src/modules/common/cmps/Loader.vue?ca94","webpack:///./src/modules/common/cmps/Loader.vue?080d","webpack:///src/App.vue","webpack:///./src/App.vue?4c4f","webpack:///./src/App.vue?3746","webpack:///./src/registerServiceWorker.js","webpack:///./src/modules/common/views/Home.vue","webpack:///src/modules/common/views/Home.vue","webpack:///./src/modules/common/views/Home.vue?0920","webpack:///./src/modules/common/views/Home.vue?13b0","webpack:///./src/modules/common/views/About.vue","webpack:///./src/modules/common/cmps/Tooltip.vue","webpack:///src/modules/common/cmps/Tooltip.vue","webpack:///./src/modules/common/cmps/Tooltip.vue?8f23","webpack:///./src/modules/common/cmps/Tooltip.vue?4ab1","webpack:///src/modules/common/views/About.vue","webpack:///./src/modules/common/views/About.vue?ce3c","webpack:///./src/modules/common/views/About.vue?6cae","webpack:///./src/modules/common/views/SandBox.vue","webpack:///./src/modules/common/cmps/SunSistem.vue","webpack:///src/modules/common/cmps/SunSistem.vue","webpack:///./src/modules/common/cmps/SunSistem.vue?af67","webpack:///./src/modules/common/cmps/SunSistem.vue?2da8","webpack:///src/modules/common/views/SandBox.vue","webpack:///./src/modules/common/views/SandBox.vue?cb53","webpack:///./src/modules/common/views/SandBox.vue?c160","webpack:///./src/modules/common/routes.js","webpack:///./src/modules/auth/AuthApp.vue","webpack:///src/modules/auth/AuthApp.vue","webpack:///./src/modules/auth/AuthApp.vue?a71d","webpack:///./src/modules/auth/AuthApp.vue?0b78","webpack:///./src/modules/auth/views/LoginPage.vue","webpack:///./src/modules/common/cmps/FormInput.vue","webpack:///src/modules/common/cmps/FormInput.vue","webpack:///./src/modules/common/cmps/FormInput.vue?80ec","webpack:///./src/modules/common/cmps/FormInput.vue?930d","webpack:///src/modules/auth/views/LoginPage.vue","webpack:///./src/modules/auth/views/LoginPage.vue?6e93","webpack:///./src/modules/auth/views/LoginPage.vue?a558","webpack:///./src/modules/auth/views/SignupPage.vue","webpack:///./src/modules/account/services/account.service.js","webpack:///src/modules/auth/views/SignupPage.vue","webpack:///./src/modules/auth/views/SignupPage.vue?e256","webpack:///./src/modules/auth/views/SignupPage.vue?c2fd","webpack:///./src/modules/auth/routes.js","webpack:///./src/modules/account/AccountApp.vue","webpack:///src/modules/account/AccountApp.vue","webpack:///./src/modules/account/AccountApp.vue?1f4f","webpack:///./src/modules/account/AccountApp.vue?8c0b","webpack:///./src/modules/account/views/AccountPage.vue","webpack:///./src/modules/account/cmps/AccountPreview.vue","webpack:///src/modules/account/cmps/AccountPreview.vue","webpack:///./src/modules/account/cmps/AccountPreview.vue?444c","webpack:///./src/modules/account/cmps/AccountPreview.vue?338f","webpack:///./src/modules/common/cmps/PaginationBtns.vue","webpack:///src/modules/common/cmps/PaginationBtns.vue","webpack:///./src/modules/common/cmps/PaginationBtns.vue?30b2","webpack:///./src/modules/common/cmps/PaginationBtns.vue?eaf4","webpack:///./src/modules/common/cmps/ItemSearchList/ItemSearchList.vue","webpack:///./src/modules/common/cmps/ItemSearchList/ItemFilter.vue","webpack:///src/modules/common/cmps/ItemSearchList/ItemFilter.vue","webpack:///./src/modules/common/cmps/ItemSearchList/ItemFilter.vue?09ba","webpack:///./src/modules/common/cmps/ItemSearchList/ItemFilter.vue?dcf3","webpack:///./src/modules/common/cmps/ItemSearchList/ItemList.vue","webpack:///./src/modules/common/cmps/ItemSearchList/ItemPreview.vue","webpack:///src/modules/common/cmps/ItemSearchList/ItemPreview.vue","webpack:///./src/modules/common/cmps/ItemSearchList/ItemPreview.vue?4a6c","webpack:///./src/modules/common/cmps/ItemSearchList/ItemPreview.vue?0ba9","webpack:///src/modules/common/cmps/ItemSearchList/ItemList.vue","webpack:///./src/modules/common/cmps/ItemSearchList/ItemList.vue?9b98","webpack:///./src/modules/common/cmps/ItemSearchList/ItemList.vue?faad","webpack:///src/modules/common/cmps/ItemSearchList/ItemSearchList.vue","webpack:///./src/modules/common/cmps/ItemSearchList/ItemSearchList.vue?5ec5","webpack:///./src/modules/common/cmps/ItemSearchList/ItemSearchList.vue?d747","webpack:///src/modules/account/views/AccountPage.vue","webpack:///./src/modules/account/views/AccountPage.vue?4377","webpack:///./src/modules/account/views/AccountPage.vue?6a81","webpack:///./src/modules/account/views/AccountDetails.vue","webpack:///src/modules/account/views/AccountDetails.vue","webpack:///./src/modules/account/views/AccountDetails.vue?7b46","webpack:///./src/modules/account/views/AccountDetails.vue?ad1e","webpack:///./src/modules/account/views/AccountEdit.vue","webpack:///src/modules/account/views/AccountEdit.vue","webpack:///./src/modules/account/views/AccountEdit.vue?2e20","webpack:///./src/modules/account/views/AccountEdit.vue?0441","webpack:///./src/modules/account/routes.js","webpack:///./src/modules/settings/SettingsApp.vue","webpack:///src/modules/settings/SettingsApp.vue","webpack:///./src/modules/settings/SettingsApp.vue?adf7","webpack:///./src/modules/settings/SettingsApp.vue?ebc8","webpack:///./src/modules/settings/views/SettingsPage.vue","webpack:///src/modules/settings/views/SettingsPage.vue","webpack:///./src/modules/settings/views/SettingsPage.vue?87d0","webpack:///./src/modules/settings/views/SettingsPage.vue?7395","webpack:///./src/modules/settings/routes.js","webpack:///./src/modules/dashboard/DashboardApp.vue","webpack:///./src/modules/dashboard/DashboardApp.vue?81b4","webpack:///./src/modules/dashboard/views/DashboardPage.vue","webpack:///./src/modules/common/services/AvivChart.js","webpack:///src/modules/dashboard/views/DashboardPage.vue","webpack:///./src/modules/dashboard/views/DashboardPage.vue?d049","webpack:///./src/modules/dashboard/views/DashboardPage.vue?e182","webpack:///./src/modules/dashboard/routes.js","webpack:///./src/modules/ED/EdApp.vue","webpack:///./src/modules/ED/EdApp.vue?6aae","webpack:///./src/modules/ED/views/MapPage.vue","webpack:///./src/modules/ED/services/msg.service.js","webpack:///./src/modules/ED/services/googleMap.service.js","webpack:///./src/modules/common/services/element.service.js","webpack:///./src/modules/ED/services/map.service.js","webpack:///./src/modules/common/services/alert.service.js","webpack:///src/modules/ED/views/MapPage.vue","webpack:///./src/modules/ED/views/MapPage.vue?7b09","webpack:///./src/modules/ED/views/MapPage.vue?03c6","webpack:///./src/modules/ED/views/MsgEdit.vue","webpack:///src/modules/ED/views/MsgEdit.vue","webpack:///./src/modules/ED/views/MsgEdit.vue?45f9","webpack:///./src/modules/ED/views/MsgEdit.vue?f41f","webpack:///./src/modules/ED/routes.js","webpack:///./src/router/index.js","webpack:///./src/modules/common/store.js","webpack:///./src/modules/auth/services/auth.service.js","webpack:///./src/modules/common/services/basic-store.service.js","webpack:///./src/modules/auth/store.js","webpack:///./src/modules/account/store.js","webpack:///./src/modules/settings/services/settings.service.js","webpack:///./src/modules/settings/store.js","webpack:///./src/modules/dashboard/services/dashboard.service.js","webpack:///./src/modules/dashboard/store.js","webpack:///./src/modules/ED/store.js","webpack:///./src/store/index.js","webpack:///./src/plugins/i18n.js","webpack:///./src/main.js","webpack:///./src/assets/styles/index.scss?172b","webpack:///./src/modules/ED/services/location.service.js","webpack:///./src/modules/dashboard/views/DashboardPage.vue?7198","webpack:///./src/modules/common/cmps/CreditLogo.vue?af8f","webpack:///./src/modules/common/cmps/ItemSearchList/ItemSearchList.vue?32a1","webpack:///./src/assets/images/mine/navBurger.png","webpack:///./src/modules/common/cmps/Tooltip.vue?96e4","webpack:///./src/modules/ED/views/MapPage.vue?32c3","webpack:///./src/assets/styles/global/_vars.scss","webpack:///./src/modules/common/views/SandBox.vue?e4f1","webpack:///./src/modules/common/cmps/AnimationLoader.vue?a382","webpack:///./src/modules/common/cmps/AppAside.vue?70db","webpack:///./src/modules/common/cmps/AppHeader.vue?9ff4","webpack:///./src/modules/common/cmps/ItemSearchList/ItemSearchList.vue?5a98","webpack:///./src/modules/common/cmps/Loader.vue?df7d","webpack:///./src/modules/common/cmps/SunSistem.vue?e71f"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","settings","staticClass","class","rtl","isRtl","dark","isDarkMode","attrs","on","$event","isLoading","_e","staticRenderFns","mobileShow","require","show","_v","_s","$t","isAdmin","loggedUser","logout","_m","component","computed","methods","watch","components","CreditLogo","getRandomId","pt1","Date","now","toString","pt2","getRandomInt","pt3","toUpperCase","num1","num2","max","min","Math","floor","random","getRandomColor","isOpacity","options","color","setDeepVal","obj","field","val","seperator","splited","split","firstField","join","getElPosOnScreen","el","pos","y","x","_el","tagName","offsetTop","offsetLeft","offsetParent","deepIterateWithObj","cb","rootKey","deepKey","delay","timeMs","Promise","resolve","setTimeout","axios","default","withCredentials","BASE_URL","async","ajax","endpoint","method","params","headers","res","url","err","_handleError","httpService","query","post","put","delete","download","utils","getQuerysStr","fileName","blob","fetch","credentials","status","json","nameHeader","indexOf","objUrl","URL","createObjectURL","elLink","document","createElement","href","click","response","socket","socketService","connect","disconnect","off","emit","evName","args","io","EventEmiter","eventName","Events","idx","findIndex","curr","forEach","CanvasService","constructor","board","canvasOpts","selector","context","bgc","enableZoom","enableScrollUi","enableZoomUi","enableFlipUi","enableMirrorUi","initZoomLevel","initRootRenderPos","loadImgCb","enableAnimation","flipLevel","grid","style","getCellContectCb","listeners","id","setup","inited","isServeMode","init","elParent","querySelector","innerHTML","elCanvasContainer","element","elCanvas","getContext","appendChild","addEventListener","ev","flipItem","getBoardPosFromCanvasDomEvent","setZoomDomEvMethods","setResizeEvents","updateZoomLevel","zoomLevel","updateRootRenderPos","convertBoardSizeToCanvasSize","updateFlipLevel","canvasSize","boardSize","calcCanvasSize","width","w","height","h","setScrollSize","setElActionPositions","resetMapedStaticShapesToRender","Array","isArray","boardHeight","boardWidth","canvasWidth","canvasHeight","rootRenderPos","startX","startY","consvertedCanvasSize","endX","endY","boardToCanvasRatio","shape","reqOpts","relativeTo","Utils","copy","hide","zIndex","rotate","isCenterPos","circleDegries","geoShape","img","closeCircle","text","strictW","strictH","strictX","strictY","strictR","mirror","scale","strictScale","dontScale","fillStyle","strokeStyle","font","lineWidth","strictLineWidth","textAlign","textBaseline","circleCounterClockWise","lineCap","clear","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","align","space","strictSpace","flip","children","keys","strictKey","isInRel","undefined","isStrict","fixRenderOptsStyle","opts","ratioW","cellSizeByboardToCanvasRatio","_fixStyle","_style","linePattern","map","getRenderOpts","parent","parseRenderOpts","childOpt","getDrawOpts","gradientBgc","autoCalcGeoShapeSize","gradientSize","MathService","getPolygonSize","getGridLines","renderShape","Image","imgMap","imgSrcMap","loadImage","then","elImage","doRenderData","src","reject","onload","renderW","renderH","renderX","renderY","save","translate","centerX","centerY","PI","drawImage","beginPath","angle","createLinearGradient","cos","sin","colors","clr","addColorStop","offset","strictLinePattern","setLineDash","lineTo","moveTo","startAngle","degToRadian","endAngle","centerPos","ellipse","fillText","strokeText","fillRect","rect","clip","setTransform","clearRect","fill","stroke","closePath","restore","renderCell","cell","getDynamicRenderOpts","opt","drawOpts","getBgAutoStaticShapes","baseOpts","initShapes","mapedStaticShapesToRender","getStaticShapesToRender","staticShapes","isMatrixBoard","isRenderData","arr","dataToRender","shapes","reduce","acc","sort","a","b","debounceRender","force","lastRenderData","at","timeout","toRender","_board","doUpdateCell","findIndexCb","oldCell","doAnimationCellUpdate","updateCell","currCell","updateCells","removeCell","findIdxCbOrItem","removeCells","findIdxCbOrItems","oldItems","filteredItems","filter","includes","updateBoard","targetCell","posDiffs","reqAnimations","animateKey","animateId","nextAnimateId","steps","count","_doUdate","currStep","newVal","requestAnimationFrame","getPosOpts","cellW","cellH","canvasRootRenderPos","actualX","actualY","size","isFromCanvasPos","ratio","boardPos","offsetX","offsetY","getOffsetPosFomDomEvent","heightDivider","widthDivider","isClientPos","clientX","clientY","touches","target","elementSize","offsetWidth","offsetHeight","renderSize","fitParentSize","preventDefault","wheelDelta","prevTouchZoomDist","isDragOn","touch1","touch2","dist","hypot","pageX","pageY","diff","canvasOffsetPos","prevDragPos","cursor","addWindowEventListener","dragPos","getActionsElement","diffs","isStrictPos","validateRootRenderPos","viewdArea","renderedCanvasSize","maxView","canvasPos","lastZoomPos","prevLevel","actualDiff","posRatiToCanvas","renderPosDiffs","scrollSizes","vertical","pad","horizontal","updateElScrollsStyle","item","debug","level","isMirrorX","isMirrorY","isSizeFlipped","fixAng","ang","bySize","reducedX","reducedY","byPos","fixRotateBy","rotatePosition","exact","_flipLevel","toggleMirrorX","toggleMirrorY","elActions","querySelectorAll","elGrab","isVertical","classList","contains","top","left","grabedScroll","prevDragedPos","El","ElementService","getActionsStyleStr","onclick","onmousedown","bottom","right","elZoomBtns","elFlipBtns","windowEvsMap","removeWindowEventListeners","cbs","removeEventListener","resizeObserver","unobserve","values","intervals","clearInterval","ResizeObserver","observe","edgeOnly","polygon","acordingToPos","isPosInEllipse","rectToPolygon","isPosOnPoligon","some","isPosOnItem","parentSelector","baseSelector","StyleEl","logicStyle","button","display","content","position","flex","transform","styledStyle","border","padding","transition","gap","getLines","sizeAndPos","gridOpts","mainAxis","defStyle","isNumeric","secAxis","mainSizeKey","secSizeKey","mainSize","secSize","startM","startS","endM","endS","start","lineCount","ceil","restSpace","firstEndPos","getFullPosByPosAndDeg","abs","main","startPos","endPos","line","JSON","parse","stringify","deg","radianToDeg","radian","atan","slope","x1","y1","x2","y2","byY","incline","pos1","pos2","forEachX","sizeReducer","isMin","maxY","maxX","minY","minX","posOnYAxis","getIntersectPos","line1","line2","sortLine","posOnYAx1","posOnYAx2","slope1","slope2","isIntersect","l1x1","l1y1","l1x2","l1y2","l2x1","l2y1","l2x2","l2y2","det","lambda","gamma","pythagoras","sqrt","distBetweenPoss","isPosOnLine","autoCloseShape","testLine","intersectPossCount","currPolLine","intersectPos","rad","posByPosDegAndDist","testRects","circleDegs","rectsCount","startDeg","endDeg","biggerSize","ellipsePos","secPos","testRect","isIntesectRect","rX","rY","isIntersectEllipse","xStart","xEnd","yStart","yEnd","containerSize","biggerElementSizeProp","smallerElementSizeProp","elementRatio","isContainerWide","isElementRatioSmallerThanContainer","convertedSize","posToFill","axis","posOnCircleByDeg","circle","getElType","template","htmlStr","evs","parentType","elType","firstChild","child","CAPS","_stringToLowerKabab","str","fixedStr","lowerCurr","toLowerCase","tab","tabStr","repeat","styleStr","nestedStyle","isCssRule","nestedSelector","props","negative","destroyCanvas","animationInterval","mounted","destroyed","speed","sstrokeStyle","animationItems","canvasService","AnimationLoader","AppHeader","AppFooter","AppAside","Loader","evEmmiter","register","ready","console","log","registered","cached","updatefound","updated","offline","error","ref","toggleShow","toggleHoverShow","handleHover","$slots","preview","_t","directives","rawName","hoverShow","expression","msg","type","required","attachToElement","viewMsg","elPreview","elMsg","diffXFromBorder","diffYFromBorder","Tooltip","attachedTo","creatStarCircleItem","stars","SunSistem","commonRoutes","path","Home","About","SandBox","login","arguments","model","userCred","username","callback","$$v","$set","password","isUserValid","showError","label","inputId","opacity","isEmpty","empty","iconPos","componentType","disabled","placeholder","step","domProps","_i","$$a","$$el","$$c","checked","$$i","concat","_q","composing","$$selectedVal","selected","_value","multiple","$emit","_l","itemsToRender","open","isOpen","closeDropDown","staticStyle","stopPropagation","$refs","elInput","$el","focus","generateId","txt","inputTypes","items","itemsMap","created","e","deep","handler","localStorage","cred","FormInput","signup","user","firstname","lastname","email","ENDPOINT","accountService","add","update","getEmptyAccount","filterBy","_id","roles","organizations","authRoutes","AuthApp","LoginPage","SignupPage","accountData","$options","AccountPreview","setFilter","disable","page","routeToNewPage","isLotsOfPages","pagesToRender","pageNum","totalPages","perPage","total","renderPagesLimit","newItemPageName","singlePreviewCmp","itemDetailesPageName","totalItems","pagination","limit","emitFilter","search","initFilter","componentToRender","tag","ItemPreview","initFilterBy","itemsData","ItemFilter","ItemList","PaginationBtns","getAccounts","ItemSearchList","account","getAccount","AccountToEdit","saveAccount","isAccountValid","accountRoutes","AccountApp","AccountPage","AccountEdit","AccountDetails","currLocale","langs","setLocale","setDarkMode","locale","settingsRoutes","SettingsApp","SettingsPage","script","BaseChart","chartData","initService","destroy","getCahrtDataToRender","isAnimation","getAnimationFrames","renderData","doAnimate","currData","renderedData","setCanvasService","mousemove","onMouseHover","onClick","updateData","findRenderedItemPosMatch","edge","find","hoveredData","hoveredItem","defaultChartData","labels","labelsNegative","dataNegative","info","legend","BaseDataChart","super","UTILS","fillData","strictItemSize","defaultColors","defClrByIdx","sec","sizeKeyByAlignOrAxis","totalPad","dataAreaSize","end","vals","Infinity","dataRangeSize","yByVal","xByVal","secByVal","mainByVal","axisValGap","addToIdx","xByIdx","yByIdx","mainByIdx","secByIdx","secByAxis","minVal","maxVal","updatePad","padKey","sectionsGap","sizeKey","initPad","legendSectionSize","infoSectionSize","extraPadForData","exPAd","_morePadIfElIn","posName","infoSectionsPos","calcSectionRenderPos","axisBySizeKeyOrAlign","lineHeight","itemsCount","totalHeight","longestLine","lineSize","getTextPxSize","textStyle","getChartInfoRenderData","textBaseStyle","infoSize","infoPos","getClrFromStyle","legendPos","getGridRenderData","chartDataUtils","gridStyle","exPad","valLabels","parseInt","dataValRange","valLabelsStep","secAxisLabels","mainAxisLabels","reverse","fullGraphDataToRender","_","frames","animationSteps","LineChart","BarChart","barW","PiChart","piPos","piSize","valsSum","getItemVal","lastEndDeg","percentages","baseCircleItem","finalData","currFrame","clearCircle","DonatChart","donatHoleSize","centerCircle","DiscChart","FrameDiscChart","Heatmap","heatData","autoCalc","_colorBySevirity","sevirity","_getHeatPoinToRenderPart","heatPoint","partsCount","negativePercentages","currSevirity","fullSize","mainPart","restSize","shadowDist","makeId","_mapHeatPointToRender","sevirityByNegs","negsCount","negsDistAvg","depth","calcedDataCash","getheatPointsToRender","calcedData","calcHeatMapData","distAvg","distSevirity","negMaxDist","countPercentagesToMax","maxNegsCount","distPower","percentPwer","lotsOfIncidents","_getNegsData","positions","negsCountLimit","distSum","negs","negsData","getDeepKey","endPoint","isIdx","fillBy","avoid","currDeepKey","fontStyle","_context","textSize","measureText","charts","mountCharts","dashboardRoutes","DashboardApp","DashboardPage","userLocation","sendMsg","msgMap","msgTxt","setMsgMap","transMsg","getMsgs","updateMsgs","msgsMapToUpdate","msgService","API_KEY","setApiKey","initMap","containerEl","center","lat","lng","connectionRes","_connectGoogleApi","google","maps","Map","zoom","mapId","elScript","body","append","onerror","setHtmlMarkerClass","getCoordBySearchStr","locationSearchStr","_createGeocodeAPI","addElementToMap","location","_createDefaultMarkEl","HtmlMarker","removeElementFromMap","onRemove","googleMapService","OverlayView","html","setMap","updatePosition","newPosition","draw","onAdd","div","getPanes","overlayMouseTarget","point","getProjection","fromLatLngToDivPixel","parentNode","removeChild","elementService","dataToCss","rullType","AccountsPreviewMap","updateAccountMapPreview","selectedAccounts","prevEl","addAccountMapPreview","newEl","createAccountMapEl","oldMsgsEl","msgs","_getAccountPreviewSelector","hidden","oninput","removeAccountFromMap","clearAllAccountsData","mapService","toast","olCloseCb","borderRadius","boxShadow","scssVars","lightShadow","backgroundColor","marginInlineEnd","fontWeight","textDecoration","animationName","animationDuration","backgroundSize","flexDirection","alignItems","toastEl","isClosed","onClose","A_Alert","isAbsolute","styleTemplateStr","_getDefaultAlertStyle","placeHolder","_seStatePromise","alertHtmlStr","_render","elAlert","idClass","RootClass","pasitionClass","compactClass","state","onsubmit","event","_promptResolve","_alertResolveFalse","_alertResolveUndefined","_alertResolveTrue","prmCbFunc","currTypeClassName","isPending","remove","_show","_hide","counter","Alert","Prompt","Confirm","alertService","chatData","accounts","room","msgTo","autoLocationInterval","accountsToShow","disconnectEvents","to","isAccountInMsg","accountInMsgIdx","toggleAccountToMsg","handleError","saveMsgs","ui","maxDistM","edRoutes","EdApp","MapPage","MsgEdit","Vue","use","VueRouter","routes","router","initState","_commonStore","getters","isRootLoading","rootError","mutations","setRootLoading","setError","resetCommonState","newState","actions","resetState","commit","commonStore","common","authService","getUserInfo","StoreAjax","dispatch","do","toDo","onSuccess","onError","dontDelay","message","basicStoreService","_authStore","namespaced","role","setLoading","setLoggedUser","updateOrgStatus","organizationId","newStatus","_Ajax","root","authStore","auth","selectedAccount","_accountStore","totalAccounts","setProp","setAccountData","setSelectedAccount","removeAccount","setFilterBy","accountsRes","accountStore","settingsService","getSettings","updateSettings","settingsToUpdate","_settingsStore","setSettings","settingsRes","newSettings","settingsStore","dashboardService","getDashboardData","_dashboardStore","setData","dashboardRes","dashboardStore","dashboard","_edStore","setMsgs","msgsMapRes","newMsgs","edStore","ed","Vuex","Store","VueI18n","i18n","messages","en","he","config","productionTip","store","App","$mount","getGeoLocation","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","_getPositionError","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR"],"mappings":"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","file":"js/app.4f092452.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormInput.vue?vue&type=style&index=0&id=028c596a&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaginationBtns.vue?vue&type=style&index=0&id=a40cdea8&prod&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fontSizeSmaller\":\"12px\",\"fontSizeSmall\":\"100px\",\"fontSizeNormal\":\"15px\",\"fontSizeMedium\":\"17px\",\"fontSizeBig\":\"18px\",\"appFont\":\"sans-serif\",\"smallScreenBreak\":\"800px\",\"mediumScreenBreak\":\"1200px\",\"bigScreenBreak\":\"1500px\",\"clr1\":\"#000\",\"clr2\":\"gray\",\"clr3\":\"blue\",\"clrSafe\":\"green\",\"clrWarn\":\"#ff0\",\"clrDanger\":\"red\",\"lightShadow\":\"0px 0px 10px 1px rgba(0,0,0,0.1)\"};","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.settings)?_c('div',{staticClass:\"app\",class:{ rtl: _vm.isRtl, dark: _vm.isDarkMode },attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"app-content\"},[_c('AppAside'),_c('div',{staticClass:\"right\"},[_c('AppHeader',{on:{\"action\":function($event){_vm.isLoading = true},\"endAction\":function($event){_vm.isLoading=false}}}),_c('main',{staticClass:\"app-main\"},[_c('router-view',{staticClass:\"main-content\"})],1)],1)],1),_c('AppFooter')],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('header',{staticClass:\"app-header flex align-center\"},[_c('div',{staticClass:\"container width-all flex align-center space-between\"},[_c('router-link',{attrs:{\"to\":{name: 'HomePage'}}},[_c('CreditLogo')],1),_c('button',{staticClass:\"nav-burger\",on:{\"click\":function($event){_vm.mobileShow = !_vm.mobileShow}}},[_c('img',{attrs:{\"src\":require('@/assets/images/mine/navBurger.png')}})]),(_vm.mobileShow)?_c('div',{staticClass:\"blure\",on:{\"click\":function($event){_vm.mobileShow = false}}}):_vm._e(),_c('nav',{class:{show: _vm.mobileShow}},[_c('router-link',{attrs:{\"to\":{name: 'SettingsPage'}}},[_vm._v(_vm._s(_vm.$t('settings')))]),(_vm.isAdmin)?_c('router-link',{attrs:{\"to\":{name: 'EdMsgEdit'}}},[_vm._v(_vm._s(_vm.$t('msgs')))]):_vm._e(),(!_vm.loggedUser)?_c('router-link',{attrs:{\"to\":{name: 'LoginPage'}}},[_vm._v(_vm._s(_vm.$t('login')))]):[_c('router-link',{attrs:{\"to\":{name: 'EdMapPage'}}},[_vm._v(\"ED\")]),_c('button',{on:{\"click\":_vm.logout}},[_vm._v(_vm._s(_vm.$t('logout')))])]],2)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"credit-logo\"},[_vm._v(\"Aviv\"),_c('span',[_vm._v(\"Js\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"credit-logo\">Aviv<span>Js</span></div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"CreditLogo\"\r\n}\r\n</script>\r\n\r\n<style>\r\n.credit-logo {\r\n  font-family: 'Courier New', Courier, monospace;\r\n  font-weight: bold;\r\n  font-size: 20px;\r\n  display: inline-block;\r\n  color: red;\r\n}\r\n.credit-logo span {\r\n    color: black;\r\n    text-transform: lowercase;\r\n}\r\n.credit-logo span:before {\r\n    content: '.';\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreditLogo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreditLogo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreditLogo.vue?vue&type=template&id=df998aa2&\"\nimport script from \"./CreditLogo.vue?vue&type=script&lang=js&\"\nexport * from \"./CreditLogo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CreditLogo.vue?vue&type=style&index=0&id=df998aa2&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <header class=\"app-header flex align-center\">\r\n    <div class=\"container width-all flex align-center space-between\">\r\n      <router-link :to=\"{name: 'HomePage'}\"><CreditLogo/></router-link>\r\n      <button @click=\"mobileShow = !mobileShow\" class=\"nav-burger\"><img :src=\"require('@/assets/images/mine/navBurger.png')\"/></button>\r\n      <div class=\"blure\" v-if=\"mobileShow\" @click=\"mobileShow = false\"></div>\r\n      <nav :class=\"{show: mobileShow}\">\r\n        <router-link :to=\"{name: 'SettingsPage'}\">{{$t('settings')}}</router-link>\r\n        <router-link v-if=\"isAdmin\" :to=\"{name: 'EdMsgEdit'}\">{{$t('msgs')}}</router-link>\r\n        <router-link v-if=\"!loggedUser\" :to=\"{name: 'LoginPage'}\">{{$t('login')}}</router-link>\r\n        <template v-else>\r\n          <router-link :to=\"{name: 'EdMapPage'}\">ED</router-link>\r\n          <button @click=\"logout\">{{$t('logout')}}</button>\r\n        </template>\r\n      </nav>\r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nimport CreditLogo from './CreditLogo.vue'\r\nexport default {\r\n  name: 'AppHeader',\r\n  data() {\r\n    return {\r\n      mobileShow: false\r\n    }\r\n  },\r\n  computed: {\r\n    loggedUser() {\r\n      return this.$store.getters['auth/loggedUser'];\r\n    },\r\n    isAdmin() {\r\n      return this.$store.getters['auth/isAdmin'];\r\n    }\r\n  },\r\n  methods: {\r\n    async logout() {\r\n      this.$emit('action');\r\n      try {\r\n        await this.$store.dispatch('auth/logout');\r\n        this.$router.push({name: 'LoginPage'});\r\n      } catch(e) {}\r\n      this.$emit('endAction');\r\n    }\r\n  },\r\n  watch: {\r\n    '$route.path'() {\r\n      this.mobileShow = false;\r\n    }\r\n  },\r\n  components: { CreditLogo },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/styles/global/index';\r\n.app-header {\r\n  position: relative;\r\n  nav {\r\n    @include flex-center;\r\n    flex-wrap: wrap;\r\n    justify-content: flex-end;\r\n    gap: 10px;\r\n  }\r\n  .nav-burger {\r\n    display: none;\r\n  }\r\n  @media (max-width: $small-screen-breake) {\r\n    $height: calc(100vh - #{$header-height});\r\n    .nav-burger {\r\n      display: block;\r\n      width: 25px;\r\n      height: 25px;\r\n      font-weight: bold;\r\n      @include font-size-big;\r\n      // font-size: 22px;\r\n    }\r\n    .blure {   \r\n      position: fixed;\r\n      top: $header-height;\r\n      right: 0;\r\n      height: $height;\r\n      width: 100vw;\r\n      background-color: $blure-clr;\r\n      z-index: 9;\r\n    }\r\n    nav {\r\n      display: block;\r\n      position: fixed;\r\n      z-index: 10;\r\n      height: $height;\r\n      top: $header-height;\r\n      overflow-y: auto;\r\n      right: 0;\r\n      transform: translateX(100%);\r\n      transition: 0.3s;\r\n      &.show {\r\n        transform: translateX(0);\r\n      }\r\n      width: 175px;\r\n      border-inline-start: 1px solid black;\r\n\r\n      background-color: white;\r\n      >* {\r\n        width: 100%;\r\n        height: 100px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        border: unset;\r\n        border-radius: unset;\r\n        border-bottom: 1px solid black;\r\n        &.router-link-exact-active {\r\n          color: rgb(157, 255, 157);\r\n        }\r\n        &:hover {\r\n          background-color: rgb(190, 190, 250);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppHeader.vue?vue&type=template&id=70cbe306&scoped=true&\"\nimport script from \"./AppHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./AppHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppHeader.vue?vue&type=style&index=0&id=70cbe306&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70cbe306\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('footer',{staticClass:\"app-footer flex-center\"},[_c('div',{staticClass:\"container\"},[_c('CreditLogo')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <footer class=\"app-footer flex-center\">\r\n    <div class=\"container\">\r\n      <CreditLogo/>\r\n    </div>\r\n  </footer>\r\n</template>\r\n\r\n<script>\r\nimport CreditLogo from './CreditLogo.vue'\r\nexport default {\r\n  name: \"AppFooter\",\r\n  components: { CreditLogo }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppFooter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppFooter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppFooter.vue?vue&type=template&id=b1c69898&\"\nimport script from \"./AppFooter.vue?vue&type=script&lang=js&\"\nexport * from \"./AppFooter.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('aside',{staticClass:\"app-aside flex column\"},[_c('router-link',{staticClass:\"logo\",attrs:{\"to\":{name: 'HomePage'}}},[_vm._v(\"E.D\")]),_c('nav',{staticClass:\"flex column\"},[_c('router-link',{attrs:{\"to\":{name: 'AboutPage'}}},[_vm._v(\"!\")]),_c('router-link',{attrs:{\"to\":{name: 'SettingsPage'}}},[_vm._v(\"S\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <aside class=\"app-aside flex column\">\r\n    <router-link class=\"logo\" :to=\"{name: 'HomePage'}\">E.D</router-link>\r\n    <nav class=\"flex column\">\r\n      <router-link :to=\"{name: 'AboutPage'}\">!</router-link>\r\n      <router-link :to=\"{name: 'SettingsPage'}\">S</router-link>\r\n    </nav>\r\n  </aside>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AppAside'\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/styles/global/index';\r\n.app-aside {\r\n  .logo {\r\n    height: $header-height;\r\n    @include flex-center;\r\n  }\r\n  gap: 50px;\r\n  nav {\r\n    margin: 0 auto;\r\n    gap: 50px;\r\n    a {\r\n      width: 30px;\r\n      height: 30px;\r\n      border: 1px solid black;\r\n      border-radius: 50%;\r\n      @include flex-center;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppAside.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppAside.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppAside.vue?vue&type=template&id=5bcafa49&scoped=true&\"\nimport script from \"./AppAside.vue?vue&type=script&lang=js&\"\nexport * from \"./AppAside.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppAside.vue?vue&type=style&index=0&id=5bcafa49&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bcafa49\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\r\n\r\nexport const Utils = {\r\n    getQuerysStr,\r\n    storeToSession,\r\n    loadFromSession,\r\n    storeToStorage,\r\n    loadFromStorage,\r\n    getRandomId,\r\n    getRandomInt,\r\n    copy,\r\n    getRandomColor,\r\n    stringToLowerKabab,\r\n    getStyleStr,\r\n    deepSearch,\r\n    getElPosOnScreen\r\n};\r\n\r\n\r\n///////////////EXPORTED_FUNCTIONS///////////////\r\n///////////////EXPORTED_FUNCTIONS///////////////\r\n///////////////EXPORTED_FUNCTIONS///////////////\r\n\r\n\r\nexport function getQuerysStr(filterBy = {}) {\r\n    var queryStr = '?';\r\n    for (let key in filterBy) {\r\n        let val = (typeof(filterBy[key]) === 'object')? \r\n                            JSON.stringify(filterBy[key]) : \r\n                            filterBy[key];\r\n        queryStr += `${key}=${val}&`;\r\n    }\r\n    return queryStr.slice(0, queryStr.length-1);\r\n} \r\n\r\nexport function getQuerysStr2(criteria = {}) {\r\n    var queryStr = '?';\r\n    var criteriaJson = JSON.stringify(criteria);\r\n    queryStr += criteriaJson.substring(2, criteriaJson.length-2);\r\n    queryStr = queryStr.split('\":\"').join('=')\r\n                       .split('\",\"').join('&');\r\n    return queryStr;\r\n} \r\n\r\nexport function getRandomId() {\r\n    var pt1 = Date.now().toString(16);\r\n    var pt2 = getRandomInt(1000, 9999).toString(16);\r\n    var pt3 = getRandomInt(1000, 9999).toString(16);\r\n    return `${pt3}-${pt1}-${pt2}`.toUpperCase();\r\n}\r\n\r\nexport function getRandomInt(num1, num2) {\r\n    var max = (num1 >= num2)? num1+1 : num2+1;\r\n    var min = (num1 <= num2)? num1 : num2;\r\n    return (Math.floor(Math.random()*(max - min)) + min);\r\n}\r\n\r\nexport function copy(obj) {\r\n    if (typeof(obj) !== 'object') return obj;\r\n    var copied = (Array.isArray(obj))? [...obj] : {...obj};\r\n    var keys = Object.keys(obj);\r\n    for (let key of keys) {\r\n        if (!isNaN(+key)) key = +key;\r\n        if (copied[key] instanceof HTMLElement) continue;\r\n        copied[key] = copy(copied[key]);\r\n    }\r\n    return copied;\r\n}\r\n\r\nexport function watchOnObj(obj, cbFunc, basePath = '') {\r\n    if (!obj || typeof(obj) !== 'object') return;\r\n    let keys = Object.keys(obj);\r\n    for (let key of keys) {\r\n        let isCall = false;\r\n        let path = basePath;\r\n        path += path.length ? `.${key}` : key;\r\n        let initialVal = obj[key];\r\n        let fuildName = key;\r\n        Object.defineProperty(obj, key, {\r\n            set: function(val) {\r\n                let oldVal = key;\r\n                key = val;\r\n                if (isCall) cbFunc(val, oldVal, path);\r\n            },\r\n            get: function() {\r\n                return key;\r\n            }\r\n        });\r\n        obj[fuildName] = initialVal;\r\n        isCall = true;\r\n        if (typeof(obj[fuildName]) === 'object' && !Array.isArray(obj[fuildName]) && obj[fuildName]) watchOnObj(obj[fuildName], cbFunc, path);\r\n    }\r\n}\r\n\r\nexport function range(length, startFrom = 0) {\r\n    var arrToReturn = [];\r\n    for (let i = startFrom; i < length; i++) {\r\n        arrToReturn.push(i);\r\n    }\r\n    return arrToReturn;\r\n}\r\n\r\nexport function getRandomColor(isOpacity) {\r\n    const options = '0123456789ABCDEF';\r\n    const length = isOpacity ? 8 : 6;\r\n    var color = '#';\r\n    for (let i = 0; i < length; i++) color += options[getRandomInt(0, options.length-1)];\r\n    return color;\r\n}\r\n\r\nexport function stringToLowerKabab(str) {\r\n    const capitals = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');\r\n    let fixedStr = '';\r\n    for (let i = 0; i < str.length; i++) {\r\n        let curr = str[i];\r\n        let lowerCurr = curr.toLowerCase();\r\n        if (capitals.includes(curr)) {\r\n            if (i === 0) fixedStr += lowerCurr;\r\n            else if (str[i-1] && (str[i-1] !== ' ')) fixedStr += `-${lowerCurr}`;\r\n        } else fixedStr += lowerCurr;\r\n    }\r\n    return fixedStr;\r\n}\r\n\r\n//input: 'someKababValString' || output: some-kabab-val-string;\r\n/**@param {String} str * @param {String} separator * @param {Boolean} isLowerCase */\r\nexport function strKababToSeperator(str, separator = '-', isLowerCase = true) {\r\n    const capitals = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');\r\n    let fixedStr = '';\r\n    for (let i = 0; i < str.length; i++) {\r\n        let curr = str[i];\r\n        let fixedCharr = isLowerCase ? curr.toLowerCase() : curr;\r\n        if (capitals.includes(curr)) {\r\n            if (i === 0) fixedStr += fixedCharr;\r\n            else if (str[i - 1] && (str[i - 1] !== ' ')) fixedStr += `${separator}${fixedCharr}`;\r\n        } else fixedStr += fixedCharr;\r\n    }\r\n    return fixedStr;\r\n}\r\n\r\nfunction strSeperatorToCamel(str = '', seperator = '-') {\r\n    let res = '';\r\n    for (let i = 0; i < str.length; i++) {\r\n        if (str.slice(i, i+seperator.length) === seperator) {\r\n            let nextChar = str.charAt(i+seperator.length);\r\n            res += nextChar.toUpperCase();\r\n            i += seperator.length;\r\n        } else {\r\n            res += str.charAt(i).toLowerCase();\r\n        }\r\n    }\r\n    return res;\r\n}\r\n\r\nexport function getStyleStr(style = {}) {\r\n    var str = '';\r\n    for (let key in style) {\r\n        str += `${stringToLowerKabab(key)}:${style[key]};`;\r\n    }\r\n    return str;\r\n} \r\n\r\n\r\n/**@param {*} val * @param {*} searchVal * @param {Boolean} isIgnoreCase * @param {Boolean} isIncluded*/\r\nexport function deepSearch(val, searchVal, isIgnoreCase = true, isIncluded = true) {\r\n    if (val === searchVal) return true;\r\n    if (typeof(val) === 'object') {\r\n        for (let key in val) {\r\n            let curr = val[key];\r\n            if (curr === searchVal) return true;\r\n            else if (typeof(curr) === 'string' && typeof(searchVal) === 'string') {\r\n                if (isIgnoreCase) {\r\n                    let lowerSearchVal = searchVal.toLowerCase();\r\n                    if (isIncluded && curr.toLowerCase().includes(lowerSearchVal)) return true;\r\n                    else if (!isIncluded && curr.toLowerCase() === lowerSearchVal) return true;\r\n                }\r\n                else if (isIncluded && curr.includes(searchVal)) return true;\r\n            }\r\n            else if (deepSearch(curr, searchVal, isIgnoreCase)) return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nexport function createBoard(height = 30, width = 30, createCell = (pos) => `${pos.i}-${pos.j}`) {\r\n    var board = [];\r\n    for (let i = 0; i < height; i++) {\r\n        board[i] = [];\r\n        for (let j = 0; j < width; j++) {\r\n            board[i][j] = createCell({i,j});\r\n        }\r\n    }\r\n    return board;\r\n}\r\n\r\nexport function padNum(num, length = 2) {\r\n    var numStr = num.toString();\r\n    if (numStr.length >= length) return numStr;\r\n    return '0'.repeat(length-numStr.length) + numStr;\r\n}\r\n\r\nexport function mapArrBy(arr, byField = 'id') {\r\n    const map = {};\r\n    for (let i = 0; i < arr.length; i++) {\r\n        const curr = arr[i];\r\n        const key = curr[byField];\r\n        map[key] = arr[i];\r\n    }\r\n    return map;\r\n}\r\n\r\n\r\n//input: ({adress: {city: Jerusalem}}, 'adress.city') || output: 'jerusalem';\r\n/**@param {Object} obj * @param {String} field */\r\nexport function getDeepVal(obj, field) {\r\n    const splited = field.split('.');\r\n    let val = obj;\r\n    for (const curr of splited) {\r\n      if (!val[curr]) {\r\n        val = null;\r\n        break;\r\n      } else val = val[curr];\r\n    }\r\n    return val;\r\n}\r\n\r\nexport function setDeepVal(obj, field, val, seperator = '.') {\r\n    const splited = field.split(seperator);\r\n    const firstField = splited.shift();\r\n    if (splited.length) {\r\n        if (!obj[firstField]) obj[firstField] = {};\r\n        setDeepVal(obj[firstField], splited.join(seperator), val);\r\n    }\r\n    else obj[firstField] = val;\r\n}\r\n\r\n\r\nexport function copyToClipBoard(val) {\r\n    const el = document.createElement('textarea');\r\n    el.value = val;\r\n    document.body.appendChild(el)\r\n    el.select();\r\n    document.execCommand('copy');\r\n    document.body.removeChild(el);\r\n}\r\n\r\n\r\nexport function getElPosOnScreen(el) {\r\n    const pos = {y: 0, x: 0};\r\n    if (!el) return pos;\r\n    let _el = el;\r\n    while(_el.tagName !== 'BODY') {\r\n      pos.y += _el.offsetTop;\r\n      pos.x += _el.offsetLeft;\r\n      _el = _el.offsetParent;\r\n    }\r\n    return pos;\r\n}\r\n\r\n\r\nexport function sortEverything(sorter = '', isSortUp = true) {\r\n    const sorDirection = isSortUp ? 1 : -1;\r\n    return (item1, item2) => {\r\n        let val1 = getDeepVal(item1, sorter);\r\n        let val2 = getDeepVal(item2, sorter);\r\n        if (!isNaN(+new Date(val1))) {\r\n            val1 = new Date(val1);\r\n            val2 = new Date(val2);\r\n        } else if (!isNaN(+val1)) {\r\n            val1 = +val1;\r\n            val2 = +val2;\r\n        }\r\n        if (typeof val1 === 'number') return isSortUp? val1 - val2 : val2 - val1; \r\n        else return (val1 > val2) ? 1 * sorDirection : -1 * sorDirection;\r\n    }\r\n}\r\n\r\n\r\nfunction everythingToCamelCase(str, sep = '-', isCapitalCase = false) {\r\n    const capitalCase = str.split(sep)\r\n            .map(curr => curr.charAt(0).toUpperCase() + curr.slice(1).toLowerCase())\r\n            .join('');\r\n            \r\n    return isCapitalCase\r\n        ? capitalCase \r\n        : capitalCase.charAt(0).toLowerCase() + capitalCase.slice(1);\r\n}\r\n\r\nexport const avgFromItems = (items = [], deepField = '') => {\r\n    if (deepField) items = items.map(c => getDeepVal(c, deepField));\r\n    return items.reduce((acc, curr) => acc + curr, 0) / items.length;\r\n}\r\n\r\n\r\nexport function deepIterateWithObj(obj, cb, seperator = '.', rootKey = '') {\r\n    for (let key in obj) {\r\n      let val = obj[key];\r\n      const deepKey = rootKey? `${rootKey}${seperator}${key}` : key;\r\n      if (typeof val === 'object') deepIterateWithObj(val, cb, seperator, deepKey);\r\n      else cb(deepKey, val);\r\n    }\r\n}\r\n\r\nexport function delay(timeMs = 2000) {\r\n    return new Promise((resolve => {\r\n        setTimeout(resolve, timeMs);\r\n    }));\r\n}\r\n\r\n\r\nexport function getCreateErrMsg(fileName) {\r\n  return (msg, funcName, err = '') => `${msg} | at: ${fileName} file, function: ${funcName} | err: ${err.message || err.msg || 'unknown'}`;\r\n}\r\n\r\nexport function createFriendlyError(err = '', status = 500,  message = '') {\r\n  const error = err.err || err.error || err.message || err.msg || err;\r\n  return {\r\n    err: error,\r\n    status,\r\n    message: message || error,\r\n  }\r\n}\r\n\r\nexport function getOriginsInAllProtocols(...origins) {\r\n  const protocols = ['http', 'https', 'ws', 'wss'];\r\n  return origins.reduce((acc, c) => {\r\n    return [...acc, ...protocols.reduce((_acc, protocol) => {\r\n        return [..._acc, `${protocol}://127.0.0.1:${c}`, `${protocol}://localhost:${c}`];\r\n      }, [])\r\n  ]}, []);\r\n}\r\n\r\nexport function fixDeepQuery(quer) {\r\n  const fixed = {};\r\n  for (let key in quer) fixed[key] = JSON.parse(quer[key]);\r\n  return fixed;\r\n}\r\n\r\nexport function noop() {}; \r\n  \r\n\r\n//////////////////STORAGE_SERVICE////////////////////\r\n//////////////////STORAGE_SERVICE////////////////////\r\n//////////////////STORAGE_SERVICE////////////////////\r\n\r\nexport function storeToSession(key, value) {\r\n    sessionStorage.setItem(key, JSON.stringify(value || null));\r\n}\r\nexport function loadFromSession(key) {\r\n    var data = sessionStorage.getItem(key);\r\n    return (data) ? JSON.parse(data) : undefined;\r\n}\r\n\r\n\r\nexport function storeToStorage(key, value) {\r\n    localStorage.setItem(key, JSON.stringify(value)|| null);\r\n}\r\nexport function loadFromStorage(key) {\r\n    let data = localStorage.getItem(key);\r\n    return (data) ? JSON.parse(data) : undefined;\r\n}\r\n\r\n///////////////PROTOTYPES///////////////\r\n///////////////PROTOTYPES///////////////\r\n///////////////PROTOTYPES///////////////\r\n\r\nexport function setPrototypes() {\r\n    Array.prototype.random = function(startIdx = 0, endIdx = this.length-1) {\r\n        return this[getRandomInt(startIdx, endIdx)]\r\n    }\r\n    Array.prototype.shuffle = function() {\r\n        var copy = this.slice();\r\n        var shuffled = [];\r\n        for (let i = 0; i < this.length; i++) {\r\n            shuffled.push(copy.splice(getRandomInt(0, copy.length-1), 1)[0]);\r\n        }\r\n        return shuffled;\r\n    }\r\n\r\n    String.prototype.random = function(startIdx = 0, endIdx = this.length-1) {\r\n        return this[getRandomInt(startIdx, endIdx)]\r\n    }\r\n    String.prototype.shuffle = function() {\r\n        var copy = this.split('');\r\n        var shuffled = [];\r\n        for (let i = 0; i < this.length; i++) {\r\n            shuffled.push(copy.splice(getRandomInt(0, copy.length-1), 1)[0]);\r\n        }\r\n        return shuffled.join('');\r\n    }\r\n    String.prototype.multiReplace = function(searchValue, replaceValue) {\r\n        replaceValue += '';\r\n        var str = this;\r\n        var counter = 0;\r\n        for (let i = 0; i < str.length; i++) {\r\n            if (str[i] === searchValue[counter]) counter++;\r\n            else counter = 0;\r\n            if (counter === searchValue.length) {\r\n                str = str.substring(0, i-counter+1)+replaceValue+str.substring(i+1);\r\n                counter = 0;\r\n                i -= (searchValue.length-replaceValue.length);\r\n            }\r\n        }\r\n        return str;\r\n    }\r\n    JSON.require = require;\r\n}\r\n\r\nfunction require(path, isAsync = false) {\r\n    var XmlReq = new XMLHttpRequest();\r\n    XmlReq.overrideMimeType('application/json');\r\n    XmlReq.open('GET', path, isAsync);\r\n    const checkSuccess = () => (XmlReq.readyState === XMLHttpRequest.DONE && XmlReq.status === 200);\r\n    const checkFailior = () => (XmlReq.readyState === XMLHttpRequest.DONE && XmlReq.status !== 200);\r\n    const ErrorMsg = `could not load from path: ${path}`;\r\n    if (isAsync) {\r\n        return new Promise((resolve, reject) => {\r\n            XmlReq.onreadystatechange = () => {\r\n                if (checkSuccess()) resolve(JSON.parse(XmlReq.responseText));\r\n                else if (checkFailior()) reject(ErrorMsg);\r\n            }\r\n            XmlReq.send(null);\r\n        });\r\n    } \r\n    XmlReq.send(null);\r\n    if (checkSuccess()) return JSON.parse(XmlReq.responseText);\r\n    else if (checkFailior()) throw new Error(ErrorMsg);\r\n}","import utils from './util.service';\r\n\r\nimport axios from 'axios';\r\naxios.default.withCredentials = true;\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n  ? 'api/'\r\n  : 'http://localhost:3000/api/';\r\n\r\n\r\nasync function ajax(endpoint = '', method = 'get', data = {}, params = {}, headers = {}) {\r\n  try {\r\n    const res = await axios({\r\n      url: BASE_URL + endpoint,\r\n      method,\r\n      data,\r\n      params,\r\n      headers,\r\n      withCredentials: true\r\n    });\r\n    return res.data;\r\n  } catch(err) {\r\n    return _handleError(err);\r\n  }\r\n}\r\n\r\nexport const httpService = {\r\n  url: BASE_URL,\r\n  ajax,\r\n  get: (endpoint, query) => ajax(endpoint, 'GET', {}, query),\r\n  post: (endpoint, data, headers) => ajax(endpoint, 'POST', data, {}, headers),\r\n  put: (endpoint, data) => ajax(endpoint, 'PUT', data),\r\n  delete: (endpoint, data) => ajax(endpoint, 'DELETE', data),\r\n  download\r\n}\r\n\r\n\r\nasync function download(endpoint, params) {\r\n  const url = `${BASE_URL}${endpoint}${utils.getQuerysStr(params)}`;\r\n  let fileName;\r\n  let blob;\r\n  try {\r\n      const res = await fetch(url, { credentials: 'include' });\r\n      if (res.status !== 200) throw { ...await res.json(), status: res.status };\r\n\r\n      const nameHeader = res.headers.get('content-disposition');\r\n      fileName = nameHeader.slice(nameHeader.indexOf('=') + 1);\r\n      blob = await res.blob();\r\n  } catch (err) {\r\n      return _handleError(err);\r\n  }\r\n\r\n  const objUrl = URL.createObjectURL(blob);\r\n  const elLink = document.createElement('a');\r\n  elLink.href = objUrl;\r\n  elLink.download = fileName;\r\n  elLink.click();\r\n}\r\n\r\nfunction _handleError(err) {\r\n  // console.error(err);\r\n  // return err.response?.data || err;\r\n  // throw err;\r\n  throw err.response?.data || err;\r\n}","import { io } from 'socket.io-client';\r\nimport { httpService } from './http.service';\r\n\r\n// const BASE_URL = httpService.url;\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n  ? '/'\r\n  : '//localhost:3000';\r\nvar socket = null;\r\n\r\nexport const socketService = {\r\n  connect,\r\n  disconnect,\r\n  on,\r\n  off,\r\n  emit\r\n}\r\n\r\nfunction on(evName, cb) {\r\n  socket?.on(evName, cb);\r\n}\r\nfunction off(evName, cb) {\r\n  socket?.off(evName, cb);\r\n}\r\nfunction emit(evName, ...args) {\r\n  socket?.emit(evName, ...args);\r\n}\r\n\r\nfunction connect() {\r\n  if (socket) return socket;\r\n  // socket = io(BASE_URL);\r\n  socket = io(BASE_URL, {\r\n    withCredentials: true,\r\n    // reconnection: false,\r\n    // reconnectionDelayMax: 10000,\r\n    // auyh: { token },\r\n    // query: { key: 'val' },\r\n    // transportOptions: {\r\n    //   polling: {\r\n    //     extraHeaders: {\r\n    //       'SAME_HEADER': 'VAL'\r\n    //     }\r\n    //   }\r\n    // }\r\n  });\r\n  \r\n  return socket;\r\n}\r\n\r\nfunction disconnect() {\r\n  if (!socket) return;\r\n  socket.disconnect();\r\n  socket = null;\r\n}","export class EventEmiter {\r\n  Events = {};\r\n\r\n  on = (eventName, cb) => {\r\n      if (!this.Events[eventName]) this.Events[eventName] = [];\r\n      this.Events[eventName].push(cb);\r\n      return () => this.off(eventName, cb);\r\n  }\r\n\r\n  off = (eventName, cb) => {\r\n      if (!cb) {\r\n          delete this.Events[eventName];\r\n          return;\r\n      }\r\n      var idx = this.Events[eventName].findIndex(curr => curr === cb);\r\n      if (idx === -1) return;\r\n      this.Events[eventName].splice(idx, 1);\r\n  }\r\n\r\n  emit = (eventName, ...args) => {\r\n      if (!this.Events[eventName]) return;\r\n      this.Events[eventName].forEach(curr => curr(...args));\r\n  }\r\n}\r\n\r\nexport default new EventEmiter();","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"loader\"},[_c('div',{staticClass:\"blure\"}),_c('AnimationLoader',{staticClass:\"preview\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"animated-loader-container\"})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * TODO:\r\n *  * Canvas vertical rotation\r\n *  * Fix grid lines rotate\r\n */\r\n\r\n\r\n/**\r\n * README.md file::\r\n * \r\n\r\n # Canvas Service\r\nThe role of this service is to help with canvas rendering and paint logic\r\n\r\nthe canvas service needs to get a parent element selector to know where to be rendered\r\n\r\n## Documentation\r\n\r\nExample for service usage:\r\n```javascript\r\nconst canvasService = new CanvasService(board, canvasOptions, renderShapeCb, listeners);\r\n\r\ncanvasService.updateCells(shapes, optional findIndexCb) // use to add new shapes / update an existed ones\r\ncanvasService.removeCell(shapeFindIndexOrCb);           // use to remove shape \r\ncanvasService.updateBoard(newBoard);                    // use to upfate the given board\r\n\r\n\r\ncanvasService.removeWindowEventListeners(); // after removing canvas element / destroy\r\n\r\n```\r\n\r\nExample for canvasOptions param (the only required one is the selector):\r\n```java script\r\nconst canvasOptions = { \r\n    selector: 'body', // required!\r\n    context: null,\r\n    bgc: 'white',\r\n    enableZoom: false,\r\n    enableScrollUi: false,\r\n    enableZoomUi: false,\r\n    enableFlipUi: false,\r\n    enableMirrorUi: false,\r\n    initZoomLevel: 1,\r\n    initRootRenderPos: { x: 0, y: 0 },\r\n    loadImgCb: null,\r\n    enableAnimation: false,\r\n    flipLevel: 1,\r\n    grid: {\r\n        space: 50,\r\n        style: {\r\n            // linePattern: [10, 10]\r\n        // }\r\n    }\r\n}\r\n```\r\n\r\n\r\nexamples for boards can be sent to the service:\r\n```java script\r\nconst matrixBoard = [\r\n     ['*', '*', '*'],\r\n     ['*', '*', '*'],\r\n     ['*', '*', RenderOpts],\r\n ];\r\n\r\n const nonMatrixBoard = {  //  (better)\r\n    width: 100,\r\n    height: 100,\r\n    shapes: [RenderOpts],     // shapes and static shapes are the same, but shapes are dynamicly rendered in each render\r\n    staticShapes: [RenderOpts]\r\n };\r\n```\r\n\r\nExample for shape render opts:\r\n\r\n<br /> Enumerator: One of opts | example: Enumerator('north', 'west') means you can put 'north'/'west' as the value of the property\r\n<br /> Range: A number between | example: Range(0, 100) means you can put any number between 1 and 100 as the value of the property\r\n\r\nall the strict properties are the same of their non strict, but wont be changed to ratio;\r\n\r\n\r\n```java script\r\n const RenderOpts = {\r\n    hide: Boolean,\r\n    style: {      // most props are simply canvas style properties \r\n        fillStyle: String,   // color\r\n        strokeStyle: String, // color\r\n        lineWidth: Number,\r\n        strictLineWidth: Number,\r\n        font: String('Ariel'),\r\n        textAlign: Enumerator('center', 'right', 'left'),\r\n        textBaseline: Enumerator('middle', 'top', 'bottom'),\r\n        gradientBgc: {\r\n            colors: [\r\n                { offset: 0, val: 'rgba(255,255,255,1)' },\r\n                { offset: 1, val: 'rgba(255,255,255,0)' },\r\n            ],\r\n            angle: Range(0, 360),\r\n            autoCalcGeoShapeSize: Boolean // for geoShape, is has no w/h properties so needed to auto calc\r\n        // linePattern: [Number], // for setLineDash context method;\r\n        // strictLinePattern: [Number], // for setLineDash context method;\r\n        circleCounterClockWise: Boolean,\r\n        lineCap: Enumerator('round'),\r\n        clear: Boolean // to clear the given shape\r\n    },\r\n    img: Enumerator(String('SOME_IMG.src'), ElementImage),  // for image rendering\r\n    text: String,                                           // for text rendernig\r\n    geoShape: [{X: Number, y: Number}],                     // for geoshape rendering\r\n    circleDegries: Range(0, 360),                                 // [StartDeg, endDeg]     // for circle rendering\r\n    closeCircle: Boolean,                                   // to close the circle to its center\r\n    grid: {                                                 // for grid lines rendering inside the shape (paints a rect)\r\n        x: { space, align, strictSpace, rotate, style }, \r\n        y: {}, \r\n        space: Number,                                  // the space between the grid lines\r\n        align: Enumerator('start', 'center', 'end' ),\r\n        style,                  // same as RenderOpts.style prop\r\n        rotate: Number,         // the rotation/degries of the grid lines; STILL IN DEVELOPMENT;\r\n        strictSpace: Number\r\n    },\r\n\r\n    zIndex: Number,   //  the controll the order of the shapes in the z axis;\r\n\r\n    // mirror: Boolean,        \r\n    // flip: Boolean,\r\n\r\n    scale: [x, y],          // number values for contex.scale property\r\n    strictScale: [x, y],\r\n    dontScale: Boolean,     // to force the shape not to scale, even if canvas rotated \r\n\r\n    x: Number,          // pos on x axis\r\n    y: Number,          // pos on y axis\r\n    w: Number,          // shape width\r\n    h: Number,          // shape height\r\n    rotate: Range(0, 360), // shape roation around it self\r\n    isCenterPos: Boolean,  // tells if the pos refers to the top-left corner or, if true, to its center\r\n    \r\n    strictW: Number,\r\n    strictH: Number,\r\n    strictX: Number,\r\n    strictY: Number,\r\n    strictR: Number, // strict rotate\r\n\r\n    children: [RenderOpts] // nested opts - position are relative to parent, no rotation; works fine for cercle and geoShape (as children)\r\n}\r\n```\r\n\r\n\r\nExample for renderShapeCb param (optional) - used to render shapes dynamicly without changing the board:\r\n<br />shape is each cell in the board mat, or each shape the board shapes;\r\n<br />drawOpts are the render properties after calcing it whth the oard to canvas ratio;\r\n<br />context is a canvas.context object;\r\n<br />the function needs to return a RenderOpts object or an array of ones;\r\n```java script\r\nconst renderCb = (shape, drawOpts, context, service) => {\r\n    const res = [\r\n        {\r\n            img: 'space_ship.png', isCenterPos: true\r\n        }\r\n    ]\r\n    if (shape.code === selectedItemCode) {\r\n        res.push(\r\n            {x: shape.x + shape.w, y: shape.y, w: 25, text: `${shape.x}, ${shape.y}`}\r\n        );\r\n    }\r\n    return res;\r\n}\r\n```\r\n\r\n\r\nExample for listeners param (optiobal):\r\n```java script\r\nconst listeners = {\r\n    click(ev, pos) {\r\n        console.log(pos);\r\n        const item = findItemByPos(pos);\r\n        if (item) console.log(item);\r\n    },\r\n    render() { // costume event\r\n        console.log('rendered!');\r\n    },\r\n    mousemove(ev, pos) {\r\n        const item = findItemByPos(pos);\r\n        if (item) {\r\n            selectedItemCode = item.code;\r\n            canvasService.elCanvas.style.cursor = 'pointer';\r\n        } else {\r\n            canvasService.elCanvas.style.cursor = 'default';\r\n        }\r\n    }\r\n}\r\n```\r\n*/\r\n\r\n\r\n\r\n// module.exports.CanvasService = class CanvasService {\r\nexport class CanvasService {\r\n    static id = 0;\r\n    static imgSrcMap = {};\r\n    \r\n    elParent = null;\r\n    element = null;\r\n    elCanvas = null;\r\n    context = null;\r\n    isDragOn = false;\r\n    scrollSizes = null;\r\n    lastZoomPos = null;\r\n    zoomLevel = 1;\r\n    rootRenderPos = { x: 0, y: 0 };\r\n    isRenderData = true;\r\n    windowEvsMap = {};\r\n    resizeObserver = null;\r\n    intervals = {};\r\n    isMirrorX = false;\r\n    isMirrorY = false;\r\n    inited = false;\r\n    mapedStaticShapesToRender = [];\r\n    \r\n    constructor( \r\n        board = [],\r\n        canvasOpts = { \r\n            selector: 'body',\r\n            context: null,\r\n            bgc: 'white',\r\n            enableZoom: false,\r\n            enableScrollUi: false,\r\n            enableZoomUi: false,\r\n            enableFlipUi: false,\r\n            enableMirrorUi: false,\r\n            initZoomLevel: 1,\r\n            initRootRenderPos: { x: 0, y: 0 },\r\n            loadImgCb: null,\r\n            enableAnimation: false,\r\n            flipLevel: 1,\r\n            grid: {\r\n                x: 0,\r\n                y: 0,\r\n                style: {}\r\n            }\r\n        },\r\n        getCellContectCb = null, // (cell = {}, drawOpts = {x: 0, y: 0}, context = CanvasRenderingContext2D) => RenderOpts\r\n        listeners = {}\r\n        ) {\r\n    \r\n        this.id = 'fucking-legendary-canvas-' + this.constructor.id++;\r\n        this.board = board;\r\n        this.canvasOpts = canvasOpts;\r\n        this.getCellContectCb = getCellContectCb;\r\n        this.listeners = listeners;\r\n        \r\n        this.setup();\r\n    \r\n        this.inited = true;\r\n    }\r\n    \r\n    // setup: This function setup all the data and elements of the service\r\n    setup() {\r\n        if (this.isServeMode) return this.init();\r\n\r\n        const  { canvasOpts } = this;\r\n\r\n        const elParent = this.elParent = document.querySelector(canvasOpts.selector);\r\n        // if (this.element) try { elParent.removeChild(this.element); } catch (e) { elParent.innerHTML = '' }\r\n        elParent.innerHTML = '';\r\n        const elCanvasContainer = document.createElement('div');\r\n        this.elCanvasContainer = elCanvasContainer;\r\n        elCanvasContainer.style = 'position:relative;display:flex;align-items:center;justify-content:center;';\r\n        elCanvasContainer.id = this.id;\r\n        this.element = elCanvasContainer;\r\n        \r\n        const elCanvas = document.createElement('canvas');\r\n        this.context = elCanvas.getContext('2d');\r\n        this.elCanvas = elCanvas;\r\n    \r\n        elCanvasContainer.appendChild(elCanvas);\r\n        elParent.appendChild(elCanvasContainer);        \r\n    \r\n        for (let evName in this.listeners) {\r\n            if (evName === 'render') continue;\r\n            elCanvas.addEventListener(evName, (ev) => {\r\n                const pos = this.flipItem(this.getBoardPosFromCanvasDomEvent(ev))\r\n                this.listeners[evName](ev, { x: pos.x, y: pos.y }, this);\r\n            });\r\n        }\r\n        if (canvasOpts.enableZoom) this.setZoomDomEvMethods();\r\n        \r\n        this.init();\r\n    \r\n        this.setResizeEvents();\r\n        \r\n        if (canvasOpts.initZoomLevel) this.updateZoomLevel(canvasOpts.initZoomLevel - this.zoomLevel);\r\n        if (canvasOpts.initRootRenderPos) this.updateRootRenderPos(this.convertBoardSizeToCanvasSize(canvasOpts.initRootRenderPos));\r\n        if (canvasOpts.flipLevel) this.updateFlipLevel(canvasOpts.flipLevel, true);\r\n    }\r\n\r\n    // init: inits all the dynamic sizes and renders the canvas\r\n    init() {\r\n        if (this.isServeMode) {\r\n            this.canvasSize = { ...this.boardSize };\r\n            this.context = this.canvasOpts.context;\r\n            this.render();\r\n            return;\r\n        }\r\n        const canvasSize = this.calcCanvasSize();\r\n        this.canvasSize = canvasSize;\r\n        this.elCanvas.width = canvasSize.w;\r\n        this.elCanvas.height = canvasSize.h;\r\n        // this.mapedStaticShapesToRender = null;\r\n        this.setScrollSize();\r\n        this.setElActionPositions();\r\n        this.resetMapedStaticShapesToRender();\r\n        this.render();\r\n    }\r\n    \r\n    \r\n    // Getters\r\n\r\n    // the service's html selector\r\n    get selector() {\r\n        return '#' + this.id;\r\n    }\r\n    \r\n    get isMatrixBoard() {\r\n        return Array.isArray(this.board);\r\n    }\r\n    \r\n    // gives the board size after checking if it is matrix or reg mod\r\n    get boardSize() {\r\n        const { board } = this;\r\n    \r\n        const boardHeight = board.height || board.length;\r\n        const boardWidth = board.width || board[0].length;\r\n\r\n        return { w: boardWidth, h: boardHeight };\r\n    }\r\n    \r\n    // The ratio between the canvas width and the original board width;\r\n    get boardToCanvasRatio() {\r\n        return this.canvasSize.w / this.boardSize.w;\r\n    }\r\n    \r\n    // The ratio between the canvas size and the board size, calced with the canvas zoom level;\r\n    get cellSizeByboardToCanvasRatio() {\r\n        const { w: canvasWidth, h: canvasHeight } = this.canvasSize;\r\n        const { w: boardWidth, h: boardHeight } = this.boardSize;\r\n    \r\n        let h = canvasHeight / boardHeight;\r\n        let w = canvasWidth / boardWidth;\r\n    \r\n        h *= this.zoomLevel;\r\n        w *= this.zoomLevel;\r\n    \r\n        return { w, h };\r\n    }\r\n    \r\n    // the size of the canvas if it was rendered in full zoom size\r\n    get renderedCanvasSize() {\r\n        const { zoomLevel, canvasSize } = this;\r\n        return {\r\n            w: canvasSize.w * zoomLevel,\r\n            h: canvasSize.h * zoomLevel\r\n        }\r\n    }\r\n\r\n    // the area of the board that is visible to the user after zoom\r\n    get viewdArea() {\r\n        const { rootRenderPos, canvasSize, zoomLevel } = this;\r\n    \r\n        const startX = rootRenderPos.x / zoomLevel;\r\n        const startY = rootRenderPos.y / zoomLevel;\r\n    \r\n        const consvertedCanvasSize = this.convertBoardSizeToCanvasSize(canvasSize, true);\r\n        const endX = startX + consvertedCanvasSize.w;\r\n        const endY = startY + consvertedCanvasSize.h;\r\n    \r\n        return { startX, startY, endX, endY };\r\n    }\r\n    \r\n    // The position that init the render (is changed if the canvas is zoomed in, val will be under 0 for both x and y, this way only a part of the board is visible);\r\n    get canvasRootRenderPos() {\r\n        const { rootRenderPos, boardToCanvasRatio } = this;\r\n        return {\r\n            x: rootRenderPos.x*boardToCanvasRatio,\r\n            y: rootRenderPos.y*boardToCanvasRatio\r\n        }\r\n    }\r\n\r\n    // This getter tells if the service is used to serve an exist  given canvas instead of creating one;\r\n    get isServeMode() {\r\n        return this.canvasOpts.context && true;\r\n    }\r\n    \r\n    \r\n    // Methods\r\n    \r\n    \r\n    // render methods\r\n\r\n    // parse all the shape and input renderOpts to one renderOpts item;\r\n    static parseRenderOpts(shape = {}, reqOpts = {}, relativeTo) {\r\n        shape = Utils.copy(shape);\r\n        reqOpts = Utils.copy(reqOpts);\r\n        const res = {\r\n            hide: shape.hide,\r\n            x: shape.x,\r\n            y: shape.y,\r\n            w: shape.w,\r\n            h: shape.h,\r\n            zIndex: shape.zIndex || 0,\r\n            rotate: shape.rotate,\r\n            isCenterPos: shape.isCenterPos || ((shape.circleDegries || reqOpts.circleDegries) && true),\r\n            geoShape: shape.geoShape,\r\n            img: shape.img,\r\n            circleDegries: shape.circleDegries,\r\n            closeCircle: shape.closeCircle,\r\n            text: shape.text,\r\n            strictW: shape.strictW,\r\n            strictH: shape.strictH,\r\n            strictX: shape.strictX,\r\n            strictY: shape.strictY,\r\n            strictR: shape.strictR,\r\n            mirror: shape.mirror,\r\n            scale: shape.scale,\r\n            strictScale: shape.strictScale,\r\n            dontScale: shape.dontScale,\r\n            style: shape.style && {\r\n                fillStyle: shape.style.fillStyle,\r\n                strokeStyle: shape.style.strokeStyle,\r\n                font: shape.style.font,\r\n                lineWidth: shape.style.lineWidth,\r\n                strictLineWidth: shape.style.strictLineWidth,\r\n                textAlign: shape.style.textAlign,\r\n                textBaseline: shape.style.textBaseline,\r\n                // linePattern: shape.style.linePattern,\r\n                // strictLinePattern: shape.style.strictLinePattern,\r\n                circleCounterClockWise: shape.style.circleCounterClockWise,\r\n                lineCap: shape.style.lineCap,\r\n                clear: shape.style.clear,\r\n                shadowBlur: shape.style.shadowBlur,\r\n                shadowColor: shape.style.shadowColor,\r\n                shadowOffsetX: shape.style.shadowOffsetX,\r\n                shadowOffsetY: shape.style.shadowOffsetY,\r\n            } || {},\r\n            grid: shape.grid && {\r\n                style: shape.grid.style,\r\n                align: shape.grid.align,\r\n                space: shape.grid.space,\r\n                strictSpace: shape.grid.strictSpace,\r\n                rotate: shape.grid.rotate,\r\n                x: shape.grid.x && (typeof(shape.grid.x) === 'object') && {\r\n                    space: shape.grid.x.space,\r\n                    strictSpace: shape.grid.x.strictSpace,\r\n                    style: shape.grid.x.style,\r\n                    align: shape.grid.x.align,\r\n                    rotate: shape.grid.x.rotate,\r\n                } || shape.grid.x,\r\n                y:  shape.grid.y && (typeof(shape.grid.y) === 'object') && {\r\n                    strictSpace: shape.grid.y.strictSpace,\r\n                    space: shape.grid.y.space,\r\n                    style: shape.grid.y.style,\r\n                    align: shape.grid.y.align,\r\n                    rotate: shape.grid.y.rotate,\r\n                } || shape.grid.y,\r\n            },\r\n            flip: 'flip' in shape? shape.flip : true,\r\n            children: shape.children || [],\r\n            ...reqOpts,\r\n        }\r\n        if (res.circleDegries && !Array.isArray(res.circleDegries)) res.circleDegries = [0, res.circleDegries];\r\n        if (relativeTo) {\r\n            // const _valid = val => (val && (typeof val === 'number'));\r\n            [ ['strictX', 'x'], ['strictY', 'y'], ['strictR', 'rotate']].forEach(keys => {\r\n                const [strictKey, key] = keys;\r\n                const isInRel = relativeTo[key] !== undefined;\r\n                const isStrict = relativeTo[strictKey] !== undefined;\r\n                if (!isInRel && !isStrict) return;\r\n                if (isStrict) res[strictKey] = relativeTo[strictKey] + ((typeof res[strictKey] === 'number')? res[strictKey] : res[key] || 0); \r\n                else res[key] = relativeTo[key] + (res[key] || 0);\r\n            });\r\n        }\r\n        return res;\r\n    }\r\n\r\n    fixRenderOptsStyle(opts) {\r\n        const ratioW = this.cellSizeByboardToCanvasRatio.w;\r\n        const _fixStyle = (_style) => {\r\n            if (_style.linePattern) _style.linePattern = _style.linePattern.map(c => c*ratioW);\r\n            if (_style.lineWidth) _style.lineWidth *= ratioW;\r\n            if (_style.shadowBlur) _style.shadowBlur *= ratioW;\r\n            if (_style.shadowOffsetX) _style.shadowOffsetX *= ratioW;\r\n            if (_style.shadowOffsetY) _style.shadowOffsetY *= ratioW;\r\n            return _style;\r\n        }\r\n        _fixStyle(opts.style);\r\n        if (opts.grid) {\r\n            if (opts.grid.style) opts.grid.style = _fixStyle({...opts.grid.style});\r\n            opts.grid.space *= ratioW;\r\n            if (typeof(opts.grid.x) === 'object') {\r\n                opts.grid.x.space *= ratioW;\r\n                if (opts.grid.x.style) opts.grid.x.style = _fixStyle({...opts.grid.x.style});\r\n            } else opts.grid.x *= ratioW\r\n            if (typeof(opts.grid.y) === 'object') {\r\n                opts.grid.y.space *= this.cellSizeByboardToCanvasRatio.h;\r\n                if (opts.grid.y.style) opts.grid.y.style = _fixStyle({...opts.grid.y.style});\r\n            } else opts.grid.y *= this.cellSizeByboardToCanvasRatio.h\r\n        }\r\n    }\r\n\r\n    \r\n    // fix the shape and given opts to renderable item after flip and mirror;\r\n    getRenderOpts(shape = {}, reqOpts = {}, parent = null) {\r\n        let opts = this.constructor.parseRenderOpts(shape, reqOpts, parent);\r\n\r\n        if (opts.children?.length) opts.children = opts.children.map(childOpt => this.getRenderOpts(undefined, childOpt, {...opts}));\r\n        \r\n        this.fixRenderOptsStyle(opts);\r\n        \r\n        opts = this.flipItem(opts);\r\n        opts = {\r\n            ...opts,\r\n            geoShape: opts.geoShape?.map(pos => this.convertBoardSizeToCanvasSize(pos)),\r\n            ...this.getDrawOpts({\r\n                w: opts.w || 0,\r\n                h: opts.h || 0,\r\n                x: opts.x || 0,\r\n                y: opts.y || 0,\r\n            })\r\n        }\r\n        if (opts.geoShape && opts.style.gradientBgc?.autoCalcGeoShapeSize ) {\r\n            opts.style.gradientBgc.gradientSize = MathService.getPolygonSize(opts.geoShape);\r\n        }\r\n        \r\n        if (opts.grid) {\r\n            opts.children.push(\r\n                ...this.constructor.getGridLines({\r\n                    x: opts.x,\r\n                    y: opts.y,\r\n                    rotate: opts.rotate,\r\n                    // x: 0,\r\n                    // y: 0,\r\n                    w: opts.w,\r\n                    h: opts.h\r\n                }, opts.grid)\r\n            );\r\n        };\r\n        \r\n        return opts;\r\n    }\r\n\r\n    // renderShpe: converts the shape data to render format and sends it to doRenderData method;\r\n    renderShape(opts) {\r\n        if (opts.hide) return;\r\n        if (opts.img && !(opts.img instanceof Image)) {\r\n            const imgMap = this.constructor.imgSrcMap;\r\n            if (imgMap[opts.img]) {\r\n                opts.img = imgMap[opts.img];\r\n            }\r\n            else {\r\n                this.loadImage(opts.img).then(elImage => {\r\n                    imgMap[opts.img] = elImage;\r\n                    // this.doRenderData(opts, elImage);\r\n                    this.render();\r\n                });\r\n                return;\r\n            }\r\n        }\r\n        this.doRenderData(opts);\r\n    }\r\n\r\n    // this function loads an image by creating image native element, or by a loadImageCb. the cb is needed for NodeJs canvas usage;\r\n    loadImage(src) {\r\n        if (this.canvasOpts.loadImgCb) return this.loadImgCb(src);\r\n        return new Promise((resolve, reject) => {\r\n            const elImage = new Image();\r\n            elImage.src = src;\r\n            elImage.onload = () => resolve(elImage);\r\n        });\r\n    }\r\n    \r\n    // doRenderData: gets render opts and renders it to the canvas;\r\n    doRenderData(opts) {\r\n        const { context } = this;\r\n\r\n        let renderW = (opts.strictW || opts.w);\r\n        let renderH = (opts.strictH || opts.h);\r\n        let renderX = -(renderW / 2);\r\n        let renderY = -(renderH / 2);\r\n\r\n        context.save();\r\n        if (opts.strictX || opts.strictY) context.translate(opts.strictX || opts.x || 0, opts.strictY || opts.y || 0);\r\n        else if (opts.isCenterPos) context.translate(opts.x || 0, opts.y || 0);\r\n        else context.translate(opts.centerX, opts.centerY);\r\n        if (opts.rotate || opts.strictR) context.rotate((typeof opts.strictR === 'number'? opts.strictR : opts.rotate) * Math.PI / 180);\r\n        if (opts.strictScale && !opts.dontScale) context.scale(opts.strictScale[0], opts.strictScale[1]);\r\n        else if (opts.scale && !opts.dontScale) context.scale(opts.scale[0], opts.scale[1]);\r\n        \r\n        if (opts.img) {\r\n            context.drawImage(opts.img, renderX, renderY, renderW, renderH);\r\n        } else {\r\n            const { style } = opts;\r\n            context.beginPath();\r\n            \r\n            if (style.gradientBgc) {\r\n                const gradientSize = style.gradientBgc.gradientSize || { w: renderW, h: renderH };\r\n                const angle = (style.gradientBgc.angle || 0)/180*Math.PI;\r\n                const gradientBgc = context.createLinearGradient(0, 0, gradientSize.w*Math.cos(angle), (gradientSize.h)*Math.sin(angle));\r\n                style.gradientBgc.colors.forEach(clr => gradientBgc.addColorStop(clr.offset, clr.val));\r\n                context.fillStyle = gradientBgc;\r\n            } \r\n            else if (style.fillStyle) context.fillStyle = style.fillStyle;\r\n            if (style.strokeStyle) context.strokeStyle = style.strokeStyle;\r\n            if (style.strictLineWidth) context.lineWidth = style.strictLineWidth;\r\n            else if (style.lineWidth) context.lineWidth = style.lineWidth;\r\n            if (style.strictLinePattern) context.setLineDash(style.strictLinePattern);\r\n            else if (style.linePattern) context.setLineDash(style.linePattern);\r\n            if (style.lineCap) context.lineCap = style.lineCap;\r\n\r\n            if (style.shadowBlur) context.shadowBlur = style.shadowBlur;\r\n            if (style.shadowColor) context.shadowColor = style.shadowColor;\r\n            if (style.shadowOffsetX) context.shadowOffsetX = style.shadowOffsetX;\r\n            if (style.shadowOffsetY) context.shadowOffsetY = style.shadowOffsetY;\r\n\r\n            if (opts.geoShape) {\r\n                opts.geoShape.forEach((pos, idx) => {\r\n                    idx ? \r\n                        context.lineTo(pos.x, pos.y): \r\n                        context.moveTo(pos.x, pos.y);\r\n                });\r\n            } else if (opts.circleDegries) {\r\n                const circleDegries = opts.circleDegries;\r\n                const startAngle = MathService.degToRadian(circleDegries[0] || 0);\r\n                const endAngle = MathService.degToRadian(circleDegries[1] || 360);\r\n                // const centerPos = isNested? { x: opts.x || 0, y: opts.y || 0 } : { x: 0, y: 0 };\r\n                // const centerPos = { x: opts.x || 0, y: opts.y || 0 };\r\n                const centerPos = { x: 0, y: 0 };\r\n                if (opts.closeCircle) context.lineTo(centerPos.x, centerPos.y);\r\n                context.ellipse(centerPos.x, centerPos.y, renderW/2, renderH/2, 0, startAngle, endAngle, style.circleCounterClockWise);\r\n                // if (opts.closeCircle) context.lineTo(centerPos.x, centerPos.y);\r\n            } else if (opts.text) {\r\n                if (context.font) context.font = renderW + 'px ' + style.font || 'Ariel';\r\n                if (style.textAlign) context.textAlign = style.textAlign;\r\n                if (style.textBaseline) context.textBaseline = style.textBaseline;\r\n                if (style.fillStyle || style.gradientBgc) context.fillText(opts.text, 0, 0);\r\n                if (style.strokeStyle) context.strokeText(opts.text, 0, 0);\r\n            } else {\r\n                if (style.fillStyle || style.gradientBgc) context.fillRect(renderX, renderY, renderW, renderH);\r\n                if (style.strokeStyle) context.rect(renderX, renderY, renderW, renderH);\r\n            }\r\n\r\n            if (style.clear) {\r\n                context.clip();\r\n                // context.translate(-renderW, -renderH); // (0, 0);\r\n                // context.translate(-renderX, -renderY); // (0, 0);\r\n                context.setTransform(1, 0, 0, 1, 0, 0);\r\n                // context.translate(0, 0);\r\n                // context.rotate(0);\r\n                // context.scale(1, 1);\r\n                context.clearRect(0, 0, this.canvasSize.w, this.canvasSize.h);\r\n            } else {\r\n                if (style.fillStyle || style.gradientBgc || style.shadowColor) context.fill();\r\n                if (style.strokeStyle) context.stroke();\r\n            }\r\n\r\n            context.closePath();\r\n        }\r\n        context.restore();\r\n\r\n        if (opts.children?.length) opts.children.forEach(childOpt => this.renderShape(childOpt));\r\n    }\r\n    \r\n    // renderCell: gets a board cell and sends it to renderShape with render opts recieved from getCellContectCb;\r\n    renderCell(cell, pos = { y: cell.i || cell.y, x: cell.j || cell.x }) {\r\n        const opts = this.getDynamicRenderOpts(cell, pos);\r\n        opts.forEach(opt => this.renderShape(opt));\r\n    }\r\n\r\n    // gets the shape renderOpts using the getCellContectCb\r\n    getDynamicRenderOpts(cell, pos = { y: cell.i || cell.y, x: cell.j || cell.x }) {\r\n        if (cell.hide) return [];\r\n        const drawOpts = this.getDrawOpts({...this.flipItem({ x: pos.x, y: pos.y, w: cell.w, h: cell.h })});\r\n        let opts = (this.getCellContectCb) ? this.getCellContectCb(cell, drawOpts, this.context, this) : {};\r\n        if (!opts) opts = [];\r\n        else if (!Array.isArray(opts)) opts = [opts];\r\n        return opts.map(curr => this.getRenderOpts(cell, curr));\r\n    }\r\n\r\n    getBgAutoStaticShapes() {\r\n        const baseOpts = { x: 0, y: 0, ...this.boardSize }\r\n        const initShapes = [];\r\n        if (this.canvasOpts.bgc) {\r\n            initShapes.push({\r\n                ...baseOpts,\r\n                style: { fillStyle: this.canvasOpts.bgc },\r\n            });\r\n        }\r\n        if (this.canvasOpts.grid) {\r\n            initShapes.push({\r\n                ...baseOpts,\r\n                grid: this.canvasOpts.grid\r\n            });\r\n        }\r\n        return initShapes;\r\n    }\r\n\r\n    resetMapedStaticShapesToRender() {\r\n        this.mapedStaticShapesToRender = null;\r\n    }\r\n    getStaticShapesToRender() {\r\n        if (this.mapedStaticShapesToRender) return this.mapedStaticShapesToRender;\r\n        this.mapedStaticShapesToRender = [...this.getBgAutoStaticShapes(), ...this.board.staticShapes].map(c => this.getRenderOpts(c));\r\n        return this.mapedStaticShapesToRender;\r\n    }\r\n\r\n    // render: renders all the data and static shapes in the board using renderShape and renderCell methods\r\n    render() {\r\n        const { context } = this;\r\n        context.clearRect(0, 0, this.canvasSize.w, this.canvasSize.h);\r\n        const { board } = this;\r\n        // this.getBgAutoStaticShapes().forEach(c => this.renderShape(this.getRenderOpts(c)));\r\n        if (!this.isMatrixBoard) {\r\n            const dataToRender = [];\r\n            dataToRender.push(...this.getStaticShapesToRender());\r\n            // if (board.staticShapes) dataToRender.push(...board.staticShapes.map(curr => this.getRenderOpts(curr)));\r\n            if (board.shapes && this.isRenderData) dataToRender.push(...board.shapes.reduce((acc, curr) => [...acc, ...this.getDynamicRenderOpts(curr)], []));\r\n            dataToRender.sort((a, b) => a.zIndex - b.zIndex);\r\n            dataToRender.forEach(curr => this.renderShape(curr));\r\n        }\r\n        else if (this.isRenderData) {\r\n            this.getBgAutoStaticShapes().forEach(c => this.renderShape(this.getRenderOpts(c)));\r\n            // this.mapedStaticShapesToRender.forEach(curr => this.renderShape(curr));\r\n            board.forEach((arr, y) => arr.forEach((cell, x) => this.renderCell(cell, { y, x })));\r\n        }\r\n    \r\n        if (this.listeners.render) this.listeners.render();\r\n        \r\n    }\r\n\r\n    lastRenderData = null; // { timeout, at, render };\r\n    debounceRender(force = false) {\r\n        if (this.lastRenderData && !force) {\r\n            this.lastRenderData.render = true;\r\n            return;\r\n        }\r\n        this.render();\r\n        this.lastRenderData = {\r\n            render: false,\r\n            at: new Date(),\r\n            timeout: setTimeout(() => {\r\n                const toRender = this.lastRenderData?.render;\r\n                this.lastRenderData = null;\r\n                if (toRender) this.debounceRender();\r\n            }, 10)\r\n        }\r\n    }\r\n\r\n\r\n    // board update methods\r\n    \r\n    \r\n    // board setter - to make sure the board has all the relevant data;\r\n    set board(board) {\r\n        if (!board) board = { width: 10000, height: 10000 };\r\n        this._board = {...board};\r\n        const { _board } = this;\r\n        if (!this.isMatrixBoard) {\r\n            if (!_board.staticShapes) _board.staticShapes = [];\r\n            if (!_board.shapes) _board.shapes = [];\r\n            if (!_board.width) _board.width = 1;\r\n            if (!_board.height) _board.height = 1;\r\n        }\r\n    }\r\n    get board() {\r\n        return this._board;\r\n    }\r\n\r\n    // doUpdateCell: replace a givven item with the old one on the board;\r\n    doUpdateCell(pos, cell, findIndexCb) {\r\n        const { isMatrixBoard, board } = this;\r\n        if (!isMatrixBoard) {\r\n            const idx = findIndexCb? board.shapes.findIndex(findIndexCb) : -1;\r\n            const oldCell = board.shapes[idx];\r\n            if (idx !== -1) {\r\n                if (this.canvasOpts.enableAnimation && !(cell.hide || oldCell.hide)) return this.doAnimationCellUpdate(cell, findIndexCb);\r\n                board.shapes.splice(idx, 1, { ...oldCell, ...cell });\r\n            }\r\n            else board.shapes.push(cell);\r\n        }\r\n        else {\r\n            const oldCell = board[pos.y][pos.x];\r\n            board[pos.y][pos.x] = {  ...oldCell, ...cell };\r\n        }\r\n    }\r\n    \r\n    // updateCell: get pos and cell and sends it to doUpdateCell, then render;\r\n    updateCell(pos, cell, findIndexCb = (currCell) => currCell.id === cell.id) {\r\n        this.doUpdateCell(pos, cell, findIndexCb);\r\n        this.debounceRender();\r\n        // this.renderCell(cell, pos, this.context);\r\n    }\r\n    \r\n    // updateCell: get poss and cells and sends them to doUpdateCell, then render;\r\n    updateCells(data = [], findIndexCb = (idx) => (cell) => cell.id === data[idx].id) {\r\n        data.forEach((cell, idx) => this.doUpdateCell({ y: cell.i || cell.y, x: cell.j || cell.x }, cell, findIndexCb && findIndexCb(idx)));\r\n        this.debounceRender();\r\n    }\r\n\r\n    removeCell(findIdxCbOrItem = (currCell) => currCell.id === cell.id) {\r\n        let idx;\r\n        if (typeof findIdxCbOrItem === 'function') idx = this.board.shapes.findIndex(findIdxCbOrItem);\r\n        else idx = this.board.shapes.findIndex(c => c === findIdxCbOrItem);\r\n        if (idx === -1) return;\r\n        this.board.shapes.splice(idx, 1);\r\n        this.debounceRender();\r\n    }\r\n\r\n    removeCells(findIdxCbOrItems = (currCell) => currCell.id === cell.id) {\r\n        const oldItems = [];\r\n        const filteredItems = this.board.shapes.filter((c, idx) => {\r\n            if (typeof findIdxCbOrItems === 'function' && findIdxCbOrItems(c) ||\r\n                Array.isArray(findIdxCbOrItems) && findIdxCbOrItems.includes(c)) {\r\n                    oldItems.push(c);\r\n                    return false;\r\n            } \r\n            return true;\r\n        } , []);\r\n        this.board.shapes = filteredItems;\r\n        this.debounceRender();\r\n        return oldItems;\r\n    }\r\n    \r\n    // updateBoard: gets a new board, then renders it\r\n    updateBoard(board) {\r\n        this.board = board;\r\n        this.init();\r\n    }\r\n\r\n    \r\n    // to update the cells with animation to create a smoother change;\r\n    reqAnimations = {};\r\n    nextAnimateId = 0;\r\n    doAnimationCellUpdate(cell, findIndexCb) {\r\n        const { board } = this;\r\n        const idx = board.shapes.findIndex(findIndexCb);\r\n        const oldCell = board.shapes[idx]\r\n        const targetCell = { ...oldCell, ...cell };\r\n        const posDiffs  = {\r\n            x: targetCell.x - oldCell.x,\r\n            y: targetCell.y - oldCell.y,\r\n            w: targetCell.w - oldCell.w,\r\n            h: targetCell.h - oldCell.h,\r\n            rotate: (targetCell.rotate - oldCell.rotate) || 0\r\n        }\r\n        const reqAnimations = this.reqAnimations;\r\n        const animateKey = cell.id;\r\n        if (!reqAnimations[animateKey]) reqAnimations[animateKey] = {};\r\n        const animateId = this.nextAnimateId++;\r\n        reqAnimations[animateKey].id = animateId;\r\n        const steps = [10,20,35,50,65,80,90,100];\r\n        // const steps = '0'.repeat(Math.abs(parseInt(posDiffs.x))).split('').map((_, idx) => idx+1);\r\n        // const steps = '0'.repeat(20).split('').map((_, idx) => idx+5);\r\n        let count = 0;\r\n        const _doUdate = () => {\r\n            if (reqAnimations[animateKey]?.id !== animateId) return;\r\n            const currStep = steps[count]/100;\r\n            if (!currStep) return;\r\n            const currCell = { ...targetCell };\r\n            Object.keys(posDiffs).forEach(key => {\r\n                const newVal = oldCell[key] + posDiffs[key]*currStep;\r\n                if (typeof newVal !== 'number') newVal = targetCell[key];\r\n                currCell[key] = newVal;\r\n            });\r\n            const idx = board.shapes.findIndex(findIndexCb);\r\n            board.shapes.splice(idx, 1, currCell);\r\n            this.debounceRender();\r\n            if ((count <= steps.length) && (reqAnimations[animateKey]?.id === animateId)) {\r\n                requestAnimationFrame(_doUdate);\r\n                count++;\r\n            } else delete reqAnimations[animateKey];\r\n        }\r\n        requestAnimationFrame(_doUdate);\r\n        {\r\n        //     // if (!this.animationIntervals) this.animationIntervals = {};\r\n        //     const intervals = this.intervals;\r\n        //     const intervalKey = 'cell_animation_' + cell.code;\r\n        //     if (intervals[intervalKey]) clearInterval(intervals[intervalKey]);\r\n        //     const steps = [10,20,35,50,65,80,90,100];\r\n        //     // const steps = '0'.repeat(Math.abs(parseInt(posDiffs.x))).split('').map((_, idx) => idx+1);\r\n        //     let count = 0;\r\n        //     const _doUdate = () => {\r\n        //         const currStep = steps[count]/100;\r\n        //         if (!currStep) return;\r\n        //          const currCell = { ...targetCell };\r\n        //         Object.keys(posDiffs).forEach(key => {\r\n        //             const newVal = oldCell[key] + posDiffs[key]*currStep;\r\n        //             if (typeof newVal !== 'number') newVal = targetCell[key];\r\n        //             currCell[key] = newVal;\r\n        //         });\r\n        //         const idx = board.shapes.findIndex(findIndexCb);\r\n        //         board.shapes.splice(idx, 1, currCell);\r\n        //         this.render();\r\n        //         if (count >= steps.length) clearInterval(intervals[intervalKey]);\r\n        //         else count++;\r\n        //     }\r\n        //     intervals[intervalKey] = setInterval(_doUdate, 50/steps.length);\r\n        }\r\n    }\r\n    \r\n\r\n    // To create grid lines in a given position; STILL IN DEVELOPMENT;\r\n    static getGridLines = (() => {\r\n        const getLines = (sizeAndPos = { w, h, x, y }, gridOpts = {}, mainAxis = 'x') => {\r\n            const defStyle = { strokeStyle: 'black' };\r\n            const isNumeric = typeof gridOpts[mainAxis] === 'number';\r\n            const opts = {\r\n                space: (isNumeric? gridOpts[mainAxis] : gridOpts[mainAxis]?.space) || gridOpts.space,\r\n                strictSpace: (isNumeric? gridOpts[mainAxis] : gridOpts[mainAxis]?.strictSpace) || gridOpts.strictSpace,\r\n                align: (isNumeric? gridOpts.align : (gridOpts[mainAxis]?.align || gridOpts.align)) || 'start',\r\n                style: (isNumeric? gridOpts.style : (gridOpts[mainAxis]?.style || gridOpts.style)) || defStyle,\r\n                rotate: (isNumeric? gridOpts.rotate : (gridOpts[mainAxis]?.rotate || gridOpts.rotate)) || 0\r\n            }\r\n    \r\n            const space = opts.strictSpace || opts.space;\r\n    \r\n            const secAxis = mainAxis === 'x'? 'y' : 'x';\r\n            const mainSizeKey = mainAxis === 'x'? 'w' : 'h';\r\n            const secSizeKey = mainSizeKey === 'w'? 'h' : 'w';\r\n            \r\n            const mainSize = sizeAndPos[mainSizeKey];\r\n            const secSize = sizeAndPos[secSizeKey];\r\n            \r\n            let startM = sizeAndPos[mainAxis];\r\n            let startS = sizeAndPos[secAxis];\r\n            let endM = startM + mainSize;\r\n            let endS = startS + secSize;\r\n    \r\n            // let direction = 1;\r\n            // if (mainAxis === 'y' && opts.rotate) {\r\n                //     // opts.rotate += 180;\r\n            //     // [startS, endS] = [endS, startS];\r\n            //     // [startM, endM] = [endM, startM];\r\n            //     // direction = -1;\r\n            // }\r\n            let start = startM;\r\n            let lineCount = Math.ceil(mainSize / space);\r\n            if (opts.align) {\r\n                const restSpace = mainSize % space;\r\n                if (opts.align === 'center') start += restSpace/2;\r\n                else if (opts.align === 'end') start += restSpace;\r\n                // else if (opts.align === 'start') start += 0;\r\n            }\r\n            if (opts.rotate) {\r\n                const firstEndPos = MathService.getFullPosByPosAndDeg({ [mainAxis]: startM, [secAxis]: startS }, { [mainAxis]: null, [secAxis]: endS }, opts.rotate);\r\n                const diff = startM - firstEndPos[mainAxis];\r\n                if (opts.rotate > 0) {\r\n                    start += diff;\r\n                }\r\n                lineCount += Math.ceil(Math.abs(diff / space));\r\n                // const lastEndPos = MathService.getFullPosByPosAndDeg({ [mainAxis]: endM, [secAxis]: startS }, { [mainAxis]: null, [secAxis]: endS }, opts.rotate);\r\n                // start+=(endM - lastEndPos[mainAxis]);\r\n                \r\n            }\r\n            // const lineCount = Math.ceil(mainSize-start / space);\r\n            // const lineCount = 1;\r\n            const res = [];\r\n            for (let i = 0; i <= lineCount; i++) {\r\n                const main = start + space*i;\r\n                if (main > endM && (opts.rotate > 0 || !opts.rotate)) break;\r\n                if (main < startM && (opts.rotate < 0 || !opts.rotate)) break;\r\n    \r\n                let startPos = { [mainAxis]: main, [secAxis]: startS };\r\n                let endPos = { [mainAxis]: main, [secAxis]: endS };\r\n                if (opts.rotate) {\r\n                    endPos = MathService.getFullPosByPosAndDeg(startPos, { [mainAxis]: null, [secAxis]: endS }, opts.rotate);\r\n                    if (endPos[mainAxis] > endM) endPos = MathService.getFullPosByPosAndDeg(startPos, { [mainAxis]: endM, [secAxis]: null }, opts.rotate);\r\n                    else if (endPos[mainAxis] < startM) endPos = MathService.getFullPosByPosAndDeg(startPos, { [mainAxis]: startM, [secAxis]: null }, opts.rotate);\r\n                    \r\n                    if (startPos[mainAxis] < startM) startPos = MathService.getFullPosByPosAndDeg(endPos, {[mainAxis]: startM, [secAxis]: null}, opts.rotate);\r\n                    else if (startPos[mainAxis] > endM) startPos = MathService.getFullPosByPosAndDeg(endPos, {[mainAxis]: endM, [secAxis]: null}, opts.rotate);\r\n                }\r\n                let line = {\r\n                    geoShape: [\r\n                        startPos,\r\n                        endPos,\r\n                    ],\r\n                    style: opts.style\r\n                };\r\n                if (sizeAndPos.rotate) {\r\n                    const centerPos = {\r\n                        x: sizeAndPos.x + sizeAndPos.w/2,\r\n                        y: sizeAndPos.y + sizeAndPos.h/2,\r\n                    }\r\n                    line.geoShape = line.geoShape.map(c => MathService.rotatePosition(c, sizeAndPos.rotate, centerPos));\r\n                }\r\n                res.push(line);\r\n            }\r\n            return res;\r\n        }\r\n        return (sizeAndPos = { w:1, h:1, x:0, y:0 }, gridOpts = {}) => {\r\n            const res = [];\r\n            if (gridOpts.x || gridOpts.space || gridOpts.strictSpace) res.push(...getLines(sizeAndPos, gridOpts, 'x'));\r\n            if (gridOpts.y || gridOpts.space || gridOpts.strictSpace) res.push(...getLines(sizeAndPos, gridOpts, 'y'));\r\n            return res;\r\n        }\r\n    })();\r\n\r\n\r\n    \r\n    // ratio methods\r\n    \r\n    // gets the shape position on the canvas, after calcing with the board to canvas ratio\r\n    getPosOpts(pos = { x: 0, y: 0 }) {\r\n        const { w: cellW, h: cellH } = this.cellSizeByboardToCanvasRatio;\r\n        let { x, y } = this.convertBoardSizeToCanvasSize(pos);\r\n    \r\n        x -= this.canvasRootRenderPos.x;\r\n        y -= this.canvasRootRenderPos.y;\r\n    \r\n        return { x: x, y: y, actualX: x - cellW / 2, actualY: y - cellH / 2 };\r\n    }\r\n\r\n    // converts any size/pos property from board ratio to canvas ratio, or canvas to board;\r\n    convertBoardSizeToCanvasSize(size = { w: 1, h: 1, x: 0, y: 0 }, isFromCanvasPos = false) {\r\n        const { w: ratio } = this.cellSizeByboardToCanvasRatio;\r\n        const res = {};\r\n        for (let key in size) {\r\n            res[key] = !isFromCanvasPos? size[key] * ratio : size[key] / ratio;\r\n        }\r\n        return res;\r\n    }\r\n    \r\n    // gets all shape's pos and size relevant opts for render\r\n    getDrawOpts(opts = { x: 0, y: 0, w: 1, h: 1 }) {\r\n        const centerPos = this.getPosOpts({ x: opts.x+opts.w/2, y: opts.y+opts.h/2 });\r\n        return {\r\n            boardPos: { x: opts.x, y: opts.y },\r\n            ...this.getPosOpts({ x: opts.x, y: opts.y }),\r\n            ...this.convertBoardSizeToCanvasSize({ w: opts.w, h: opts.h }),\r\n            centerX: centerPos.x,\r\n            centerY: centerPos.y,\r\n            zoomLevel: this.zoomLevel\r\n        };\r\n    }\r\n    \r\n    // gets offset position on the board for the canvas event\r\n    getBoardPosFromCanvasDomEvent(ev) {\r\n        let { x: offsetX, y: offsetY } = this.constructor.getOffsetPosFomDomEvent(ev);\r\n    \r\n        const { boardSize, canvasSize, canvasRootRenderPos } = this;\r\n    \r\n        offsetX += canvasRootRenderPos.x;\r\n        offsetY += canvasRootRenderPos.y;\r\n    \r\n        const heightDivider = boardSize.h / (canvasSize.h * this.zoomLevel);\r\n        const widthDivider = boardSize.w / (canvasSize.w * this.zoomLevel);\r\n    \r\n        const x = offsetX * widthDivider;\r\n        const y = offsetY * heightDivider;\r\n    \r\n        return { x, y };\r\n    }\r\n    \r\n    // gets offset position from event;\r\n    static getOffsetPosFomDomEvent(ev, isClientPos) {\r\n        if (isClientPos && ev.clientX) return { x: ev.clientX, y: ev.clientY };\r\n        return (typeof ev.offsetX === 'number')\r\n            ? { x: ev.offsetX, y: ev.offsetY }\r\n            : {\r\n                x: ev.touches[0].clientX - ev.touches[0].target.offsetLeft,\r\n                y: ev.touches[0].clientY - ev.touches[0].target.offsetTop\r\n            };\r\n    }\r\n    \r\n    // calcs the size of the canvas in the board'w aspect ratio;\r\n    calcCanvasSize() {\r\n        const { boardSize, elParent } = this;\r\n        const elementSize = {\r\n            w: elParent.offsetWidth,\r\n            h: elParent.offsetHeight\r\n        }\r\n        const renderSize = MathService.fitParentSize(elementSize, boardSize);\r\n        // if (this.isSizeFlipped) renderSize.w = renderSize.h*(renderSize.h/renderSize.w);\r\n        // if (this.isSizeFlipped) [renderSize.w, renderSize.h] = [renderSize.h, renderSize.w];\r\n        return renderSize;\r\n    }\r\n\r\n\r\n    \r\n    // zoom methods\r\n    \r\n    // sets all the window and canvas zoom methods;\r\n    setZoomDomEvMethods() {\r\n        // handling will zoom event\r\n        this.elCanvas.addEventListener('wheel', (ev) => {\r\n            ev.preventDefault();\r\n            if (!ev.wheelDelta) return;\r\n            this.updateZoomLevel(ev.wheelDelta > 0 ? 0.1 : -0.1, this.constructor.getOffsetPosFomDomEvent(ev));\r\n        })\r\n    \r\n        // handling touch zoom event\r\n        let prevTouchZoomDist = null;\r\n        this.elCanvas.addEventListener('touchmove', (ev) => {\r\n            ev.preventDefault();\r\n            if (ev.touches.length < 2) return;\r\n            if (this.isDragOn) this.isDragOn = false;\r\n            const [touch1, touch2] = ev.touches;\r\n            const dist = Math.hypot(touch1.pageX - touch2.pageX, touch1.pageY - touch2.pageY);\r\n            if (!prevTouchZoomDist) return prevTouchZoomDist = dist;\r\n            const diff = prevTouchZoomDist - dist;\r\n            const canvasOffsetPos = Utils.getElPosOnScreen(this.elCanvas);\r\n            this.updateZoomLevel(diff < 0 ? 0.025 : -0.025, {\r\n                x: (touch1.clientX + touch2.clientX) / 2 - canvasOffsetPos.x,\r\n                y: (touch1.clientY + touch2.clientY) / 2 - canvasOffsetPos.y\r\n            });\r\n            prevTouchZoomDist = dist;\r\n        });\r\n        this.elCanvas.addEventListener('toucend', (ev) => {\r\n            ev.preventDefault();\r\n            if (ev.touches.length < 2) return;\r\n            prevTouchZoomDist = null;\r\n        });\r\n    \r\n        // handling drag events\r\n        let prevDragPos = null;\r\n        ['mousedown', 'touchstart'].forEach(evName => this.elCanvas.addEventListener(evName, (ev) => {\r\n            ev.preventDefault();\r\n            if (ev.touches && ev.touches.length > 1) return;\r\n            if (this.zoomLevel === 1) return;\r\n            prevDragPos = this.constructor.getOffsetPosFomDomEvent(ev, true);\r\n            this.isDragOn = true;\r\n            this.elCanvas.style.cursor = 'grabbing';\r\n        }));\r\n        ['mousemove', 'touchmove'].forEach(evName => this.addWindowEventListener(evName, (ev) => {\r\n            // ev.preventDefault();\r\n            if (!this.isDragOn) return;\r\n            let dragPos = this.constructor.getOffsetPosFomDomEvent(ev, true);\r\n            if (!prevDragPos) return prevDragPos = dragPos;\r\n            this.updateRootRenderPos({\r\n                x: (prevDragPos.x - dragPos.x),\r\n                y: (prevDragPos.y - dragPos.y)\r\n            });\r\n            prevDragPos = dragPos;\r\n        }));\r\n        ['mouseup', 'touchend', 'touchcancel'].forEach(evName => this.addWindowEventListener(evName, (ev) => { // 'mouseout'\r\n            // ev.preventDefault();\r\n            prevDragPos = null;\r\n            this.isDragOn = false;\r\n            // this.elCanvas.style.cursor = 'grab';\r\n            this.elCanvas.style.cursor = '';\r\n        }));\r\n    \r\n        // adding zoom and scroll ui elements if required;\r\n        if (this.canvasOpts.enableScrollUi || this.canvasOpts.enableZoomUi || this.canvasOpts.enableFlipUi || this.canvasOpts.enableMirrorUi) this.elCanvasContainer.appendChild(this.getActionsElement());\r\n    }\r\n    \r\n    // update the root render pos after zoom;\r\n    updateRootRenderPos(diffs = { x: 0, y: 0 }, isStrictPos = false) {\r\n        const { rootRenderPos, boardToCanvasRatio } = this;\r\n        diffs.x /= boardToCanvasRatio;\r\n        diffs.y /= boardToCanvasRatio;\r\n        rootRenderPos.x = isStrictPos? diffs.x : rootRenderPos.x+diffs.x;\r\n        rootRenderPos.y = isStrictPos? diffs.y : rootRenderPos.y+diffs.y;\r\n        this.validateRootRenderPos();\r\n        this.setScrollSize();\r\n        this.resetMapedStaticShapesToRender();\r\n        this.render();\r\n    }\r\n    // validates that the canvas render by the root render pos is not out of the board lines. if so, it fixes it;\r\n    validateRootRenderPos() {\r\n        const { rootRenderPos, viewdArea, renderedCanvasSize, canvasSize, boardSize, boardToCanvasRatio } = this;  \r\n        // const maxView = this.convertBoardSizeToCanvasSize({x: renderedCanvasSize.w - canvasSize.w , y: renderedCanvasSize.h - canvasSize.h}, true);\r\n        const maxView = {\r\n            x: (renderedCanvasSize.w - canvasSize.w) / boardToCanvasRatio,\r\n            y: (renderedCanvasSize.h - canvasSize.h) / boardToCanvasRatio\r\n        }\r\n        if (viewdArea.startX < 0) rootRenderPos.x = 0;\r\n        if (viewdArea.startY < 0) rootRenderPos.y = 0;\r\n        if (viewdArea.endX > boardSize.w) rootRenderPos.x = maxView.x;\r\n        if (viewdArea.endY > boardSize.h) rootRenderPos.y = maxView.y;\r\n    }\r\n\r\n    // updates the zoom level and the root render pos - according to the new zoom level;\r\n    updateZoomLevel(diff = 0, canvasPos) {\r\n        const { canvasSize, lastZoomPos } = this;\r\n        if (!canvasPos) canvasPos = lastZoomPos || { x: canvasSize.w/2, y: canvasSize.h/2 };\r\n        const prevLevel = this.zoomLevel;\r\n        this.zoomLevel += diff;\r\n        if (this.zoomLevel < 1) this.zoomLevel = 1;\r\n        if (this.zoomLevel > 5) this.zoomLevel = 5;\r\n        if (prevLevel === this.zoomLevel) return;\r\n\r\n        const actualDiff = this.zoomLevel - prevLevel;\r\n\r\n        const posRatiToCanvas = {\r\n            w: canvasPos.x / canvasSize.w,\r\n            h: canvasPos.y / canvasSize.h\r\n        }\r\n        const renderPosDiffs = {\r\n            x: (canvasSize.w * posRatiToCanvas.w),\r\n            y: (canvasSize.h * posRatiToCanvas.h)\r\n        }\r\n        if (lastZoomPos) {\r\n            renderPosDiffs.x += (canvasPos.x - lastZoomPos.x);\r\n            renderPosDiffs.y += (canvasPos.y - lastZoomPos.y);\r\n        }\r\n        renderPosDiffs.x *= actualDiff;\r\n        renderPosDiffs.y *= actualDiff;\r\n\r\n        // if ((diff < 0) && lastZoomPos) {   // flipping pos\r\n        //     if (lastZoomPos.x !== canvasPos.x) renderPosDiffs.x = canvasSize.w - renderPosDiffs.x;\r\n        //     if (lastZoomPos.y !== canvasPos.y) renderPosDiffs.y = canvasSize.h - renderPosDiffs.y;\r\n        // }\r\n        \r\n        if (this.zoomLevel === 1) this.lastZoomPos = null;\r\n        else this.lastZoomPos = canvasPos;\r\n\r\n        this.updateRootRenderPos(renderPosDiffs, false);\r\n    }\r\n    \r\n    // sets the scroll sizes according to rendered canvas pos;\r\n    setScrollSize() {\r\n        let { scrollSizes, canvasRootRenderPos, renderedCanvasSize, canvasSize } = this;\r\n        if (!scrollSizes) this.scrollSizes = scrollSizes = { vertical: { pad: 0, size: 0 }, horizontal: { pad: 0, size: 0 } };\r\n        scrollSizes.vertical.pad = (canvasRootRenderPos.y / renderedCanvasSize.h) * 100;\r\n        scrollSizes.horizontal.pad = (canvasRootRenderPos.x / renderedCanvasSize.w) * 100;\r\n        scrollSizes.vertical.size = canvasSize.w / renderedCanvasSize.w * 100;\r\n        scrollSizes.horizontal.size = canvasSize.h / renderedCanvasSize.h * 100;\r\n        this.updateElScrollsStyle();\r\n    }\r\n\r\n\r\n    // Flip methods:\r\n\r\n    // This function is used to flip and mirror each shape in the service according to the service flip/mirror properties\r\n    flipItem(item = {}, debug) {\r\n        let { flipLevel: level, isMirrorX, isMirrorY, boardSize, isSizeFlipped } = this;\r\n        const fixAng = ang => ang > 0? ang === 360 && ang || ang%360 : (360+ang)%360;\r\n\r\n        if (level === 1 && !isMirrorX && !isMirrorY) return item;\r\n\r\n        // if (item.geoShape) item.geoShape = item.geoShape.map(pos => this.flipItem(pos, true));\r\n\r\n        // const bySize = isRelative? { w: 0, h: 0 } : boardSize;\r\n        const bySize = boardSize;\r\n        const rotate = item.rotate || 0;\r\n        const x = item.x || 0;\r\n        const y = item.y || 0;\r\n        let w = item.w || 0;\r\n        let h = item.h || 0;\r\n        let scale = item.scale || [1, 1];\r\n\r\n        let reducedX = (x + (item.isCenterPos? 0 : w));\r\n        let reducedY = (y + (item.isCenterPos? 0 : h));\r\n        \r\n        const res = { ...item, x, y, w, h, rotate, scale };\r\n\r\n        if (isMirrorX) {\r\n            res.x = (bySize.w - reducedX);\r\n            res.rotate = fixAng(-rotate);\r\n            // if (res.circleDegries) {\r\n            //     res.circleDegries = res.circleDegries.map(c => fixAng(c - (res.circleDegries[0] - res.circleDegries[1])));\r\n            // }\r\n            res.scale[0] *= -1;\r\n            \r\n            reducedX = (res.x + (item.isCenterPos? 0 : res.w));\r\n            // reducedY = (res.y + (item.isCenterPos? 0 : res.h));\r\n        }\r\n        if (isMirrorY) {\r\n            res.y = (bySize.h - reducedY);\r\n            res.rotate = fixAng(180+(180-res.rotate));\r\n            // if (res.circleDegries) {\r\n            //     res.circleDegries = res.circleDegries.map(c => fixAng(c - (res.circleDegries[0] - res.circleDegries[1])));\r\n            // }\r\n            res.scale[1] *= -1;\r\n\r\n            reducedY = (res.y + (item.isCenterPos? 0 : res.h));\r\n        }\r\n        const centerPos = { x: boardSize.w/2, y: boardSize.h/2 };\r\n        const byPos = { x: reducedX, y: reducedY };\r\n\r\n        let fixRotateBy = 0;\r\n        switch (level) {\r\n            case 1:\r\n                return res;\r\n                break; \r\n            case 3:\r\n                fixRotateBy = 180;\r\n                break;\r\n                // res.y = (bySize.h - reducedY);\r\n                // res.x = (bySize.w - reducedX);\r\n                // if (res.circleDegries) {\r\n                //     res.circleDegries = res.circleDegries.map(c => fixAng((c - (res.circleDegries[0] - res.circleDegries[1])))) ;\r\n                // }\r\n            case 2:\r\n                fixRotateBy = 90;\r\n                break;\r\n                // res.y = x;\r\n                // res.x = bySize.w - reducedY;\r\n                // res.rotate = fixAng(res.rotate - 90);\r\n            case 4:\r\n                fixRotateBy = 270;\r\n                // res.y = bySize.h - reducedX;\r\n                // res.x = reducedY;\r\n                // res.rotate = fixAng(res.rotate - 270);\r\n        }\r\n        // console.log(MathService.rotatePosition({x: 0, y: 0}, 90, centerPos), centerPos)\r\n        return {\r\n            ...res,\r\n            ...MathService.rotatePosition(byPos, fixRotateBy, centerPos),\r\n            rotate: fixAng(res.rotate + fixRotateBy)\r\n        }\r\n    }\r\n    \r\n    // we use 4 flip levels (1 - 4); 1 is the default, 3 is 180 deg flip; 2 and 4 are still in development, both used for vertical flip;\r\n    updateFlipLevel(val = 1, exact = false) {\r\n        if (exact) this.flipLevel = val;\r\n        else this.flipLevel += val;\r\n        this.init();\r\n    }\r\n    set flipLevel(level) {\r\n        if (![1, 2, 3, 4].includes(level)) level = 1;\r\n        this. _flipLevel = level;\r\n    }\r\n    get flipLevel() {\r\n        return this._flipLevel || 1;\r\n    }\r\n\r\n    // to toggle mirrorX and mirrorY service properties;\r\n    toggleMirrorX(val) {\r\n        if (typeof val === 'boolean') this.isMirrorX = val;\r\n        else this.isMirrorX = !this.isMirrorX;\r\n        this.init();\r\n    }\r\n    toggleMirrorY(val) {\r\n        if (typeof val === 'boolean') this.isMirrorY = val;\r\n        else this.isMirrorY = !this.isMirrorY;\r\n        this.init();\r\n    }\r\n\r\n    // Tells if the board is in vertical flip (flip level 2/4);\r\n    get isSizeFlipped() {\r\n        return [2,4].includes(this.flipLevel);\r\n    }\r\n    \r\n    \r\n    // scroll zoom and flip ui methods\r\n    \r\n    // updates the zoom elements style properties;\r\n    updateElScrollsStyle() {\r\n        const { scrollSizes } = this;\r\n        const elActions = this.elCanvasContainer.querySelector('.actions');\r\n        if (!elActions) return;\r\n        elActions.querySelectorAll('.grab').forEach(elGrab => {\r\n            const isVertical = elGrab.classList.contains('vertical');\r\n            if (isVertical) {\r\n                elGrab.style.height = scrollSizes.vertical.size + '%';\r\n                elGrab.style.top = scrollSizes.vertical.pad + '%'\r\n            } else {\r\n                elGrab.style.width = scrollSizes.horizontal.size + '%';\r\n                elGrab.style.left = scrollSizes.horizontal.pad + '%'\r\n            }\r\n        });\r\n    }\r\n    \r\n    // creates the canvas actions elements (zoom, scroll, flip, mirror), if required;\r\n    getActionsElement() {\r\n        let grabedScroll = '';\r\n        let prevDragedPos = null;\r\n\r\n        const { enableZoomUi, enableScrollUi, enableFlipUi, enableMirrorUi } = this.canvasOpts;\r\n        \r\n        const { El } = ElementService;\r\n\r\n        const el = El(`<div class=\"actions\"></div>`, {}, [\r\n            El(`<style>${this.constructor.getActionsStyleStr(this.selector)}</style>`),\r\n            enableZoomUi &&\r\n            El(`<div class=\"zoom-btns control-section\"></div>`, {}, [\r\n                El(`<button class=\"icon plus-btn\"></button>`, { onclick: () => this.updateZoomLevel(0.1) }),\r\n                El(`<button class=\"icon minus-btn\"></button>`, { onclick: () => this.updateZoomLevel(-0.1) }),\r\n            ]),\r\n            enableScrollUi &&\r\n            El(`<div class=\"scrolls\"></div>`, {}, [\r\n                El(`<div class=\"scroll-container horizontal control-section\"></div>`, {}, [\r\n                    El(`<button class=\"icon plus-btn\"></button>`, { onclick: () => this.updateRootRenderPos({ y: 0, x: -30 }) }),\r\n                    El(`<div class=\"scroll\"></div>`, {}, [\r\n                        El(`<div class=\"grab horizontal\"></div>`, { onmousedown: () => grabedScroll = 'horizontal' })\r\n                    ]),\r\n                    El(`<button class=\"icon minus-btn\"></button>`, { onclick:  () => this.updateRootRenderPos({ y: 0, x: 30 }) }),\r\n                ]),\r\n                El(`<div class=\"scroll-container vertical control-section\"></div>`, {}, [\r\n                    El(`<button class=\"icon plus-btn\"></button>`, { onclick:  () => this.updateRootRenderPos({ y: -30, x: 0 }) }),\r\n                    El(`<div class=\"scroll\"></div>`, {}, [\r\n                        El(`<div class=\"grab vertical\"></div>`, { onmousedown: () => grabedScroll = 'vertical' })\r\n                    ]),\r\n                    El(`<button class=\"icon minus-btn\"></button>`, { onclick:  () => this.updateRootRenderPos({ y: 30, x: 0 }) }),\r\n                ]),\r\n            ]),\r\n            (enableFlipUi || enableMirrorUi) &&\r\n            El('<div class=\"flip-btns control-section\"></div>', {}, [\r\n                enableFlipUi && El('<button class=\"icon flip-btn\" title=\"Flip 180\"></button>', { onclick: () => this.updateFlipLevel(2) }),\r\n                enableMirrorUi && El('<button class=\"icon mirror-x-btn\" title=\"Mirror X\"></button>', { onclick: () => this.toggleMirrorX() }),\r\n                enableMirrorUi && El('<button class=\"icon mirror-y-btn\" title=\"Mirror Y\"></button>', { onclick: () => this.toggleMirrorY() }),\r\n            ])\r\n        ]);\r\n    \r\n        if (!this.canvasOpts.enableScrollUi) return el;\r\n    \r\n        ['mousemove', 'touchmove'].forEach(evName => this.addWindowEventListener(evName, (ev) => {\r\n            // ev.preventDefault();\r\n            if (this.isDragOn) return;\r\n            if (!grabedScroll) return;\r\n            const pos = { x: ev.clientX, y: ev.clientY };\r\n            if (!prevDragedPos) return prevDragedPos = pos;\r\n            const isVertical = grabedScroll === 'vertical';\r\n            const diff = isVertical ? pos.y - prevDragedPos.y : pos.x - prevDragedPos.x;\r\n            this.updateRootRenderPos({\r\n                x: !isVertical ? diff * this.zoomLevel : 0,\r\n                y: isVertical ? diff * this.zoomLevel : 0\r\n            });\r\n            prevDragedPos = pos;\r\n        }));\r\n        ['mouseup'].forEach(evName => this.addWindowEventListener(evName, (ev) => {\r\n            // ev.preventDefault();\r\n            if (!prevDragedPos) return;\r\n            prevDragedPos = null;\r\n            grabedScroll = '';\r\n        }));\r\n    \r\n        return el;\r\n    }\r\n    \r\n    // sets the actions alements positions in the canvas after init;\r\n    setElActionPositions() {\r\n        const { element, canvasSize } = this;\r\n        const pad = { // paddingFromCanvas\r\n            w: (element.offsetWidth - canvasSize.w) / 2 || 0,\r\n            h: (element.offsetHeight - canvasSize.h) / 2 || 0\r\n        }\r\n        const elActions = element.querySelector('.actions');\r\n        if (!elActions) return;\r\n        elActions.querySelectorAll('.scroll-container').forEach(el => {\r\n            if (el.classList.contains('horizontal')) {\r\n                el.style.bottom = pad.h + 10 + 'px';\r\n                el.style.width = canvasSize.w*0.7 + 'px';\r\n            }\r\n            else  {\r\n                el.style.right = pad.w + 10 + 'px';\r\n                el.style.height = canvasSize.h*0.7 + 'px';\r\n            }\r\n        });\r\n        if (this.canvasOpts.enableZoomUi) {\r\n            const elZoomBtns = elActions.querySelector('.zoom-btns');\r\n            elZoomBtns.style.bottom = pad.h + 10 + 'px';\r\n            elZoomBtns.style.left = pad.w + 10 + 'px';\r\n        }\r\n        if (this.canvasOpts.enableFlipUi || this.canvasOpts.enableMirrorUi) {\r\n            const elFlipBtns = elActions.querySelector('.flip-btns');\r\n            elFlipBtns.style.top = pad.h + 10 + 'px';\r\n            elFlipBtns.style.left = pad.w + 10 + 'px';\r\n            if (this.canvasOpts.enableMirrorUi) {\r\n                elFlipBtns.querySelector('.mirror-x-btn').classList[this.isMirrorX? 'add' : 'remove']('on');\r\n                elFlipBtns.querySelector('.mirror-y-btn').classList[this.isMirrorY? 'add' : 'remove']('on');\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    // window events methods\r\n    \r\n    // add listeners to window and keeps it;\r\n    addWindowEventListener(evName, cb) {\r\n        if (!this.windowEvsMap[evName]) this.windowEvsMap[evName] = [];\r\n        this.windowEvsMap[evName].push(cb);\r\n        window.addEventListener(evName, cb);\r\n    }\r\n    // removes all the added window listeners, call this method when canvas is destoryed;\r\n    removeWindowEventListeners() {\r\n        const { windowEvsMap } = this;\r\n        for (let evName in windowEvsMap) {\r\n            const cbs = windowEvsMap[evName];\r\n            cbs.forEach(cb => window.removeEventListener(evName, cb));\r\n        }\r\n        this.resizeObserver.unobserve(this.elParent);\r\n        this.resizeObserver.disconnect();\r\n        Object.values(this.intervals).forEach(clearInterval);\r\n    }\r\n\r\n    // resizeTimeOut = null;\r\n    // resizeDebounce() {\r\n    //     if (this.resizeTimeOut) return;\r\n    //     this.resizeTimeOut = setTimeout(() => {\r\n    //         this.init();\r\n    //         this.resizeTimeOut = null;\r\n    //     }, 0);\r\n    // }\r\n    \r\n    // canvas resize observable for a case the parent element is being resized; makes it responsive;\r\n    setResizeEvents() {\r\n        // this.elParent.addEventListener('resize', this.resizeDebouncebind(this));\r\n        this.resizeObserver = new ResizeObserver(this.init.bind(this));\r\n        this.resizeObserver.observe(this.elParent);\r\n    }\r\n\r\n    static isPosOnItem(pos, item, edgeOnly = false) {\r\n        // if (item.circleDegries) return this.isPosInEllipse(pos, item, rotate, acordingToPos);\r\n        item = this.parseRenderOpts(item);\r\n        let polygon = item.geoShape;\r\n        let acordingToPos = item.x && { x: item.x, y: item.y } || undefined;\r\n        if (item.circleDegries) {\r\n            // { w: item.w, h: item.h, x: item.x, y: item.y, circleDegries: item.circleDegries, rotate: item.rotate };\r\n            if (MathService.isPosInEllipse(pos, item, acordingToPos)) return true;\r\n        }\r\n        else if (!polygon) {\r\n            if (!item.isCenterPos) acordingToPos = item.x && { x: item.x + item.w/2, y: item.y + item.h/2 } || undefined;\r\n            polygon = MathService.rectToPolygon(item, acordingToPos);\r\n        }\r\n        if (polygon && MathService.isPosOnPoligon(pos, polygon, item.rotate, acordingToPos, !edgeOnly, edgeOnly)) return true;\r\n        if (item.children?.some(c => this.isPosOnItem(pos, this.parseRenderOpts(undefined, c, item)))) return true;\r\n        return false;\r\n    }\r\n\r\n\r\n    static getActionsStyleStr(parentSelector = '') {\r\n        const baseSelector = `${parentSelector} .actions`;\r\n        const { StyleEl } = ElementService;\r\n        const logicStyle = StyleEl(baseSelector, {\r\n            'user-select': 'none',\r\n            '.control-section': {\r\n                'position': 'absolute'\r\n            },\r\n            button: {\r\n                display: 'flex',\r\n                'align-items': 'center',\r\n                'justify-content': 'center',\r\n                '&:hover': {\r\n                    cursor: 'pointer'\r\n                }\r\n            },\r\n            '.plus-btn': {\r\n                '&:after': {\r\n                    content: '\"+\"',\r\n                }\r\n            },\r\n            '.minus-btn': {\r\n                '&:after': {\r\n                    content: '\"-\"',\r\n                }\r\n            },\r\n            '.zoom-btns': {\r\n                bottom: '10px',\r\n                left: '10px',\r\n                display: 'flex',\r\n                'flex-direction': 'column',\r\n            },\r\n            '.scrolls': {\r\n                '.scroll-container': {\r\n                    display: 'flex',\r\n                    '.scroll': {\r\n                        position: 'relative',\r\n                        flex: 1,\r\n                        display: 'flex',\r\n                        '.grab': {\r\n                            position: 'absolute',\r\n                            height: '100%',\r\n                            '&:hover': {\r\n                                cursor: 'pointer'\r\n                            },\r\n                            '&.horizontal': {\r\n                                width: '100%',\r\n                                left: '0%'\r\n                            },\r\n                            '&.vertical': {\r\n                                width: '100%',\r\n                                top: '0%' \r\n                            }\r\n                        }\r\n                    },\r\n                    '&.horizontal': {\r\n                        bottom: '10px',\r\n                        right: '50%',\r\n                        transform: 'translateX(50%)',\r\n                        width: '70%'\r\n                    },\r\n                    '&.vertical': {\r\n                        'flex-direction': 'column',\r\n                        right: '10px',\r\n                        bottom: '50%',\r\n                        transform: 'translateY(50%)',\r\n                        height: '70%',\r\n                        '.scroll': {\r\n                            'flex-direction': 'column'\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            '.flip-btns': {\r\n                top: '10px',\r\n                left: '10px',\r\n                display: 'flex',\r\n                'flex-direction': 'column',\r\n                '.flip-btn': {\r\n                    '&:after': {\r\n                        content: '\"\"',\r\n                    }\r\n                },\r\n                '.mirror-x-btn': {\r\n                    '&:after': {\r\n                        content: '\"\"',\r\n                    }\r\n                },\r\n                '.mirror-y-btn': {\r\n                    '&:after': {\r\n                        content: '\"\"',\r\n                        transform: 'rotate(90deg)'\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        // return logicStyle;\r\n        const styledStyle = StyleEl(baseSelector, {\r\n            '.control-section': {\r\n                'background-color': 'rgba(255, 255, 255, 0.5)',\r\n                border: '1px solid black',\r\n                padding: '5px',\r\n                'border-radius': '5px',\r\n            },\r\n            button: {\r\n                border: '1px solid black',\r\n                'border-radius': '3px',\r\n                'background-color': 'rgb(116, 116, 116)',\r\n                color: 'white',\r\n                transition: '.2s',\r\n                '&:hover': {\r\n                    'background-color': 'rgb(153, 151, 151)',\r\n                },\r\n                '&.on': {\r\n                    'box-shadow': '0px 0px 20px 0px rgba(254,255,30,0.75)'                \r\n                }\r\n            },\r\n            '.zoom-btns': {\r\n                gap: '10px',\r\n                button: {\r\n                    width: '30px',\r\n                    height: '30px',\r\n                }\r\n            },\r\n            '.scrolls': {\r\n                '.scroll-container': {\r\n                    gap: '7.5px',\r\n                },\r\n                '.grab': {\r\n                    'border-radius': '10px',\r\n                    'background-color': 'rgba(54, 100, 168, 0.9)',\r\n                    '&:hover': {\r\n                        cursor: 'pointer',\r\n                    }\r\n                },\r\n                button: {\r\n                    width: '15px',\r\n                    height: '15px',\r\n                }\r\n            },\r\n            '.flip-btns': {\r\n                gap: '10px',\r\n                button: {\r\n                    width: '25px',\r\n                    height: '25px',\r\n                }\r\n            }\r\n        });\r\n        return logicStyle + styledStyle;\r\n    }\r\n\r\n    // static MathService = MathService;\r\n}\r\n\r\n\r\nconst Utils = {\r\n    getElPosOnScreen(el) {\r\n        const pos = { y: 0, x: 0 };\r\n        if (!el) return pos;\r\n        let _el = el;\r\n        while(_el.tagName !== 'BODY') {\r\n            pos.y += _el.offsetTop;\r\n            pos.x += _el.offsetLeft;\r\n            _el = _el.offsetParent;\r\n        }\r\n        return pos;\r\n    },\r\n    copy(item) {\r\n        return JSON.parse(JSON.stringify(item));\r\n    }\r\n}\r\n\r\nexport const MathService = {\r\n    degToRadian: deg => deg*(Math.PI/180),\r\n    // degToRadian: deg => deg/180*Math.PI, // Math.PI is half circle;\r\n    radianToDeg: radian => Math.atan(radian) * 180 / Math.PI,\r\n    slope: ({x: x1, y: y1}, {x: x2, y: y2}, byY = true) => {\r\n        if ((byY && (x1 === x2)) || (!byY && (y1 === y2))) return null;\r\n        return byY? \r\n            (y1 - y2) / (x1 - x2) : \r\n            (x1 - x2) / (y1 - y2) ;\r\n    },\r\n    incline: (pos1, pos2, forEachX = true) => {\r\n        const x1 = pos1.x;\r\n        const y1 = pos1.y;\r\n        const x2 = pos2.x;\r\n        const y2 = pos2.y;\r\n\r\n        let slope = slope(pos1, pos2);\r\n        if (y1 === y2) slope = 0;\r\n        else if (x1 === x2) slope = (y1 > y2) ? -1 : 1;\r\n\r\n        let y = slope;\r\n        let x = !y ? (1 * x1 > x2 ? -1 : 1) : 0;\r\n\r\n        if (x1 !== x2 && y1 !== y2) {\r\n            if (y1 < y2 && y < 0 || y1 > y2 && y > 0) y *= -1;\r\n            x = (x1 > x2) ? -1 : 1;\r\n        }\r\n\r\n        if (!forEachX) {\r\n            x *= -1;\r\n            y *= -1;\r\n            if (y > 1) {\r\n                x /= y;\r\n                y = 1;\r\n            }\r\n        }\r\n\r\n        return { x, y };\r\n    },\r\n    getPolygonSize(polygon = []) {\r\n        const sizeReducer = (key, isMin) => {\r\n            return (acc, pos) => {\r\n                const val = pos[key];\r\n                if (acc === null) return val;\r\n                if ((isMin && val < acc) ||\r\n                    (!isMin && val > acc)) return val;\r\n                return acc;\r\n            }\r\n        }\r\n        // const maxY = geoShape.reduce((acc, c) => acc !== null? acc < c.y && c.y || acc : c.y, null);\r\n        const maxY = polygon.reduce(sizeReducer('y', false), null);\r\n        const maxX = polygon.reduce(sizeReducer('x', false), null);\r\n        const minY = polygon.reduce(sizeReducer('y', true ), null);\r\n        const minX = polygon.reduce(sizeReducer('x', true ), null);\r\n        return {\r\n            maxX,\r\n            maxY,\r\n            minX,\r\n            minY,\r\n            w: Math.abs(minX) + Math.abs(maxX),\r\n            h: Math.abs(minY) + Math.abs(maxY)\r\n        };\r\n    },\r\n    posOnYAxis (pos1, pos2) {\r\n        if (pos1.x === pos2.x) {\r\n            if (pos1.x !== 0) return null;\r\n            return 0;\r\n        }\r\n        const m = this.slope(pos1, pos2);\r\n        const x = pos1.y - m * pos1.x;\r\n        return x;\r\n        // return { y: 0, x };\r\n    },\r\n    getIntersectPos(line1, line2) { // line === [{x: 0, y: 0}, {x: 0, y: 0}]\r\n        line1.sort(sortLine);\r\n        line2.sort(sortLine);\r\n        // if (JSON.stringify(line1[0]) === JSON.stringify(line2[0])) return line1[0]; \r\n        // if (JSON.stringify(line1[1]) === JSON.stringify(line2[1])) return line1[1]; \r\n        \r\n        const posOnYAx1 = this.posOnYAxis(...line1);\r\n        const posOnYAx2 = this.posOnYAxis(...line2);\r\n        \r\n        // if ([posOnYAx1, posOnYAx2].includes(null)) return null;\r\n        // if (posOnYAx1 === posOnYAx2) return { x: 0, y: posOnYAx1 };\r\n        if (posOnYAx1 === posOnYAx2) {\r\n            if ([posOnYAx1, posOnYAx2].includes(null)) return null;\r\n            return { x: 0, y: posOnYAx1 };\r\n            // return null;\r\n        }\r\n        \r\n        const slope1 = this.slope(...line1);\r\n        const slope2 = this.slope(...line2);\r\n        if (slope1 === slope2) return null;\r\n\r\n        // if ([slope1, slope2].includes(null)) return null;\r\n        if (slope1 === null) return { y: line2[0].y, x: slope2*line2[0].y + posOnYAx2 };\r\n        if (slope2 === null) return { y: line1[0].y, x: slope1*line1[0].y + posOnYAx1 };\r\n\r\n        const x = (slope1 * line1[0].x + posOnYAx1 - posOnYAx2) / slope2;\r\n        const y = slope1 * x + posOnYAx1;\r\n\r\n        return { x, y };\r\n    },\r\n    isIntersect(line1, line2) {   // from web, try to rewrite\r\n        const l1x1 = line1[0].x;  // a\r\n        const l1y1 = line1[0].y;  // b\r\n        const l1x2 = line1[1].x;  // c\r\n        const l1y2 = line1[1].y;  // d\r\n        const l2x1 = line2[0].x;  // p\r\n        const l2y1 = line2[0].y;  // q\r\n        const l2x2 = line2[1].x;  // r\r\n        const l2y2 = line2[1].y;  // s\r\n        const det = (l1x2 - l1x1) * (l2y2 - l2y1) - (l2x2 - l2x1) * (l1y2 - l1y1);\r\n        if (det === 0) return false;\r\n        const lambda = ((l2y2 - l2y1) * (l2x2 - l1x1) + (l2x1 - l2x2) * (l2y2 - l1y1)) / det;\r\n        const gamma = ((l1y1 - l1y2) * (l2x2 - l1x1) + (l1x2 - l1x1) * (l2y2 - l1y1)) / det;\r\n        return (0 < lambda && lambda < 1) && (0 < gamma && gamma < 1);\r\n    },\r\n    pythagoras(w, h) {\r\n        return Math.sqrt(w**2 + h**2);\r\n    },\r\n    distBetweenPoss(a, b) {\r\n        const w = Math.abs(a.x - b.x);\r\n        const h = Math.abs(a.y - b.y);\r\n        return this.pythagoras(w, h);\r\n    },\r\n    isPosOnLine(pos, line) {\r\n        const dist = this.distBetweenPoss.bind(this);\r\n        const [a, b] = line;\r\n        return dist(pos, a) + dist(pos, b) === dist(a, b);\r\n    },\r\n    isPosOnPoligon(pos = {x: 0, y: 0}, polygon = [], rotate = 0, acordingToPos, autoCloseShape = true, edgeOnly = false) {\r\n        const sortLine = (a,b) => a.x-b.x;\r\n        if (rotate) polygon = polygon.map(c => this.rotatePosition(c, rotate));\r\n        if (acordingToPos) polygon = polygon.map(c => ({ x: c.x+acordingToPos.x, y: c.y+acordingToPos.y }));\r\n        const { maxX, maxY, minX, minY } = this.getPolygonSize(polygon);\r\n        if (pos.x < minX || pos.x > maxX || pos.y < minY || pos.y > maxY) return false;\r\n        const testLine = [pos, { x: maxX+1, y: pos.y }].sort(sortLine);\r\n        let intersectPossCount = 0;\r\n        for (let i = 0; i < polygon.length; i++) {\r\n            if (!autoCloseShape && !polygon[i+1]) break;\r\n            const currPolLine = [polygon[i], polygon[i+1] || polygon[0]].sort(sortLine);\r\n            if (edgeOnly) {\r\n                if (this.isPosOnLine(pos, currPolLine)) return true;\r\n                continue;\r\n            }\r\n            if (JSON.stringify(currPolLine[0]) === JSON.stringify(currPolLine[1])) continue;\r\n            const intersectPos = this.isIntersect(testLine, currPolLine);\r\n            if (intersectPos) intersectPossCount++;\r\n        }\r\n        if (edgeOnly) return false;\r\n        return (intersectPossCount % 2 === 0)? false : true; \r\n    },\r\n    rotatePosition(pos = { x: 0, y: 0 }, deg = 0, acordingToPos = { x: 0, y: 0 }) {\r\n        const x = pos.x - acordingToPos.x;\r\n        const y = pos.y - acordingToPos.y;\r\n        const rad = this.degToRadian(deg);\r\n        return {\r\n            y: (x*Math.sin(rad) + y*Math.cos(rad)) + acordingToPos.y,\r\n            x: (x*Math.cos(rad) - y*Math.sin(rad)) + acordingToPos.x\r\n        }\r\n    },\r\n    posByPosDegAndDist(pos, deg, dist) {\r\n        // deg += 90;\r\n        return {\r\n            x: pos.x + (dist * Math.cos(this.degToRadian(deg))),\r\n            y: pos.y + (dist * Math.sin(this.degToRadian(deg)))\r\n        }\r\n    },\r\n    isPosInEllipse(pos = { x: 0, y: 0 }, ellipse = { w: 0, y: 0, x: 0, h: 0, rotate: 0, circleDegries: [] }, acordingToPos) {\r\n        pos = this.rotatePosition(pos, -ellipse.rotate || 0, ellipse);\r\n        // TODO;\r\n        /**\r\n         */\r\n        const testRects = [];\r\n        const circleDegs = ellipse.circleDegries;\r\n        const rectsCount = Math.ceil(Math.abs(circleDegs[1] - circleDegs[0]) / 90);\r\n        for (let i = 0; i < rectsCount; i++) {\r\n            const startDeg = circleDegs[0] + 90*i;\r\n            let endDeg = startDeg + 90;\r\n            if (endDeg > circleDegs[1]) {\r\n                endDeg = circleDegs[1];\r\n            }\r\n            const biggerSize = Math.max(ellipse.w, ellipse.h)/2;\r\n            const ellipsePos = { x: ellipse.x, y: ellipse.y };\r\n            const secPos = this.posByPosDegAndDist(ellipsePos, startDeg, biggerSize);\r\n            const testRect = [\r\n                ellipsePos,\r\n                secPos,\r\n                this.posByPosDegAndDist(secPos, endDeg, biggerSize),\r\n                this.posByPosDegAndDist(ellipsePos, endDeg, biggerSize),\r\n            ];\r\n            testRects.push(testRect);\r\n            if (endDeg >= circleDegs[1]) break;\r\n        }\r\n        const isIntesectRect =  testRects.some(c => this.isPosOnPoligon(pos, c, undefined));\r\n        const rX = ellipse.w/2;\r\n        const rY = ellipse.h/2;\r\n        const isIntersectEllipse = (((pos.x-ellipse.x)**2)/(rX**2)) + (((pos.y-ellipse.y)**2)/(rY**2)) <= 1;\r\n        return isIntesectRect && isIntersectEllipse;\r\n    },\r\n    rectToPolygon(rect, acordingToPos = { x: 0, y: 0 }, debug) {\r\n        const { w, h, x, y, isCenterPos } = rect;\r\n        let xStart = x - acordingToPos.x;\r\n        let xEnd = x+w - acordingToPos.x;\r\n        let yStart = y - acordingToPos.y;\r\n        let yEnd = y+h - acordingToPos.y;\r\n        if (isCenterPos) {\r\n            xStart -= (w/2);\r\n            xEnd -= (w/2);\r\n            yStart -= (h/2);\r\n            yEnd -= (h/2);\r\n        }\r\n        return [\r\n            { x: xStart, y: yStart },\r\n            { x: xEnd, y: yStart },\r\n            { x: xEnd, y: yEnd },\r\n            { x: xStart, y: yEnd },\r\n        ];\r\n    },\r\n    // isPosInRect(pos, rect) {\r\n    //     const { w, h, x, y, isCenterPos } = rect;\r\n    //     let xStart = x\r\n    //     let xEnd = x+w;\r\n    //     let yStart = y\r\n    //     let yEnd = y+h;\r\n    //     if (isCenterPos) {\r\n    //         xStart -= w/2;\r\n    //         xEnd -= w/2;\r\n    //         yStart -= h/2;\r\n    //         yEnd -= h/2;\r\n    //     }\r\n    //     return pos.x >= xStart && pox.x <= xEnd &&\r\n    //            pos.y >= yStart && pos.y <= yEnd;\r\n    // },\r\n    fitParentSize(containerSize, elementSize) {\r\n        const biggerElementSizeProp = elementSize.w > elementSize.h ? 'w' : 'h';\r\n        const smallerElementSizeProp = biggerElementSizeProp === 'w' ? 'h' : 'w';\r\n        const elementRatio = elementSize[smallerElementSizeProp] / elementSize[biggerElementSizeProp];\r\n\r\n        const isContainerWide = elementSize.w > elementSize.h;\r\n        const isElementRatioSmallerThanContainer = elementSize.w / elementSize.h < containerSize.w / containerSize.h;\r\n        \r\n        let convertedSize;\r\n        if (containerSize.w > containerSize.h) {\r\n            if (isElementRatioSmallerThanContainer) convertedSize = {\r\n                h: containerSize.h,\r\n                w: (isContainerWide) ? containerSize.h / elementRatio : containerSize.h * elementRatio\r\n            }\r\n            else convertedSize = {\r\n                w: containerSize.w,\r\n                h: (isContainerWide) ? containerSize.w * elementRatio : containerSize.w / elementRatio\r\n            }\r\n        } else {\r\n            if (isElementRatioSmallerThanContainer) convertedSize = {\r\n                h: containerSize.h,\r\n                w: (isContainerWide) ? containerSize.h / elementRatio : containerSize.h * elementRatio\r\n            }\r\n            else convertedSize = {\r\n                w: containerSize.w,\r\n                h: (isContainerWide) ? containerSize.w * elementRatio : containerSize.w / elementRatio\r\n            }\r\n        }\r\n        return convertedSize;\r\n    },\r\n    getFullPosByPosAndDeg(pos = { x: 0, y: 0 }, posToFill = { x: 0,y: 0 }, deg = 360) {\r\n        const rad = this.degToRadian(deg);\r\n        // const rad = deg;\r\n        const axis = posToFill.x === null ? 'x' : 'y';\r\n        if (axis === 'x') {\r\n            // (pos.y-posToFill.y) / (pos.x-posToFill.x) = rad;\r\n            // (pos.y-posToFill.y) = rad * (pos.x-posToFill.x);\r\n            // (pos.y-posToFill.y) / rad = (pos.x-posToFill.x);\r\n            // ((pos.y-posToFill.y) / rad) - pos.x = (-posToFill.x);\r\n            // -(((pos.y-posToFill.y) / rad) - pos.x) = posToFill.x;\r\n            // return -(((pos.y-posToFill.y) / rad) - pos.x);\r\n            posToFill.x = -(((pos.y-posToFill.y) / rad) - pos.x);\r\n        } else if (axis === 'y') {\r\n            // (pos.y-posToFill.y) / (pos.x-posToFill.x) = rad;\r\n            // (pos.y-posToFill.y) = rad * (pos.x-posToFill.x);\r\n            // (-posToFill.y) = (rad * (pos.x-posToFill.x)) - pos.y;\r\n            // (posToFill.y) = -((rad * (pos.x-posToFill.x)) - pos.y);\r\n            posToFill.y = -((rad * (pos.x-posToFill.x)) - pos.y);\r\n            \r\n        }\r\n        return posToFill;\r\n    },\r\n\r\n    posOnCircleByDeg(circle = { x, y, r }, deg = 0) {\r\n        const rad = MathService.degToRadian(deg);\r\n        return {\r\n            x: circle.r * Math.cos(rad) + circle.x,\r\n            y: circle.r * Math.sin(rad) + circle.y\r\n        }\r\n    }\r\n}\r\n\r\n// methods to help with creating the actions elements;\r\nconst ElementService = {\r\n    El: (() => {\r\n        function getElType(template) {\r\n            if (!(template[0] === '<' && template[template.length-1] === '>')) return;\r\n            if (template[1] === '/') return template.split('/')[1].split(' ')[0].split('>')[0];\r\n            else return template.split('<')[1].split(' ')[0].split('>')[0].split('/')[0];\r\n        }\r\n        return (htmlStr = '', evs = {}, children = []) => {\r\n            let parentType = 'div';\r\n            const elType = getElType(htmlStr);\r\n            if (elType === 'tr') parentType = 'table';\r\n            else if (elType === 'td') parentType = 'tr';\r\n            const parent = document.createElement(parentType);\r\n            parent.innerHTML = htmlStr;\r\n            const el = parent.firstChild;\r\n            for (let evName in evs) el[evName] = evs[evName];\r\n            children.forEach(child => child && el.appendChild(child));\r\n            return el;\r\n        }\r\n    })(),\r\n    \r\n    StyleEl: (() => {\r\n        const CAPS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');\r\n        function _stringToLowerKabab(str) {\r\n            let fixedStr = '';\r\n            for (let i = 0; i < str.length; i++) {\r\n                let curr = str[i];\r\n                let lowerCurr = curr.toLowerCase();\r\n                if (CAPS.includes(curr)) {\r\n                    if (i === 0) fixedStr += lowerCurr;\r\n                    else if (str[i-1] && (str[i-1] !== ' ')) fixedStr += `-${lowerCurr}`;\r\n                } else fixedStr += lowerCurr;\r\n            }\r\n            return fixedStr;\r\n        }\r\n        return function StyleEl(selector = '', style = {}, tab = 0) {\r\n            const tabStr = '\\t'.repeat(tab);\r\n            let styleStr = `${tabStr}${selector} {`;\r\n            let nestedStyle = '';\r\n            for (let key in style) {\r\n                const val = style[key];\r\n                key = _stringToLowerKabab(key);\r\n                if (typeof val === 'object') {\r\n                    const isCssRule = key[0] === '@';\r\n                    if (!isCssRule) {\r\n                        let nestedSelector = selector;\r\n                        if (key[0] === '&') nestedSelector += key.slice(1);\r\n                        else nestedSelector += ` ${key}`;\r\n                        nestedStyle += StyleEl(nestedSelector, val);\r\n                    } else {\r\n                        nestedStyle += `${key} {\\n`;\r\n                        nestedStyle += StyleEl(selector, val, 1);\r\n                        nestedStyle += '}\\n';\r\n                    }\r\n                }\r\n                else styleStr += `\\n${tabStr}\\t${key}: ${val};`;\r\n            }\r\n            styleStr += `\\n${tabStr}}\\n`;\r\n            styleStr += nestedStyle;\r\n            return styleStr;\r\n        }\r\n    })()\r\n}","<template>\r\n  <div class=\"animated-loader-container\"></div>\r\n</template>\r\n\r\n<script>\r\nimport { CanvasService, MathService } from '../services/canvasService/canvas.service';\r\nimport { getRandomColor, getRandomId, getRandomInt } from '../services/util.service';\r\nexport default {\r\n  name: 'AnimatedLoader',\r\n  props: {\r\n    negative: Boolean\r\n  },\r\n  data() {\r\n    return {\r\n      destroyCanvas: null,\r\n      animationInterval: null\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  destroyed() {\r\n    this.destroyCanvas?.();\r\n    clearInterval(this.animationInterval);\r\n  },\r\n  methods: {\r\n    init() {\r\n      const closeShape = false;\r\n      const randomize = true;\r\n      const colorize = true;\r\n      const showAllConnections = true;\r\n      const startFrom0 = false\r\n      const fibo = false;\r\n      const flipedFibo = false;\r\n      const angles = 12;\r\n      // const speed = 0.6;\r\n      const speed = 0.3;\r\n      const { negative } = this;\r\n      const _angles = randomize && getRandomInt(2, 15) || angles || 12;\r\n      const split1To = (count) => {\r\n        const step = 1 / count;\r\n        const res = [];\r\n        for (let i = 0; i < count; i++) res.push(step * i);\r\n        return res;\r\n      }\r\n      const rootCircle = { x: 50, y: 50, r: 46.5 };\r\n      const animationItems = split1To(_angles).map((step, i) => ({\r\n        id: getRandomId(),\r\n        deg : startFrom0? 270 : step*360,\r\n        r: fibo? rootCircle.r*(flipedFibo? step : (1 - step)) : rootCircle.r,\r\n        speed: (i+1)*speed,\r\n        color: getRandomColor()\r\n      }));\r\n      const board = {\r\n          width: 100,\r\n          height: 100,\r\n          shapes: [...animationItems],\r\n          staticShapes: [ \r\n            { hide: true, x:50,y:50,w:15,h:15,isCenterPos:true,text:_angles,style: {fillStyle:'white',textAlign:'center',textBaseline:'middle'} },\r\n            { ...rootCircle, w: rootCircle.r*2, h: rootCircle.r*2, isCenterPos: true, circleDegries: 360, style: { sstrokeStyle: '#ac1b1b', fillStyle: negative? '#FFFFFF20' : '#00000020' } }\r\n          ]\r\n      }\r\n      const canvasService = new CanvasService(board, { selector:  '.animated-loader-container', enableAnimation: true }, (shape, drawOpts, context, service) => {\r\n          const idx = animationItems.findIndex(c => c.id === shape.id);\r\n          const prev = idx === 0? animationItems[animationItems.length-1] : animationItems[idx-1];\r\n          const currPos = MathService.posOnCircleByDeg({...rootCircle, r: shape.r}, shape.deg);\r\n          const prevPos = MathService.posOnCircleByDeg({...rootCircle, r: prev.r}, prev.deg);\r\n          const res = [\r\n              {\r\n                ...currPos,\r\n                circleDegries: 360, w: 6, h: 6, isCenterPos: true, style: { fillStyle: colorize && false? shape.color : '#264e8c' || '#62d667', sstrokeStyle: negative && false? 'white' : 'black' }\r\n              },\r\n          ];\r\n          if (!showAllConnections && (idx || closeShape)) res.push({\r\n            ...currPos,\r\n            zIndex: -1,\r\n            geoShape: [\r\n              { x: 0, y: 0 },\r\n              { x: prevPos.x - currPos.x, y: prevPos.y - currPos.y }\r\n            ],\r\n            style: {\r\n              strokeStyle: colorize && shape.color || ( negative? 'white' : 'black') || '#0f165c' || '#9effb9',\r\n              lineCap: 'round',\r\n              lineWidth: 0.5\r\n            }\r\n          });\r\n          // if (prev.id === animationItems[animationItems.length-1].id) console.log(prev.id, idx, (idx || (!idx && (prev.id !== prev.id))));\r\n          if (showAllConnections) res.push(...animationItems.filter((c, i) => (i > idx) && (c.id !== shape.id) && (closeShape || idx === animationItems.length-1? i : true) && (closeShape || idx || (c.id !== prev.id))).map(c => ({\r\n            ...currPos,\r\n            zIndex: -1,\r\n            geoShape: [\r\n              { x: 0, y: 0 },\r\n              { x: MathService.posOnCircleByDeg({...rootCircle, r: c.r}, c.deg).x - currPos.x, y: MathService.posOnCircleByDeg({...rootCircle, r: c.r}, c.deg).y - currPos.y }\r\n            ],\r\n            style: {\r\n              strokeStyle: colorize && shape.color || ( negative? 'white' : 'black') || '#0f165c' || '#9effb9',\r\n              lineCap: 'round',\r\n              lineWidth: 0.5\r\n            }\r\n          })))\r\n          return res;\r\n      });\r\n      this.destroyCanvas = () => canvasService.removeWindowEventListeners();\r\n      this.animationInterval = setInterval(() => {\r\n        animationItems.forEach(c => {\r\n          c.deg += c.speed;\r\n          const newPos = MathService.posOnCircleByDeg({...rootCircle, r: c.r}, c.deg);\r\n          c.x = newPos.x;\r\n          c.y = newPos.y;\r\n        });\r\n        canvasService.updateCells(animationItems);\r\n      }, 50);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/styles/global/index';\r\n.animated-loader-container {\r\n  // height: 200px;\r\n  // width: 200px;\r\n  // border: 2px solid blue;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnimationLoader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnimationLoader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnimationLoader.vue?vue&type=template&id=40d779b4&scoped=true&\"\nimport script from \"./AnimationLoader.vue?vue&type=script&lang=js&\"\nexport * from \"./AnimationLoader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnimationLoader.vue?vue&type=style&index=0&id=40d779b4&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40d779b4\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"loader\">\r\n    <div class=\"blure\"></div>\r\n    <!-- <img class=\"preview\" :src=\"require('@/assets/images/loader.gif')\"> -->\r\n    <AnimationLoader class=\"preview\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AnimationLoader from './AnimationLoader.vue'\r\nexport default {\r\n  name: 'Loader',\r\n  components: { AnimationLoader }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/styles/global/index';\r\n.loader {\r\n  &:hover {\r\n    pointer-events: none;\r\n  }\r\n  .blure {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: $blure-clr;\r\n    z-index: 9;\r\n  }\r\n  .preview {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    width: 150px;\r\n    height: 150px;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loader.vue?vue&type=template&id=043614d9&scoped=true&\"\nimport script from \"./Loader.vue?vue&type=script&lang=js&\"\nexport * from \"./Loader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Loader.vue?vue&type=style&index=0&id=043614d9&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"043614d9\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"app\" id=\"app\" v-if=\"settings\" :class=\"{ rtl: isRtl, dark: isDarkMode }\">\n    <div class=\"app-content\">\n      <AppAside/>\n      <div class=\"right\">\n        <AppHeader @action=\"isLoading = true\" @endAction=\"isLoading=false\"/>\n        <main class=\"app-main\">\n          <router-view class=\"main-content\"/>\n        </main>\n      </div>\n    </div>\n    <AppFooter/>\n    <!-- <Loader v-if=\"isLoading\"/> -->\n  </div>\n</template>\n\n<script>\nimport AppHeader from '@/modules/common/cmps/AppHeader.vue';\nimport AppFooter from '@/modules/common/cmps/AppFooter.vue';\nimport AppAside from '@/modules/common/cmps/AppAside.vue';\nimport { socketService } from '@/modules/common/services/socket.service';\nimport evEmmiter from '@/modules/common/services/event-emmiter.service';\nimport Loader from './modules/common/cmps/Loader.vue';\nexport default {\n  name: 'App',\n  components: {\n    AppHeader,\n    AppFooter,\n    AppAside,\n    Loader\n  },\n  data() {\n    return {\n      isLoading: false,\n      isDarkMode: localStorage.isDarkMode === 'true'\n    }\n  },\n  computed: {\n    settings() {\n      return this.$store.getters['settings/settings'];\n    },\n    isRtl() {\n      const locale = this.$i18n.locale;\n      return ['he'].includes(locale);\n    },\n    loggedUser() {\n      return this.$store.getters['auth/loggedUser'];\n    }\n  },\n  async created() {\n    this.isLoading = true;\n    // await socketService.connect();\n    try {\n      await Promise.all([\n        this.$store.dispatch('settings/loadSettings'),\n        this.$store.dispatch('auth/getUserInfo')\n      ]);\n    } catch(e) {}\n    this.isLoading = false;\n    evEmmiter.on('set_darkmode', (val) => {\n      this.isDarkMode = val;\n    });\n\n\n    if (['HomePage'].includes(this.$route.name)) {\n      if (this.loggedUser) this.$router.push({ name: 'EdMapPage' });\n      else this.$router.push({ name: 'LoginPage' });\n    }\n  }\n}\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=fd2262e0&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready () {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered () {\n      console.log('Service worker has been registered.')\n    },\n    cached () {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound () {\n      console.log('New content is downloading.')\n    },\n    updated () {\n      console.log('New content is available; please refresh.')\n    },\n    offline () {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error (error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"home-page container flex-center height-all\"},[_c('CreditLogo')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home-page container flex-center height-all\">\n    <CreditLogo/>\n  </div>\n</template>\n\n<script>\nimport CreditLogo from '../cmps/CreditLogo.vue'\nexport default {\n  components: { CreditLogo },\n  name: 'Home'\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=71c4218d&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"about-page container flex-center height-all\"},[_vm._v(\" ABOUT PAGE | \"),_c('Tooltip',{attrs:{\"msg\":\"This is a tooltip in the about page, telling you something about it.\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"tooltip\"},[_c('span',{ref:\"elPreview\",staticClass:\"tooltip-preview\",on:{\"click\":_vm.toggleShow,\"mouseleave\":function($event){return _vm.toggleHoverShow(false)},\"mouseover\":function($event){return _vm.handleHover($event)}}},[(!_vm.$slots.preview)?_c('span',[_vm._v(\"(?)\")]):_vm._t(\"preview\")],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show || _vm.hoverShow),expression:\"show || hoverShow\"}],ref:\"elMsg\",staticClass:\"tooltip-msg\"},[(!_vm.$slots.content)?_c('p',[_vm._v(_vm._s(_vm.msg? _vm.$t(_vm.msg) : 'No tooltip message...'))]):_vm._t(\"content\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <span class=\"tooltip\">\r\n    <span ref=\"elPreview\" class=\"tooltip-preview\" @click=\"toggleShow\" @mouseleave=\"toggleHoverShow(false)\" @mouseover=\"handleHover($event)\">\r\n      <!-- <img class=\"tooltip-img\" v-if=\"!$slots.preview\" :src=\"require('@/assets/tooltip.svg')\" alt=\"\" /> -->\r\n      <span v-if=\"!$slots.preview\">(?)</span>\r\n      <slot v-else name=\"preview\"/>\r\n    </span>\r\n    <div v-show=\"show || hoverShow\" ref=\"elMsg\" class=\"tooltip-msg\">\r\n      <p v-if=\"!$slots.content\">{{ msg? $t(msg) : 'No tooltip message...' }}</p>\r\n      <slot v-else name=\"content\"/>\r\n    </div>\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nimport { getElPosOnScreen } from '../services/util.service';\r\nexport default {\r\n  name: 'Tooltip',\r\n  props: {\r\n    msg: {\r\n      type: String, required: false,\r\n      default: ''\r\n    },\r\n    attachToElement: {\r\n      type: String,\r\n      required: false,\r\n      default: 'body'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      show: false,\r\n      hoverShow: false\r\n    }\r\n  },\r\n  \r\n  methods: {\r\n    toggleShow(val) {\r\n      this.show = typeof val === 'boolean'? val : !this.show;\r\n      if (this.show) this.viewMsg();\r\n      else this.hoverShow = false;\r\n    },\r\n    toggleHoverShow(val) {\r\n      this.hoverShow = typeof val === 'boolean'? val : !this.hoverShow;\r\n      if (this.show) this.viewMsg();\r\n    },\r\n    handleHover(ev) {\r\n      // this.toggleHoverShow(true);\r\n      this.hoverShow = true;\r\n      this.viewMsg(ev);\r\n    }, \r\n    viewMsg(ev) {\r\n      const { elPreview, elMsg } = this.$refs;\r\n      const { offsetWidth: preWidth, offsetHeight: preHeight } = elPreview;\r\n      const { offsetWidth: msgWidth, offsetHeight: msgHeight } = elMsg;\r\n      const { offsetWidth: parentWidth, offsetHeight: parentHeight } = document.querySelector(this.attachToElement);\r\n\r\n      const elPreviewPos = getElPosOnScreen(elPreview);\r\n\r\n      const { clientX, clientY } = ev? ev : { clientX: elPreviewPos.x, clientY: elPreviewPos.y };\r\n\r\n      const style = {};\r\n      style.left = style.right = style.bottom = style.top = style.width = style.transform = '';\r\n      \r\n      let width = 270;\r\n\r\n      style.left = 0;\r\n      let diffXFromBorder;\r\n      if ((parentWidth - clientX) < width) {\r\n        style.left -= width\r\n        diffXFromBorder = elPreviewPos.x - width;\r\n      } else diffXFromBorder = elPreviewPos.x + width;\r\n      if (diffXFromBorder < 0) style.left -= diffXFromBorder;\r\n      else if (diffXFromBorder > parentWidth) style.left += diffXFromBorder;\r\n      else style.left += preWidth / 2;\r\n      style.left += 'px';\r\n      \r\n      style.top = 0;\r\n      let diffYFromBorder;\r\n      if ((parentHeight - clientY) < msgHeight) {\r\n        style.top -= preHeight\r\n        diffYFromBorder = elPreviewPos.y - preHeight;\r\n      } else diffYFromBorder = elPreviewPos.y + preHeight;\r\n      if (diffYFromBorder < 0) style.top -= diffYFromBorder;\r\n      else if (diffYFromBorder > parentHeight) style.top += diffYFromBorder;\r\n      else style.top += preHeight / 2;\r\n      style.top += 'px';\r\n\r\n      const windowWidth = window.innerWidth;\r\n\r\n      if ((width*1.5) > windowWidth) {\r\n        style.width = '95vw';\r\n        style.left = windowWidth / 2 - elPreviewPos.x + 'px';\r\n        style.transform = 'translateX(-50%)';\r\n      } else style.width = width + 'px';\r\n\r\n      for (let key in style) elMsg.style[key] = style[key];\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tooltip {\r\n  position: relative;\r\n  .tooltip-preview {\r\n    .tooltip-img {\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n  }\r\n  .tooltip-msg {\r\n    position: absolute;\r\n    z-index: 1000;\r\n    width: 270px;\r\n    padding: 15px;\r\n    line-height: 1.3;\r\n    background-color: #5a5a5a;\r\n    color: #ffffff;\r\n    box-shadow: 0 5px 13px 0 #44444478;\r\n    font-weight: normal;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tooltip.vue?vue&type=template&id=671a0e06&scoped=true&\"\nimport script from \"./Tooltip.vue?vue&type=script&lang=js&\"\nexport * from \"./Tooltip.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tooltip.vue?vue&type=style&index=0&id=671a0e06&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"671a0e06\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"about-page container flex-center height-all\">\n    ABOUT PAGE | <Tooltip msg=\"This is a tooltip in the about page, telling you something about it.\"/>\n    <!-- <br/> -->\n    <!-- <Tooltip>\n      <template #preview>\n        I AM A TOOLTIP\n      </template>\n      <template #content>\n        THIS IS A TOOLTIP MESSAGE !!!\n      </template>\n    </Tooltip> -->\n  </div>\n</template>\n<script>\nimport Tooltip from '../cmps/Tooltip.vue';\nexport default {\n  name: 'About',\n  components: { Tooltip }\n}\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=037310c8&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"sand-box-page container flex column align-center justify-center gap20 height-all\"},[_c('div',[_vm._v(\" SAND BOX \")]),_c('div',{staticClass:\"flex align-center space-around gap20 stars-container width-alll\"},[_c('AnimationLoader',{staticClass:\"loader\",attrs:{\"negative\":true}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"sun-sistem-container\"})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"sun-sistem-container\"></div>\r\n</template>\r\n\r\n<script>\r\nimport { CanvasService, MathService } from '../services/canvasService/canvas.service';\r\nimport { getRandomColor, getRandomId, getRandomInt } from '../services/util.service';\r\nexport default {\r\n  name: 'SunSistem',\r\n  data() {\r\n    return {\r\n      destroyCanvas: null,\r\n      animationInterval: null\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  destroyed() {\r\n    this.destroyCanvas?.();\r\n    clearInterval(this.animationInterval);\r\n  },\r\n  methods: {\r\n    init() {\r\n      const showcircles = false;\r\n      const showAttachedLines = false;\r\n      const rootSpeed = .6;\r\n      const canvasSize = 3550;\r\n      const prevSteps = 0;\r\n      const creatStarCircleItem = (name, r, speed = 1, width = 10, color, attachedTo) => {\r\n        const circle = { r, x: canvasSize/2, y: canvasSize/2 };\r\n        const deg = 270 + speed*prevSteps;\r\n        return { name, circle, speed: speed*rootSpeed, width, deg, attachedTo, id: getRandomId(), ...MathService.posOnCircleByDeg(circle), color: color || getRandomColor() }\r\n      }\r\n      const stars = [\r\n        creatStarCircleItem('earth', 650, 1, 100, 'blue'),\r\n        creatStarCircleItem('moon', 150, 3, 50, 'white', 'earth'),\r\n        creatStarCircleItem('marse', 350, 3, 150, 'red'),\r\n        creatStarCircleItem('jupiter', 950, 2, 150, 'green'),\r\n        creatStarCircleItem('jupiter', 1200, 0.5, 200, 'grey'),\r\n        creatStarCircleItem('venus', 1645, 0.2, 260, 'brown'),\r\n      ];\r\n      const sun = { name: 'sun', circle: { r:0, x: canvasSize/2, y: canvasSize/2 }, x: canvasSize/2, y: canvasSize/2, circleDegries: 360, w: 300, h: 300, isCenterPos: true, style: { fillStyle: 'yellow' } };\r\n      const board = {\r\n          width: canvasSize,\r\n          height: canvasSize,\r\n          shapes: stars,\r\n          staticShapes: [sun]\r\n      }\r\n      const canvasService = new CanvasService(board, { selector:  '.sun-sistem-container', enableAnimation: true }, (star, drawOpts, context, service) => {\r\n          const attachedStar = star.attachedTo? stars.find(c => c.name === star.attachedTo) : sun;\r\n          const currPos = { x: star.x, y: star.y };\r\n          const res = [\r\n              {\r\n                ...currPos,\r\n                circleDegries: 360, w: star.width, h: star.width, isCenterPos: true, style: { fillStyle: star.color }\r\n              },\r\n          ];\r\n          if (showcircles) res.push({ \r\n            x: attachedStar.x,\r\n            y: attachedStar.y,\r\n            zIndex: -1,\r\n            w: star.circle.r*2, h: star.circle.r*2, isCenterPos: true, circleDegries: 360, style: { strokeStyle: 'black' }\r\n          });\r\n          if (showAttachedLines) res.push({\r\n            ...currPos,\r\n            zIndex: -1,\r\n            geoShape: [\r\n              { x: 0, y: 0 },\r\n              { x: attachedStar.x - currPos.x, y: attachedStar.y - currPos.y }\r\n            ],\r\n            style: {\r\n              strokeStyle: 'black',\r\n              lineCap: 'round'\r\n            }\r\n          })\r\n          return res;\r\n      });\r\n      this.destroyCanvas = () => canvasService.removeWindowEventListeners();\r\n      this.animationInterval = setInterval(() => {\r\n        stars.forEach(c => {\r\n          const attachedStar = c.attachedTo? stars.find(curr => curr.name === c.attachedTo) : sun;\r\n          const attacheedPos = attachedStar.circle ? MathService.posOnCircleByDeg(attachedStar.circle, attachedStar.deg) : { x: attachedStar.x, y: attachedStar.y };\r\n          c.deg += c.speed;\r\n          const newPos = MathService.posOnCircleByDeg({ ...attacheedPos, r: c.circle.r}, c.deg);\r\n          c.x = newPos.x;\r\n          c.y = newPos.y;\r\n        });\r\n        canvasService.updateCells(stars);\r\n      }, 50);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.sun-sistem-container {\r\n  // border: 2px solid black;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SunSistem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SunSistem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SunSistem.vue?vue&type=template&id=8508d2e0&scoped=true&\"\nimport script from \"./SunSistem.vue?vue&type=script&lang=js&\"\nexport * from \"./SunSistem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SunSistem.vue?vue&type=style&index=0&id=8508d2e0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8508d2e0\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"sand-box-page container flex column align-center justify-center gap20 height-all\">\r\n    <div> SAND BOX </div>\r\n    <div class=\"flex align-center space-around gap20 stars-container width-alll\">\r\n      <AnimationLoader :negative=\"true\" class=\"loader\" />\r\n      <!-- <SunSistem/> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport AnimationLoader from '../cmps/AnimationLoader.vue';\r\nimport SunSistem from '../cmps/SunSistem.vue';\r\n\r\nexport default {\r\n  name: 'SandBox',\r\n  components: { AnimationLoader, SunSistem }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.sand-box-page {\r\n  // height: 100vh;\r\n  background-color: black;\r\n  color: white;\r\n  .stars-container {\r\n    position: relative;\r\n    // border: 1px solid white;\r\n    padding: 3px;\r\n    .loader, .sun-sistem-container {\r\n      width: 300px;\r\n      height: 300px;\r\n    }\r\n    .sun-sistem-container {\r\n      position: absolute;\r\n  \r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SandBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SandBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SandBox.vue?vue&type=template&id=45c8e6f7&scoped=true&\"\nimport script from \"./SandBox.vue?vue&type=script&lang=js&\"\nexport * from \"./SandBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SandBox.vue?vue&type=style&index=0&id=45c8e6f7&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45c8e6f7\",\n  null\n  \n)\n\nexport default component.exports","import Home from './views/Home';\r\nimport About from './views/About';\r\nimport SandBox from './views/SandBox';\r\n\r\nexport const commonRoutes = [\r\n  {\r\n    path: '/',\r\n    component: Home,\r\n    name: 'HomePage'\r\n  },\r\n  {\r\n    path: '/about',\r\n    component: About,\r\n    name: 'AboutPage'\r\n  },\r\n  {\r\n    path: '/sand-box',\r\n    component: SandBox,\r\n    name: 'SandBox'\r\n  },\r\n]","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"auth-app container inner-app\"},[_c('router-view',{staticClass:\"inner-app-content\"}),(_vm.isLoading)?_c('Loader'):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"auth-app container inner-app\">\r\n    <router-view class=\"inner-app-content\"/>\r\n    <Loader v-if=\"isLoading\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Loader from '@/modules/common/cmps/Loader.vue';\r\nexport default {\r\n  name: 'AuthApp',\r\n  computed: {\r\n    isLoading() {\r\n      return this.$store.getters['auth/isLoading'];\r\n    }\r\n  },\r\n  components: {\r\n    Loader\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthApp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthApp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AuthApp.vue?vue&type=template&id=f071f53c&\"\nimport script from \"./AuthApp.vue?vue&type=script&lang=js&\"\nexport * from \"./AuthApp.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-page\"},[_c('router-link',{attrs:{\"to\":{name: 'SignupPage'}}},[_c('button',[_vm._v(_vm._s(_vm.$t('signup')))])]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.login.apply(null, arguments)}}},[_c('FormInput',{attrs:{\"type\":\"text\",\"placeholder\":\"username\",\"label\":\"username\"},model:{value:(_vm.userCred.username),callback:function ($$v) {_vm.$set(_vm.userCred, \"username\", $$v)},expression:\"userCred.username\"}}),_c('FormInput',{attrs:{\"type\":\"password\",\"placeholder\":\"password\",\"label\":\"password\"},model:{value:(_vm.userCred.password),callback:function ($$v) {_vm.$set(_vm.userCred, \"password\", $$v)},expression:\"userCred.password\"}}),_c('button',{attrs:{\"disabled\":!_vm.isUserValid}},[_vm._v(_vm._s(_vm.$t('submit')))])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"form-input\",class:{ 'show-error': _vm.showError, ['form-input-' + _vm.type]: true }},[(_vm.label)?_c('label',{staticClass:\"label\",attrs:{\"for\":_vm.inputId}},[_c('p',[_vm._v(_vm._s(_vm.$t(_vm.label)))]),(_vm.required)?_c('span',{staticClass:\"require-span\",style:({ opacity: _vm.isEmpty ? 1 : 0 })},[_vm._v(\"*\")]):_vm._e()]):_vm._e(),_c('div',{ref:\"elInputContainer\",staticClass:\"input\",class:{\n      [_vm.type]: true,\n      empty: _vm.isEmpty,\n      [(_vm.iconPos && 'icon-' + _vm.iconPos) || '']: true,\n    }},[((_vm.type)==='checkbox'&&(_vm.componentType === 'input'))?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.val),expression:\"val\"}],ref:\"elInput\",attrs:{\"disabled\":_vm.disabled,\"id\":_vm.inputId,\"required\":_vm.required,\"min\":_vm.min,\"max\":_vm.max,\"placeholder\":_vm.$t(_vm.placeholder),\"step\":_vm.step,\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.val)?_vm._i(_vm.val,null)>-1:(_vm.val)},on:{\"change\":function($event){var $$a=_vm.val,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.val=$$a.concat([$$v]))}else{$$i>-1&&(_vm.val=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.val=$$c}}}}):((_vm.type)==='radio'&&(_vm.componentType === 'input'))?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.val),expression:\"val\"}],ref:\"elInput\",attrs:{\"disabled\":_vm.disabled,\"id\":_vm.inputId,\"required\":_vm.required,\"min\":_vm.min,\"max\":_vm.max,\"placeholder\":_vm.$t(_vm.placeholder),\"step\":_vm.step,\"type\":\"radio\"},domProps:{\"checked\":_vm._q(_vm.val,null)},on:{\"change\":function($event){_vm.val=null}}}):(_vm.componentType === 'input')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.val),expression:\"val\"}],ref:\"elInput\",attrs:{\"disabled\":_vm.disabled,\"id\":_vm.inputId,\"required\":_vm.required,\"min\":_vm.min,\"max\":_vm.max,\"placeholder\":_vm.$t(_vm.placeholder),\"step\":_vm.step,\"type\":_vm.type},domProps:{\"value\":(_vm.val)},on:{\"input\":function($event){if($event.target.composing)return;_vm.val=$event.target.value}}}):(_vm.componentType === 'textarea')?_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.val),expression:\"val\"}],ref:\"elInput\",attrs:{\"disabled\":_vm.disabled,\"id\":_vm.inputId,\"required\":_vm.required,\"placeholder\":_vm.$t(_vm.placeholder)},domProps:{\"value\":(_vm.val)},on:{\"input\":function($event){if($event.target.composing)return;_vm.val=$event.target.value}}}):(_vm.componentType === 'select')?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.val),expression:\"val\"}],ref:\"elInput\",attrs:{\"disabled\":_vm.disabled,\"id\":_vm.inputId,\"required\":_vm.required,\"placeholder\":_vm.$t(_vm.placeholder)},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.val=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.$emit('change', _vm.val)}]}},_vm._l((_vm.itemsToRender),function(item){return _c('option',{key:item.label,attrs:{\"label\":_vm.$t(item.label)},domProps:{\"value\":item.value,\"selected\":_vm.val.value === item.value}})}),0):(_vm.componentType === 'multiselect')?_c('div',{ref:\"elInput\",class:{ open: _vm.isOpen },attrs:{\"tabindex\":\"0\",\"id\":_vm.inputId},on:{\"click\":function($event){_vm.isOpen = !_vm.isOpen},\"blur\":_vm.closeDropDown}},[_c('div',{staticClass:\"head\",staticStyle:{\"height\":\"100%\",\"display\":\"flex\",\"align-items\":\"center\"}},[_c('span',{staticClass:\"placeholder\"},[_vm._v(_vm._s(_vm.$t(_vm.placeholder)))]),_c('div',{staticClass:\"toggle-btn\"}),_c('div',{staticClass:\"inner-square\"})]),_c('div',{staticClass:\"drop-down\",on:{\"click\":function($event){$event.stopPropagation();}}},_vm._l((_vm.itemsToRender),function(item){return _c('label',{key:item.label},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.val[item.value]),expression:\"val[item.value]\"}],attrs:{\"type\":\"checkbox\",\"id\":\"formCheckbox\",\"disabled\":_vm.disabled},domProps:{\"value\":_vm.val[item.value],\"checked\":Array.isArray(_vm.val[item.value])?_vm._i(_vm.val[item.value],_vm.val[item.value])>-1:(_vm.val[item.value])},on:{\"change\":function($event){var $$a=_vm.val[item.value],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=_vm.val[item.value],$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.val, item.value, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.val, item.value, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.val, item.value, $$c)}}}}),_c('span',[_vm._v(_vm._s(_vm.$t(item.label)))])])}),0)]):_vm._e(),[(_vm.$slots.default || _vm.showError)?_c('div',{staticClass:\"icon-img\",on:{\"click\":function($event){_vm.$refs.elInput.$el.querySelector('input').focus()}}}):_vm._e()]],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"form-input\" :class=\"{ 'show-error': showError, ['form-input-' + type]: true }\">\r\n    <label class=\"label\" :for=\"inputId\" v-if=\"label\">\r\n      <p>{{ $t(label) }}</p>\r\n      <span class=\"require-span\" v-if=\"required\" :style=\"{ opacity: isEmpty ? 1 : 0 }\">*</span>\r\n    </label>\r\n    <div\r\n      ref=\"elInputContainer\"\r\n      class=\"input\"\r\n      :class=\"{\r\n        [type]: true,\r\n        empty: isEmpty,\r\n        [(iconPos && 'icon-' + iconPos) || '']: true,\r\n      }\"\r\n    >\r\n      <input\r\n        v-if=\"componentType === 'input'\"\r\n        ref=\"elInput\"\r\n        :disabled=\"disabled\"\r\n        :id=\"inputId\"\r\n        :required=\"required\"\r\n        :min=\"min\"\r\n        :max=\"max\"\r\n        :placeholder=\"$t(placeholder)\"\r\n        :type=\"type\"\r\n        v-model=\"val\"\r\n        :step=\"step\"\r\n      />\r\n      <textarea\r\n        v-else-if=\"componentType === 'textarea'\"\r\n        ref=\"elInput\"\r\n        :disabled=\"disabled\"\r\n        :id=\"inputId\"\r\n        :required=\"required\"\r\n        :placeholder=\"$t(placeholder)\"\r\n        v-model=\"val\"\r\n      />\r\n\r\n      <select\r\n        v-else-if=\"componentType === 'select'\"\r\n        ref=\"elInput\"\r\n        :disabled=\"disabled\"\r\n        :id=\"inputId\"\r\n        :required=\"required\"\r\n        :placeholder=\"$t(placeholder)\"\r\n        v-model=\"val\"\r\n        @change=\"$emit('change', val)\"\r\n      >\r\n        <option\r\n          v-for=\"item in itemsToRender\"\r\n          :key=\"item.label\"\r\n          :value=\"item.value\"\r\n          :label=\"$t(item.label)\"\r\n          :selected=\"val.value === item.value\"\r\n        />\r\n      </select>\r\n\r\n      <div\r\n        v-else-if=\"componentType === 'multiselect'\"\r\n        ref=\"elInput\"\r\n        tabindex=\"0\"\r\n        :id=\"inputId\"\r\n        :class=\"{ open: isOpen }\"\r\n        @click=\"isOpen = !isOpen\"\r\n        @blur=\"closeDropDown\"\r\n      >\r\n        <div style=\"height:100%;display:flex;align-items:center\" class=\"head\" >\r\n          <span class=\"placeholder\">{{ $t(placeholder) }}</span>\r\n          <div class=\"toggle-btn\"></div>\r\n          <div class=\"inner-square\"></div>\r\n        </div>\r\n        <div class=\"drop-down\" @click.stop=\"\">\r\n          <label v-for=\"item in itemsToRender\" :key=\"item.label\">\r\n            <input\r\n              type=\"checkbox\"\r\n              id=\"formCheckbox\"\r\n              :value=\"val[item.value]\"\r\n              v-model=\"val[item.value]\"\r\n              :disabled=\"disabled\"\r\n            />\r\n            <span>{{ $t(item.label) }}</span>\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      <template>\r\n        <div class=\"icon-img\" @click=\"$refs.elInput.$el.querySelector('input').focus()\" v-if=\"$slots.default || showError\"></div>\r\n      </template>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nfunction generateId(length = 8) {\r\n  var txt = '';\r\n  var opts = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n  for (var i = 0; i < length; i++) {\r\n    txt += opts.charAt(Math.floor(Math.random() * opts.length));\r\n  }\r\n  return txt;\r\n}\r\n\r\nconst inputTypes = [\r\n  'text',\r\n  'number',\r\n  'textarea',\r\n  'password',\r\n  'checkbox',\r\n  'color',\r\n  'date'\r\n];\r\n\r\nexport default {\r\n  name: 'FormInput',\r\n  props: {\r\n    label: { required: false, default: '', type: String },\r\n    placeholder: { required: false, type: String, default: '' },\r\n    type: { required: false, type: String, default: 'text' },\r\n    items: { required: false, type: Array, default: () => [] },\r\n    itemsMap: { required: false, type: Object, default: () => {} },\r\n    id: { required: false, type: String, default: '' },\r\n    disabled: { required: false, type: Boolean, default: false },\r\n    required: { required: false, type: Boolean, default: false },\r\n    value: { required: true, type: null },\r\n    iconPos: { type: String, required: false, default: '' },\r\n    showError: { type: Boolean, required: false, default: false },\r\n    min: { type: Number, required: false, default: -Infinity },\r\n    max: { type: Number, required: false, default: Infinity },\r\n    step: { required: false, type: Number, default: 0 },\r\n  },\r\n  data() {\r\n    return {\r\n      val: this.value,\r\n      inputId: this.id || generateId(),\r\n      isOpen: false,\r\n    };\r\n  },\r\n  created() {\r\n    if (this.componentType === 'select') this.val = this.val.value || this.val;\r\n  },\r\n  computed: {\r\n    componentType() {\r\n      const { type } = this;\r\n      if (type === 'multiselect') return 'multiselect';\r\n      if (type === 'search') return 'search';\r\n      if (type === 'textarea') return 'textarea';\r\n      if (inputTypes.includes(type)) return 'input';\r\n      return type;\r\n    },\r\n    itemsToRender() {\r\n      if (this.itemsMap) {\r\n        const res = [];\r\n        for (let key in this.itemsMap) res.push({ label: this.itemsMap[key], value: key });\r\n        return res;\r\n      }\r\n      return this.items.map((item) => {\r\n        if (typeof item !== 'object') {\r\n          return { value: item, label: item };\r\n        }\r\n        return item;\r\n      });\r\n    },\r\n    isEmpty() {\r\n      if (\r\n        this.type === 'number' &&\r\n        (this.val < this.min || this.val > this.max)\r\n      )\r\n        return true;\r\n      return !this.val && this.val !== 0;\r\n    },\r\n  },\r\n  methods: {\r\n    closeDropDown(e) {\r\n      if(!e.relatedTarget || e.relatedTarget.id !== 'formCheckbox') {\r\n        this.isOpen = false\r\n      } else {\r\n        e.target.focus()\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    val: {\r\n      deep: true,\r\n      handler(val) {\r\n        if (this.type === 'number') {\r\n          const { min, max } = this;\r\n          if (typeof min === 'number' && val < min) this.val = min;\r\n          if (typeof max === 'number' && val > max) this.val = max;\r\n          val = +val;\r\n        }\r\n        this.$emit('input', val);\r\n        this.$emit('change', val);\r\n      },\r\n    },\r\n\r\n    value(val, prev) {\r\n      if (val === prev) return;\r\n      this.val = val;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"scss\">\r\n// @import '@/assets/styles/setup/variables';\r\n.form-input {\r\n  // height: 40px;\r\n  // min-width: 150px;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  gap: 5px;\r\n  .input {\r\n    position: relative;\r\n    input, select, textarea {\r\n      height: 100%;\r\n      width: 100%;\r\n      margin: 0;\r\n    }\r\n  }\r\n}\r\n\r\n.form-input-multiselect {\r\n  // width: 220px;\r\n  color: #606266;\r\n  .placeholder {\r\n    // color: $gray-700;\r\n    font-weight: 400;\r\n    padding-left: 8px;\r\n  }\r\n  $borderColor: rgba(128, 128, 128, 0.5);\r\n  box-sizing: border-box;\r\n  .input {\r\n    > div {\r\n      user-select: none;\r\n      background-color: #fff;\r\n      font-weight: 400;\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 0 5px;\r\n      width: 100%;\r\n      height: 100%;\r\n      border: 1px solid $borderColor;\r\n      border-radius: 3px;\r\n      position: relative;\r\n      .toggle-btn,\r\n      .inner-square {\r\n        border-left: 5px solid transparent;\r\n        border-right: 5px solid transparent;\r\n        border-bottom: 5px solid #c5c6cd;\r\n        color: rgb(96, 98, 102);\r\n        position: absolute;\r\n        right: 14px;\r\n        bottom: 50%;\r\n        transform: translateY(50%) rotate(180deg);\r\n        transition: 0.2s;\r\n        z-index: 2;\r\n        &:hover {\r\n          cursor: pointer;\r\n        }\r\n      }\r\n      .inner-square {\r\n        top: 11px;\r\n        border-bottom: 5px solid white;\r\n      }\r\n      .drop-down {\r\n        background-color: #fff;\r\n        min-width: calc(100% + 2px);\r\n        width: fit-content;\r\n        position: absolute;\r\n        padding: 6px 0;\r\n        top: 100%;\r\n        left: -1px;\r\n        opacity: 0;\r\n        transform: translateY(3px);\r\n        z-index: -1;\r\n        transition: opacity 0.3s;\r\n        box-shadow: 0px 0px 5px 3px rgba(0, 0, 0, 0.2);\r\n        border-radius: 4px;\r\n        > * {\r\n          height: 32px;\r\n          line-height: 34px;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 5px;\r\n          padding: 0 20px;\r\n          cursor: pointer;\r\n          &:hover {\r\n            background-color: #f5f7fa;\r\n          }\r\n        }\r\n      }\r\n      &.open {\r\n        .toggle-btn,\r\n        .inner-square {\r\n          transform: translateY(50%) rotate(0deg);\r\n        }\r\n        .drop-down {\r\n          opacity: 1;\r\n          z-index: 1;\r\n          top: calc(100% + 12px);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormInput.vue?vue&type=template&id=028c596a&\"\nimport script from \"./FormInput.vue?vue&type=script&lang=js&\"\nexport * from \"./FormInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FormInput.vue?vue&type=style&index=0&id=028c596a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"login-page\">\r\n    <router-link :to=\"{name: 'SignupPage'}\"><button>{{$t('signup')}}</button></router-link>\r\n    <form @submit.prevent=\"login\">\r\n      <FormInput type=\"text\" placeholder=\"username\" label=\"username\" v-model=\"userCred.username\"/>\r\n      <FormInput type=\"password\" placeholder=\"password\" label=\"password\" v-model=\"userCred.password\"/>\r\n      <button :disabled=\"!isUserValid\">{{$t('submit')}}</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FormInput from '../../common/cmps/FormInput.vue'\r\nexport default {\r\n  name: 'LoginPage',\r\n  data() {\r\n    return {\r\n      userCred: JSON.parse(localStorage.userCred || 'null') || {\r\n        username: '',\r\n        password: ''\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    isUserValid() {\r\n      return this.userCred.username && this.userCred.password;\r\n    }\r\n  },\r\n  methods: {\r\n    async login() {\r\n      if (!this.isUserValid) return;\r\n      localStorage.userCred = JSON.stringify(this.userCred);\r\n      await this.$store.dispatch({ type: 'auth/login', cred: this.userCred });\r\n      this.$router.push({ name: 'EdMapPage' });\r\n    }\r\n  },\r\n  components: {\r\n    FormInput\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginPage.vue?vue&type=template&id=00d9f21e&\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"signup-page\"},[_c('router-link',{attrs:{\"to\":{name: 'LoginPage'}}},[_c('button',[_vm._v(_vm._s(_vm.$t('login')))])]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.signup.apply(null, arguments)}}},[_c('FormInput',{attrs:{\"type\":\"text\",\"placeholder\":\"username\",\"label\":\"username\"},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}}),_c('FormInput',{attrs:{\"type\":\"text\",\"placeholder\":\"firstname\",\"label\":\"firstname\"},model:{value:(_vm.user.firstname),callback:function ($$v) {_vm.$set(_vm.user, \"firstname\", $$v)},expression:\"user.firstname\"}}),_c('FormInput',{attrs:{\"type\":\"text\",\"placeholder\":\"lastname\",\"label\":\"lastname\"},model:{value:(_vm.user.lastname),callback:function ($$v) {_vm.$set(_vm.user, \"lastname\", $$v)},expression:\"user.lastname\"}}),_c('FormInput',{attrs:{\"type\":\"text\",\"placeholder\":\"email\",\"label\":\"email\"},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", $$v)},expression:\"user.email\"}}),_c('FormInput',{attrs:{\"type\":\"password\",\"placeholder\":\"password\",\"label\":\"password\"},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}}),_c('button',{attrs:{\"disabled\":!_vm.isUserValid}},[_vm._v(_vm._s(_vm.$t('submit')))])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { httpService } from '@/modules/common/services/http.service';\r\n\r\nconst ENDPOINT = 'account';\r\n\r\nexport const accountService = {\r\n  query,\r\n  get,\r\n  add,\r\n  update,\r\n  save,\r\n  getEmptyAccount\r\n}\r\n\r\nfunction query(filterBy) {\r\n  return httpService.get(ENDPOINT, filterBy);\r\n}\r\nfunction get(id) {\r\n  // if (!id) return getEmptyAccount();\r\n  return httpService.get(`${ENDPOINT}/${id}`);\r\n}\r\nfunction add(user) {\r\n  return httpService.post(ENDPOINT, user);\r\n}\r\nfunction update(user) {\r\n  return httpService.put(ENDPOINT, user);\r\n}\r\nfunction save(user) {\r\n  return user._id? update(user) : add(user);\r\n}\r\n\r\n\r\nfunction getEmptyAccount() {\r\n  return {\r\n    username: '',\r\n    password: '',\r\n    firstname: '',\r\n    lastname: '',\r\n    email: '',\r\n    roles: ['user'],\r\n    organizations: []\r\n  }\r\n}","<template>\r\n  <div class=\"signup-page\">\r\n    <router-link :to=\"{name: 'LoginPage'}\"><button>{{$t('login')}}</button></router-link>\r\n    <form @submit.prevent=\"signup\">\r\n      <FormInput type=\"text\" placeholder=\"username\" label=\"username\" v-model=\"user.username\"/>\r\n      <FormInput type=\"text\" placeholder=\"firstname\" label=\"firstname\" v-model=\"user.firstname\"/>\r\n      <FormInput type=\"text\" placeholder=\"lastname\" label=\"lastname\" v-model=\"user.lastname\"/>\r\n      <FormInput type=\"text\" placeholder=\"email\" label=\"email\" v-model=\"user.email\"/>\r\n      <FormInput type=\"password\" placeholder=\"password\" label=\"password\" v-model=\"user.password\"/>\r\n      <button :disabled=\"!isUserValid\">{{$t('submit')}}</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FormInput from '../../common/cmps/FormInput.vue'\r\nimport { accountService } from '@/modules/account/services/account.service';\r\nexport default {\r\n  name: 'SignupPage',\r\n  data() {\r\n    return {\r\n      user: accountService.getEmptyAccount()\r\n    }\r\n  },\r\n  computed: {\r\n    isUserValid() {\r\n      const { user } = this;\r\n      return user.username && user.password && user.firstname && user.lastname && user.email;\r\n    }\r\n  },\r\n  methods: {\r\n    async signup() {\r\n      if (!this.isUserValid) return;\r\n      await this.$store.dispatch({ type: 'auth/signup', cred: this.user });\r\n      this.$router.push('/');\r\n    }\r\n  },\r\n  components: {\r\n    FormInput\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignupPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignupPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignupPage.vue?vue&type=template&id=dac4cf52&\"\nimport script from \"./SignupPage.vue?vue&type=script&lang=js&\"\nexport * from \"./SignupPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import AuthApp from './AuthApp';\r\nimport LoginPage from './views/LoginPage';\r\nimport SignupPage from './views/SignupPage';\r\n\r\nexport const authRoutes = [\r\n  {\r\n    name: 'AuthApp',\r\n    path: '/example',\r\n    component: AuthApp,\r\n    children: [\r\n      {\r\n        name: 'LoginPage',\r\n        path: '/login',\r\n        component: LoginPage\r\n      },\r\n      {\r\n        name: 'SignupPage',\r\n        path: '/signup',\r\n        component: SignupPage\r\n      },\r\n    ]\r\n  }\r\n]","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"account-app container inner-app\"},[_c('router-view',{staticClass:\"inner-app-content\"}),(_vm.isLoading)?_c('Loader'):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"account-app container inner-app\">\r\n    <router-view class=\"inner-app-content\"/>\r\n    <Loader v-if=\"isLoading\"/>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Loader from '@/modules/common/cmps/Loader.vue';\r\nexport default {\r\n  name: 'AccountApp',\r\n  computed: {\r\n    isLoading() {\r\n      return this.$store.getters['account/isLoading'];\r\n    }\r\n  },\r\n  components: {\r\n    Loader\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountApp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountApp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountApp.vue?vue&type=template&id=4bee6c05&\"\nimport script from \"./AccountApp.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountApp.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"account-page height-all width-all flex column\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('accounts')))]),_c('ItemSearchList',{attrs:{\"itemsData\":_vm.accountData,\"initFilterBy\":_vm.filterBy,\"itemDetailesPageName\":\"AccountDetails\",\"newItemPageName\":\"AccountEdit\",\"singlePreviewCmp\":_vm.$options.AccountPreview},on:{\"filter\":_vm.setFilter}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('li',{staticClass:\"account-preview item-preview\"},[_c('router-link',{attrs:{\"to\":'/account/' + _vm.item._id}},[_c('pre',[_vm._v(_vm._s(_vm.item))])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <li class=\"account-preview item-preview\">\r\n    <router-link :to=\"'/account/' + item._id\">\r\n      <pre>{{item}}</pre>\r\n    </router-link>\r\n  </li>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AccountPreview',\r\n  props: {\r\n    item: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountPreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountPreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountPreview.vue?vue&type=template&id=0c50f75a&\"\nimport script from \"./AccountPreview.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountPreview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"pagination-btns\"},[_c('div',{staticClass:\"page-buttons\",class:{ disable: _vm.page <= 1 }},[_c('button',{on:{\"click\":function($event){return _vm.routeToNewPage(+_vm.page - 1)}}},[_vm._v(\" < \")])]),_c('div',{staticClass:\"page-num-btns\"},[(_vm.isLotsOfPages && !_vm.pagesToRender.includes(1))?[_c('button',{on:{\"click\":function($event){return _vm.routeToNewPage(1)}}},[_vm._v(\"1\")]),(_vm.page > 3)?_c('span',{staticClass:\"dots\"},[_vm._v(\"...\")]):_vm._e()]:_vm._e(),_vm._l((_vm.pagesToRender),function(pageNum){return _c('button',{key:pageNum,class:{selected: _vm.page == pageNum},on:{\"click\":function($event){return _vm.routeToNewPage(pageNum)}}},[_vm._v(\" \"+_vm._s(pageNum)+\" \")])}),(_vm.isLotsOfPages && !_vm.pagesToRender.includes(_vm.totalPages))?[(_vm.page < _vm.totalPages-2)?_c('span',{staticClass:\"dots\"},[_vm._v(\"...\")]):_vm._e(),_c('button',{on:{\"click\":function($event){return _vm.routeToNewPage(_vm.totalPages)}}},[_vm._v(_vm._s(_vm.totalPages))])]:_vm._e()],2),_c('div',{staticClass:\"page-buttons\",class:{ disable: _vm.totalPages <= _vm.page }},[_c('button',{on:{\"click\":function($event){return _vm.routeToNewPage(+_vm.page + 1)}}},[_vm._v(\" > \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"pagination-btns\">\r\n    <div class=\"page-buttons\" :class=\"{ disable: page <= 1 }\">\r\n      <button @click=\"routeToNewPage(+page - 1)\">\r\n        <\r\n      </button>\r\n    </div>\r\n    <div class=\"page-num-btns\">\r\n      <template v-if=\"isLotsOfPages && !pagesToRender.includes(1)\">\r\n        <button @click=\"routeToNewPage(1)\">1</button>\r\n        <span class=\"dots\" v-if=\"page > 3\">...</span>\r\n      </template>\r\n\r\n      <button \r\n        v-for=\"pageNum in pagesToRender\" :key=\"pageNum\"\r\n        @click=\"routeToNewPage(pageNum)\" \r\n        :class=\"{selected: page == pageNum}\" \r\n      >\r\n        {{pageNum}}\r\n      </button>\r\n        \r\n      <template v-if=\"isLotsOfPages && !pagesToRender.includes(totalPages)\">\r\n        <span class=\"dots\" v-if=\"page < totalPages-2\">...</span>\r\n        <button @click=\"routeToNewPage(totalPages)\">{{totalPages}}</button>\r\n      </template>\r\n    </div>\r\n    <div class=\"page-buttons\" :class=\"{ disable: totalPages <= page }\">\r\n      <button @click=\"routeToNewPage(+page + 1)\">\r\n        >\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    perPage: [Number],\r\n    total: [Number],\r\n    value: [Number]\r\n  },\r\n  data() {\r\n    return {\r\n      renderPagesLimit: 7\r\n    }\r\n  },\r\n  computed: {\r\n    page() {\r\n      return this.value + 1;\r\n    },\r\n    totalPages() {\r\n      return Math.ceil(this.total/this.perPage);\r\n    },\r\n    isLotsOfPages() {\r\n      return this.totalPages > this.renderPagesLimit;\r\n    },\r\n    pagesToRender() {\r\n      const { totalPages, page: currPage, isLotsOfPages, renderPagesLimit } = this;\r\n      const pageNums = '0'.repeat(totalPages).split('').map((_, idx) => idx+1);\r\n      \r\n      if (!isLotsOfPages) return pageNums;\r\n      \r\n      const halfAmount = Math.floor(renderPagesLimit/2)\r\n\r\n      let startIdx = currPage - halfAmount;\r\n      if (startIdx < 0) startIdx = 0;\r\n      else if (startIdx >= totalPages-(renderPagesLimit-1)) startIdx = totalPages-(renderPagesLimit-1);\r\n\r\n      const endIdx = startIdx + Math.floor(( (currPage > halfAmount && currPage <= totalPages-1-halfAmount)? halfAmount*1.5 : halfAmount*2));\r\n      return pageNums.slice(startIdx, endIdx);\r\n    }\r\n  },\r\n  methods: {\r\n    routeToNewPage(pageNum) {\r\n      pageNum -= 1;\r\n      if (pageNum < 0 || pageNum >= this.totalPages) return;\r\n      this.$emit('input', pageNum);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.pagination-btns {\r\n    display: flex;\r\n    // width: 220px;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin: auto;\r\n\r\n    gap: 25px;\r\n\r\n    // width: 300px;\r\n    width: fit-content;\r\n\r\n    .disable {\r\n        opacity: 0.5;\r\n    }\r\n\r\n    button {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n\r\n    button, span {\r\n        min-width: 15px;\r\n    }\r\n\r\n    .page-num-btns {\r\n        // flex: 1;\r\n        color: black;\r\n        font-weight: 700;\r\n\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 25px;\r\n        justify-content: space-around;\r\n        \r\n        button {\r\n            &.selected {\r\n                color: #0075FF;\r\n            }\r\n        }\r\n        .dots {\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            height: 100%;\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaginationBtns.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaginationBtns.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PaginationBtns.vue?vue&type=template&id=a40cdea8&scoped=true&\"\nimport script from \"./PaginationBtns.vue?vue&type=script&lang=js&\"\nexport * from \"./PaginationBtns.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PaginationBtns.vue?vue&type=style&index=0&id=a40cdea8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a40cdea8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"item-page flex gap20 column flex-1\"},[_c('div',{staticClass:\"width-all flex align-center space-between\"},[_c('ItemFilter',{attrs:{\"initFilter\":_vm.filterBy.filter},on:{\"filtered\":_vm.setFilter}}),(_vm.newItemPageName)?_c('router-link',{attrs:{\"to\":{name: _vm.newItemPageName}}},[_c('button',[_vm._v(_vm._s(_vm.$t('addNew')))])]):_vm._e()],1),(_vm.items?.length)?[(_vm.items)?_c('ItemList',{attrs:{\"items\":_vm.items,\"singlePreviewCmp\":_vm.singlePreviewCmp,\"itemDetailesPageName\":_vm.itemDetailesPageName}}):_vm._e(),(_vm.filterBy)?_c('PaginationBtns',{attrs:{\"total\":_vm.totalItems,\"perPage\":_vm.filterBy.pagination.limit},model:{value:(_vm.filterBy.pagination.page),callback:function ($$v) {_vm.$set(_vm.filterBy.pagination, \"page\", $$v)},expression:\"filterBy.pagination.page\"}}):_vm._e()]:(!_vm.isLoading)?_c('h3',[_vm._v(_vm._s(_vm.$t('noItemsFound')))]):_vm._e(),(_vm.isLoading)?_c('Loader'):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{staticClass:\"item-filter\",on:{\"submit\":function($event){$event.preventDefault();return _vm.emitFilter.apply(null, arguments)}}},[_c('FormInput',{attrs:{\"placeholder\":\"search\"},model:{value:(_vm.filterBy.search),callback:function ($$v) {_vm.$set(_vm.filterBy, \"search\", $$v)},expression:\"filterBy.search\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <form @submit.prevent=\"emitFilter\" class=\"item-filter\">\r\n    <FormInput placeholder=\"search\" v-model=\"filterBy.search\"/>\r\n    <!-- <button @click=\"emitFilter\">{{$t('filter')}}</button> -->\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport FormInput from '@/modules/common/cmps/FormInput.vue';\r\nexport default {\r\n  name: 'ItemFilter',\r\n  props: {\r\n    initFilter: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  methods: {\r\n    emitFilter() {\r\n      this.$emit('filtered', this.filterBy);\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      filterBy: null\r\n    }\r\n  },\r\n  created() {\r\n    this.filterBy = {...this.initFilter};\r\n  },\r\n  components: { FormInput }\r\n}\r\n</script>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemFilter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemFilter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemFilter.vue?vue&type=template&id=ccd2e448&\"\nimport script from \"./ItemFilter.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemFilter.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ul',{staticClass:\"item-list flex align-start space-around wrap gap20\"},_vm._l((_vm.items),function(item){return _c(_vm.componentToRender,{key:item._id,tag:\"component\",attrs:{\"item\":item,\"itemDetailesPageName\":_vm.itemDetailesPageName}})}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('li',{staticClass:\"item-preview\"},[_c('router-link',{attrs:{\"to\":{name: _vm.itemDetailesPageName, params: {id: _vm.item._id}}}},[_c('pre',[_vm._v(_vm._s(_vm.item))])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <li class=\"item-preview\">\r\n    <router-link :to=\"{name: itemDetailesPageName, params: {id: item._id}}\">\r\n      <pre>{{item}}</pre>\r\n    </router-link>\r\n  </li>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ItemPreview',\r\n  props: {\r\n    item: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    itemDetailesPageName: [String]\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemPreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemPreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemPreview.vue?vue&type=template&id=0eead02d&\"\nimport script from \"./ItemPreview.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemPreview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <ul class=\"item-list flex align-start space-around wrap gap20\">\r\n    <component :is=\"componentToRender\" :item=\"item\" v-for=\"item in items\" :itemDetailesPageName=\"itemDetailesPageName\" :key=\"item._id\"/>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nimport ItemPreview from './ItemPreview.vue'\r\nexport default {\r\n  name: 'ItemList',\r\n  props: {\r\n    items: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    singlePreviewCmp: [Object],\r\n    itemDetailesPageName: [String]\r\n  },\r\n  computed: {\r\n    componentToRender() {\r\n      return this.singlePreviewCmp || 'ItemPreview';\r\n    }\r\n  },\r\n  components: { ItemPreview }\r\n}\r\n</script>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemList.vue?vue&type=template&id=e1a7fb18&\"\nimport script from \"./ItemList.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"item-page flex gap20 column flex-1\">\r\n    <div class=\"width-all flex align-center space-between\">\r\n      <ItemFilter :initFilter=\"filterBy.filter\" @filtered=\"setFilter\"/>\r\n      <router-link v-if=\"newItemPageName\" :to=\"{name: newItemPageName}\"><button>{{$t('addNew')}}</button></router-link>\r\n    </div>\r\n    <template v-if=\"items?.length\">\r\n      <ItemList :items=\"items\" v-if=\"items\" :singlePreviewCmp=\"singlePreviewCmp\" :itemDetailesPageName=\"itemDetailesPageName\"/>\r\n      <PaginationBtns v-if=\"filterBy\" :total=\"totalItems\" :perPage=\"filterBy.pagination.limit\" v-model=\"filterBy.pagination.page\"/>\r\n    </template>\r\n    <h3 v-else-if=\"!isLoading\">{{$t('noItemsFound')}}</h3>\r\n    <Loader v-if=\"isLoading\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ItemFilter from './ItemFilter.vue';\r\nimport ItemList from './ItemList.vue';\r\nimport PaginationBtns from '../PaginationBtns.vue';\r\nimport { setDeepVal, deepIterateWithObj } from '../../services/util.service';\r\nimport Loader from '../Loader.vue';\r\n\r\nexport default {\r\n  name: 'ItemSearchList',\r\n  props: {\r\n    initFilterBy: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    itemsData: [Object],\r\n    itemDetailesPageName: [String],\r\n    newItemPageName: [String],\r\n    singlePreviewCmp: [Object],\r\n    isLoading: [Boolean]\r\n  },\r\n  data() {\r\n    return {\r\n      filterBy: null\r\n    }\r\n  },\r\n  watch: {\r\n    filterBy: {\r\n      deep: true,\r\n      handler(filterVal) {\r\n        const query = {};\r\n        deepIterateWithObj(filterVal, (key, val) => {\r\n          if (this.$route.query[key] != val) query[key] = val;\r\n        }, '_');\r\n        if (Object.keys(query).length) this.$router.push({ query: { ...this.$route.query, ...query} });\r\n        this.$emit('filter', this.filterBy);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    setFilter(filter) {\r\n      this.filterBy.filter = JSON.parse(JSON.stringify(filter));\r\n    }\r\n  },\r\n  computed: {\r\n    items() {\r\n      return this.itemsData.items;\r\n    },\r\n    totalItems() {\r\n      return this.itemsData.total;\r\n    }\r\n  },\r\n  created() {\r\n    const filterByToSet = JSON.parse(JSON.stringify(this.initFilterBy));\r\n    const queryParams = this.$route.query;\r\n    deepIterateWithObj(filterByToSet, (key, val) => {\r\n      let valToSet = +queryParams[key];\r\n      if (isNaN(valToSet)) valToSet = queryParams[key]\r\n      if (queryParams[key]) setDeepVal(filterByToSet, key, valToSet, '_');\r\n    }, '_');\r\n    this.filterBy = filterByToSet;\r\n  },\r\n  components: { ItemFilter, ItemList, PaginationBtns, Loader }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '@/assets/styles/global/index';\r\n.item-page {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  .item-list {\r\n    // flex: 1;\r\n    overflow-y: auto;\r\n    .item-preview {\r\n      width: 300px;\r\n      height: 200px;\r\n      border-radius: 5px;\r\n      background-color: #fff;\r\n      box-shadow: $light-shadow;\r\n      padding: 20px;\r\n      overflow-y: auto;\r\n      overflow-x: hidden;\r\n    }\r\n  }\r\n\r\n  .pagination-btns {\r\n    margin-bottom: 10px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemSearchList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemSearchList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemSearchList.vue?vue&type=template&id=d48e1c86&\"\nimport script from \"./ItemSearchList.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemSearchList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ItemSearchList.vue?vue&type=style&index=0&id=d48e1c86&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <section class=\"account-page height-all width-all flex column\">\r\n    <h2>{{$t('accounts')}}</h2>\r\n    <ItemSearchList\r\n      :itemsData=\"accountData\"\r\n      :initFilterBy=\"filterBy\"\r\n      @filter=\"setFilter\"\r\n      itemDetailesPageName=\"AccountDetails\"\r\n      newItemPageName=\"AccountEdit\"\r\n      :singlePreviewCmp=\"$options.AccountPreview\"\r\n    />\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport AccountPreview from '../cmps/AccountPreview.vue';\r\nimport PaginationBtns from '@/modules/common/cmps/PaginationBtns.vue';\r\nimport ItemSearchList from '@/modules/common/cmps/ItemSearchList/ItemSearchList.vue';\r\nimport Loader from '@/modules/common/cmps/Loader.vue';\r\nexport default {\r\n  name: 'AccountPage',\r\n  data() {\r\n    return {\r\n      filterBy: null\r\n    }\r\n  },\r\n  watch: {\r\n    filterBy: {\r\n      deep: true,\r\n      handler(val) {\r\n        this.getAccounts();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getAccounts() {\r\n      this.$store.dispatch({ type: 'account/loadAccounts', filterBy: this.filterBy });\r\n    },\r\n    setFilter(filter) {\r\n      this.filterBy = JSON.parse(JSON.stringify(filter));\r\n    }\r\n  },\r\n  computed: {\r\n    accountData() {\r\n      return this.$store.getters['account/data'];\r\n    }\r\n  },\r\n  created() {\r\n    this.setFilter(this.$store.getters['account/filterBy']);\r\n  },\r\n  components: { AccountPreview, PaginationBtns, ItemSearchList, Loader }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountPage.vue?vue&type=template&id=d66501a2&\"\nimport script from \"./AccountPage.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"account-details\"},[(_vm.account)?_c('pre',[_vm._v(_vm._s(_vm.account))]):_vm._e(),(_vm.account)?_c('router-link',{attrs:{\"to\":{name: 'AccountEdit', params: {id: _vm.account._id}}}},[_c('button',[_vm._v(_vm._s(_vm.$t('edit')))])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"account-details\">\r\n    <pre v-if=\"account\">{{account}}</pre>\r\n    <router-link v-if=\"account\" :to=\"{name: 'AccountEdit', params: {id: account._id}}\"><button>{{$t('edit')}}</button></router-link>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AccountDetails',\r\n  methods: {\r\n    getAccount() {\r\n      this.$store.dispatch({ type: 'account/loadAccount', id: this.$route.params.id });\r\n    }\r\n  },\r\n  computed: {\r\n    account() {\r\n      return this.$store.getters['account/selectedAccount'];\r\n    }\r\n  },\r\n  created() {\r\n    this.getAccount();\r\n  },\r\n  watch: {\r\n    '$route.params.id'() {\r\n      this.getAccount();\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountDetails.vue?vue&type=template&id=b09f3bac&\"\nimport script from \"./AccountDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountDetails.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"account-edit\"},[(_vm.AccountToEdit)?_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.saveAccount.apply(null, arguments)}}},[_c('pre',[_vm._v(_vm._s(_vm.AccountToEdit))]),_c('FormInput',{attrs:{\"type\":\"text\",\"placeholder\":\"username\"},model:{value:(_vm.AccountToEdit.username),callback:function ($$v) {_vm.$set(_vm.AccountToEdit, \"username\", $$v)},expression:\"AccountToEdit.username\"}}),_c('FormInput',{attrs:{\"type\":\"text\",\"placeholder\":\"email\"},model:{value:(_vm.AccountToEdit.email),callback:function ($$v) {_vm.$set(_vm.AccountToEdit, \"email\", $$v)},expression:\"AccountToEdit.email\"}}),_c('FormInput',{attrs:{\"type\":\"text\",\"placeholder\":\"role\"},model:{value:(_vm.AccountToEdit.roles[0]),callback:function ($$v) {_vm.$set(_vm.AccountToEdit.roles, 0, $$v)},expression:\"AccountToEdit.roles[0]\"}}),_c('button',{attrs:{\"disabled\":!_vm.isAccountValid}},[_vm._v(_vm._s(_vm.$t('submit')))])],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"account-edit\">\r\n    <form v-if=\"AccountToEdit\" @submit.prevent=\"saveAccount\">\r\n      <pre>{{AccountToEdit}}</pre>\r\n      <FormInput type=\"text\" placeholder=\"username\" v-model=\"AccountToEdit.username\"/>\r\n      <FormInput type=\"text\" placeholder=\"email\" v-model=\"AccountToEdit.email\"/>\r\n      <FormInput type=\"text\" placeholder=\"role\" v-model=\"AccountToEdit.roles[0]\"/>\r\n      <button :disabled=\"!isAccountValid\">{{$t('submit')}}</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FormInput from '../../common/cmps/FormInput.vue'\r\nexport default {\r\n  name: 'AccountEdit',\r\n  data() {\r\n    return {\r\n      AccountToEdit: null\r\n    }\r\n  },\r\n  computed: {\r\n    isAccountValid() {\r\n      return this.AccountToEdit && this.AccountToEdit.key;\r\n    }\r\n  },\r\n  methods: {\r\n    async getAccount() {\r\n      this.AccountToEdit = await this.$store.dispatch({ type: 'account/loadAccount', id: this.$route.params.id });\r\n    },\r\n    async saveAccount() {\r\n      if (!this.isAccountValid) return;\r\n      await this.$store.dispatch({ type: 'account/saveAccount', item: this.AccountToEdit });\r\n    }\r\n  },\r\n  created() {\r\n    this.getAccount();\r\n  },\r\n  watch: {\r\n    '$route.params.id'() {\r\n      this.getAccount();\r\n    }\r\n  },\r\n  components: {\r\n    FormInput\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountEdit.vue?vue&type=template&id=29f13fa7&\"\nimport script from \"./AccountEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import AccountApp from './AccountApp';\r\nimport AccountPage from './views/AccountPage';\r\nimport AccountDetails from './views/AccountDetails';\r\nimport AccountEdit from './views/AccountEdit';\r\n\r\nexport const accountRoutes = [\r\n  {\r\n    name: 'AccountApp',\r\n    path: '/account',\r\n    component: AccountApp,\r\n    children: [\r\n      {\r\n        name: 'AccountPage',\r\n        path: '/',\r\n        component: AccountPage\r\n      },\r\n      {\r\n        name: 'AccountEdit',\r\n        path: 'edit/:id?',\r\n        component: AccountEdit\r\n      },\r\n      {\r\n        name: 'AccountDetails',\r\n        path: ':id',\r\n        component: AccountDetails\r\n      }\r\n    ]\r\n  }\r\n]","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"settings-app container inner-app\"},[_c('router-view',{staticClass:\"inner-app-content\"}),(_vm.isLoading)?_c('Loader'):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"settings-app container inner-app\">\r\n    <router-view class=\"inner-app-content\"/>\r\n    <Loader v-if=\"isLoading\"/>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Loader from '@/modules/common/cmps/Loader.vue';\r\nexport default {\r\n  name: 'SettingsApp',\r\n  computed: {\r\n    isLoading() {\r\n      return this.$store.getters['settings/isLoading'];\r\n    }\r\n  },\r\n  components: {\r\n    Loader\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsApp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsApp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SettingsApp.vue?vue&type=template&id=f9b0d03e&\"\nimport script from \"./SettingsApp.vue?vue&type=script&lang=js&\"\nexport * from \"./SettingsApp.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"settings-page flex column gap10\"},[_c('FormInput',{attrs:{\"placeholder\":\"locale\",\"value\":_vm.currLocale,\"type\":\"select\",\"items\":_vm.langs},on:{\"change\":_vm.setLocale}}),_c('FormInput',{attrs:{\"label\":_vm.$t('darkMode'),\"value\":_vm.isDarkMode,\"type\":\"checkbox\"},on:{\"input\":_vm.setDarkMode}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"settings-page flex column gap10\">\r\n    <!-- <pre>{{settings}}</pre>\r\n    <form @submit.prevent=\"saveSettings\">\r\n      <FormInput label=\"Google API key\" v-model=\"settings.GOOGLE_API_KEY\"/>\r\n      <button>{{$t('save')}}</button>\r\n    </form> -->\r\n    <FormInput placeholder=\"locale\" :value=\"currLocale\" type=\"select\" :items=\"langs\" @change=\"setLocale\"/>\r\n    <FormInput :label=\"$t('darkMode')\" :value=\"isDarkMode\" type=\"checkbox\" @input=\"setDarkMode\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FormInput from '@/modules/common/cmps/FormInput.vue';\r\nimport evEmmiter from '@/modules/common/services/event-emmiter.service';\r\n\r\nconst langs = [{value: 'en', label: 'english'}, {value: 'he', label: 'hebrew'}];\r\n\r\nexport default {\r\n  name: 'SettingsPage',\r\n  data() {\r\n    return {\r\n      langs,\r\n      currLocale: langs.find(c => c.value === this.$i18n.locale),\r\n      locale: this.$i18n.locale,\r\n      isDarkMode: (localStorage.isDarkMode === 'true') || false,\r\n      settings: null\r\n    }\r\n  },\r\n  methods: {\r\n    setLocale(locale) {\r\n      this.$i18n.locale = localStorage.locale = locale;\r\n    },\r\n    setDarkMode(val) {\r\n      this.isDarkMode = val;\r\n      localStorage.isDarkMode = val;\r\n      evEmmiter.emit('set_darkmode', val);\r\n    },\r\n    async saveSettings() {\r\n      const updatedSettings = await this.$store.dispatch({ type: 'settings/updateSettings', settings: this.settings });\r\n      this.settings = JSON.parse(JSON.stringify(updatedSettings));\r\n    }\r\n  },\r\n  created() {\r\n    this.settings = JSON.parse(JSON.stringify(this.$store.getters['settings/settings']));\r\n  },\r\n  components: { FormInput }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SettingsPage.vue?vue&type=template&id=489369a5&\"\nimport script from \"./SettingsPage.vue?vue&type=script&lang=js&\"\nexport * from \"./SettingsPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import SettingsApp from './SettingsApp';\r\nimport SettingsPage from './views/SettingsPage';\r\n\r\nexport const settingsRoutes = [\r\n  {\r\n    name: 'SettingsApp',\r\n    path: '/settings',\r\n    component: SettingsApp,\r\n    children: [\r\n      {\r\n        name: 'SettingsPage',\r\n        path: '/',\r\n        component: SettingsPage\r\n      }\r\n    ]\r\n  }\r\n]","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('router-view')\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./DashboardApp.vue?vue&type=template&id=32f36804&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"dashboard-page flex column align-center space-around\"},[_c('h2',[_vm._v(\"Dashboard\")]),_c('div',{staticClass:\"charts-container flex wrap align-center space-around\"},[_c('div',{staticClass:\"chart bar2-container\"}),_c('div',{staticClass:\"chart frame-container\"}),_c('div',{staticClass:\"chart line-container\"}),_c('div',{staticClass:\"chart bar3-container\"}),_c('div',{staticClass:\"chart donat-container\"}),_c('div',{staticClass:\"chart bar-container\"}),_c('div',{staticClass:\"chart disc-container\"}),_c('div',{staticClass:\"chart pi-container\"})])])\n}]\n\nexport { render, staticRenderFns }","import { CanvasService } from \"./canvasService/canvas.service.js\";\r\n\r\nexport class BaseChart {\r\n  canvasService = null;\r\n  selector = '';\r\n  renderedData = [];\r\n  constructor(\r\n    chartData = null, \r\n    selector = 'body') {\r\n    this.chartData = chartData;\r\n    this.selector = selector;\r\n    // this.bgc = 'white';\r\n  }\r\n  \r\n  init() {\r\n    this.initService();\r\n  }\r\n  \r\n  destroy() {\r\n    this.canvasService.removeWindowEventListeners();\r\n  }\r\n\r\n  getCahrtDataToRender() {\r\n    return [];\r\n  }\r\n\r\n  get size() {\r\n    return {\r\n      w: this.chartData.width || 1600,\r\n      h: this.chartData.height || 900,\r\n    }\r\n  }\r\n\r\n\r\n  initService() {\r\n    // this.renderedData = this.getCahrtDataToRender();\r\n    const isAnimation = !!this.getAnimationFrames;\r\n    const renderData = isAnimation? this.getAnimationFrames() : this.getCahrtDataToRender();\r\n    if (isAnimation) {\r\n      const doAnimate = () => {\r\n        const currData = renderData.shift();\r\n        this.renderedData = currData;\r\n        this.setCanvasService(currData);\r\n        if (renderData.length) requestAnimationFrame(doAnimate);\r\n      }\r\n      requestAnimationFrame(doAnimate);\r\n    } else {\r\n      this.renderedData = renderData;\r\n      this.setCanvasService(this.renderedData);\r\n    }\r\n  }\r\n  \r\n  setCanvasService(data) {\r\n    const board = {\r\n      width: this.size.w || 1600,\r\n      height: this.size.h || 900,\r\n      staticShapes: data\r\n    }\r\n    if (this.canvasService) this.canvasService.updateBoard(board);\r\n    else this.canvasService = new CanvasService(board, { selector: this.selector, enableZoom: false }, null, { mousemove: this.onMouseHover.bind(this), click: this.onClick });\r\n  }\r\n\r\n  updateData(chartData) {\r\n    this.chartData = chartData;\r\n    this.initService();\r\n  }\r\n\r\n  onClick(ev, pos) {\r\n    console.log(pos);\r\n  }\r\n\r\n  findRenderedItemPosMatch(pos, edge = false) {\r\n    return this.renderedData.find(c => c.hoveredData && CanvasService.isPosOnItem(pos, c, edge));\r\n  }\r\n\r\n  onMouseHover(ev, pos) {\r\n    // return;\r\n    const hoveredItem = this.findRenderedItemPosMatch(pos);\r\n    const elCanvas = this.canvasService.elCanvas;\r\n    if (!hoveredItem) {\r\n      elCanvas.style.cursor = 'default';\r\n      return;\r\n    }\r\n    elCanvas.style.cursor = 'pointer';\r\n    const hoveredData = hoveredItem.hoveredData\r\n    let msg = hoveredData.item.tag\r\n    if (hoveredData.label) msg += '\\n' + hoveredData.label;\r\n    if (hoveredData.val) msg +=  '\\n' + hoveredData.val;\r\n    console.log(msg)\r\n  }\r\n}\r\n\r\n\r\n\r\nconst defaultChartData = { \r\n  data: [\r\n    // {tag: 'dataSample1', vals: [10, 73, 40]},\r\n    // {tag: 'dataSample2', vals: [50, -50, 30]}\r\n  ], \r\n  width: 1600,\r\n  height: 900,\r\n  // labels: ['sep', 'oct', 'nov'],\r\n  labels: [],\r\n  horizontal: false,\r\n  labelsNegative: false,\r\n  dataNegative: false,\r\n  info: {\r\n    disable: false,\r\n    position: 'right',\r\n    align: 'middle',\r\n    size: 30\r\n  },\r\n  legend: {\r\n    tag: 'This is a legend',\r\n    position: 'top',\r\n    align: 'center'\r\n  }\r\n}\r\n\r\n\r\nexport class BaseDataChart extends BaseChart {\r\n  constructor(chartData = defaultChartData, ...args) {\r\n    super(UTILS.fillData(chartData, defaultChartData, ['legend']), ...args);\r\n    this.strictItemSize = false;\r\n    this.init();\r\n  }\r\n\r\n\r\n  static defaultColors = [\r\n    '#abcdeb',\r\n    '#fdaaaa',\r\n    '#b4ffd9',\r\n    '#fcfdcd',\r\n    '#f2ddff'\r\n  ];\r\n  static defClrByIdx(idx) {\r\n    return this.defaultColors[idx] || this.defaultColors[0];\r\n  }\r\n  static getClrFromStyle(style, idx) {\r\n    return style?.color || this.defClrByIdx(idx)\r\n  }\r\n\r\n  get textStyle() {\r\n    return { fillStyle: 'black', font: 'sans-serif', size: 40 };\r\n  }\r\n\r\n  \r\n  get chartDataUtils() {\r\n    const { size, chartData, strictItemSize } = this;\r\n    const { horizontal, labelsNegative, dataNegative } = chartData;\r\n    const mainAxis = !horizontal ? 'x' : 'y';\r\n    const secAxis = mainAxis === 'x' ? 'y' : 'x';\r\n    const { main: mainSizeKey, sec: secSizeKey } = this.constructor.sizeKeyByAlignOrAxis(mainAxis);\r\n    const pad = this.totalPad;\r\n    const dataAreaSize = { w: size.w-pad.right-pad.left, h: size.h-pad.top-pad.bottom };\r\n    const start = { x: pad.left, y: pad.top };\r\n    const end = { x: start.x+dataAreaSize.w, y: start.y+dataAreaSize.h };\r\n    const { min, max } = chartData.data.reduce((acc, c) => ({\r\n      min: Math.min(acc.min, ...c.vals),\r\n      max: Math.max(acc.max, ...c.vals),\r\n    }), { min: strictItemSize? 0 : Infinity, max: -Infinity });\r\n    const dataRangeSize = max - min;\r\n    const yByVal = (val) => dataNegative? end.y - dataAreaSize.h*((max-val)/dataRangeSize) : start.y + dataAreaSize.h*((max-val)/dataRangeSize);\r\n    const xByVal = (val) => dataNegative? start.x + dataAreaSize.w*((max-val)/dataRangeSize) : end.x - dataAreaSize.w*((max-val)/dataRangeSize);\r\n    const secByVal = (val) => secAxis === 'y' ? yByVal(val) : xByVal(val);\r\n    const mainByVal = (val) => secAxis === 'x' ? xByVal(val) : yByVal(val);\r\n    const axisValGap = {\r\n      [mainAxis]: dataAreaSize[mainSizeKey]/(chartData.labels.length-(strictItemSize? 0 : 1)),\r\n      [secAxis]: dataAreaSize[secSizeKey]/(chartData.labels.length-(strictItemSize? 0 : 1)),\r\n    }\r\n    // const addToIdx = ((horizontal&&strictItemSize) || (labelsNegative&&!horizontal))? 1 : 0;\r\n    // const addToIdx = (strictItemSize && !horizontal)? 1 : 0;\r\n    const addToIdx = ((strictItemSize && !horizontal && labelsNegative) || (!labelsNegative && strictItemSize && horizontal))? 1 : 0;\r\n    const xByIdx = (idx) => labelsNegative? end.x - axisValGap.x*(idx+addToIdx) : start.x + axisValGap.x*(idx+addToIdx);\r\n    const yByIdx = (idx) => labelsNegative? start.y + axisValGap.y*(idx+addToIdx) : end.y - axisValGap.y*(idx+addToIdx);\r\n    const mainByIdx = (idx) => mainAxis === 'x'? xByIdx(idx) : yByIdx(idx);\r\n    const secByIdx = (idx) => secByAxis === 'y'? yByIdx(idx) : xByIdx(idx);\r\n    return { pad, start, end, minVal: min, maxVal: max, mainAxis, secAxis, xByVal, yByVal, mainByVal, secByVal, xByIdx, yByIdx, secByIdx, mainByIdx, axisValGap, dataAreaSize, mainSizeKey, secSizeKey };\r\n  }\r\n\r\n\r\n\r\n  static sizeKeyByAlignOrAxis(key) {\r\n    switch (key) {\r\n      case 'y':\r\n      case 'top':\r\n      case 'bottom':\r\n        return { main: 'h', sec: 'w' };\r\n      case 'x':\r\n      case 'left':\r\n      case 'right': ;\r\n        return { main: 'w', sec: 'h' };\r\n      default:\r\n        return {};\r\n    }\r\n  }\r\n  static axisBySizeKeyOrAlign(key) {\r\n    switch (key) {\r\n      case 'h':\r\n      case 'top':\r\n      case 'bottom':\r\n        return { main: 'y', sec: 'x' };\r\n      case 'w':\r\n      case 'left':\r\n      case 'right': ;\r\n        return { main: 'x', sec: 'y' };\r\n      default:\r\n        return {};\r\n    }\r\n  }\r\n\r\n\r\n  get initPad() {\r\n    return { top: 0, bottom: 50, right: 0, left: 50 };\r\n  } \r\n  get padding() {\r\n    const updatePad = (pad, item, padKey) => {\r\n      const sectionsGap = 10;\r\n      const { main: sizeKey } = this.constructor.sizeKeyByAlignOrAxis(padKey);\r\n      pad[padKey] = Math.max(pad[padKey], item[sizeKey] + sectionsGap);\r\n    }\r\n    const pad = { ...this.initPad };\r\n    if (this.chartData.legend) updatePad(pad, this.legendSectionSize, this.chartData.legend.position);\r\n    if (!this.chartData.info?.disable) updatePad(pad, this.infoSectionSize, this.chartData.info.position);\r\n    return pad;\r\n  }\r\n\r\n  get extraPadForData() {\r\n    return { top: 30, bottom: 30, right: 30, left: 30 };\r\n  }\r\n\r\n  get totalPad() {\r\n    const { padding: pad, extraPadForData: exPAd } = this;\r\n    const _morePadIfElIn = (posName) => {\r\n      const { infoSectionsPos } = this;\r\n      // console.log(infoSectionsPos)\r\n      for (let item of [infoSectionsPos.info, infoSectionsPos.legend]) {\r\n        if (item.disable) continue;\r\n        if ([item.align, item.position].includes(posName)) return 50;\r\n      }\r\n      return 0;\r\n    }\r\n    return {\r\n      top: pad.top + exPAd.top + _morePadIfElIn('top'),\r\n      bottom: pad.bottom + exPAd.bottom + _morePadIfElIn('bottom'),\r\n      right: pad.right + exPAd.right + _morePadIfElIn('right'),\r\n      left: pad.left + exPAd.left + _morePadIfElIn('left')\r\n    }\r\n  }\r\n\r\n  calcSectionRenderPos(item, size, {position, align, disable}) {\r\n    const { extraPadForData } = this;\r\n    const pos = {\r\n      position, align,\r\n      x: size.w/2 - item.w/2,\r\n      y: size.h/2 - item.h/2,\r\n      disable\r\n    };\r\n\r\n    const { main: mainSizeKey, sec: secSizeKey } = this.constructor.sizeKeyByAlignOrAxis(position);\r\n    const { main: mainAxis, sec: secAxis } = this.constructor.axisBySizeKeyOrAlign(position);\r\n    \r\n    switch (align) {\r\n      case 'start':\r\n        pos[secAxis] = secAxis === 'y' ? extraPadForData.top : extraPadForData.left;\r\n        break;\r\n      case 'end':\r\n        pos[secAxis] = size[secSizeKey] - item[secSizeKey] - (secAxis === 'y' ? extraPadForData.bottom : extraPadForData.right);\r\n        break;\r\n      case 'middle':\r\n      case 'center':\r\n        break;\r\n    }\r\n    switch (position) {\r\n      case 'top':\r\n        pos.y = extraPadForData.top;\r\n        break;\r\n      case 'bottom':\r\n        pos.y = size.h - item.h - extraPadForData.bottom;\r\n        break;\r\n      case 'right':\r\n        pos.x = size.w - item.w - extraPadForData.right;\r\n        break;\r\n      case 'left':\r\n        pos.x = extraPadForData.left;\r\n        break;\r\n      case 'middle':\r\n      case 'center':\r\n        break;\r\n    }\r\n    return pos;\r\n  }\r\n\r\n\r\n  get infoSectionsPos() {\r\n    const { size, infoSectionSize, legendSectionSize, chartData } = this;\r\n    return {\r\n      info: this.calcSectionRenderPos(infoSectionSize, size, {\r\n        position: chartData.info.position, align: chartData.info.align, disable: !!chartData.info.disable\r\n      }),\r\n      legend: this.calcSectionRenderPos(legendSectionSize, size, {\r\n        position: chartData.legend?.position, align: chartData.legend?.align, disable: !!chartData.legend\r\n      }),\r\n      // legend: { x: start.x + dataAreaSize.w/2, y: 250 }\r\n    }\r\n  }\r\n  \r\n\r\n  get infoSectionSize() {\r\n    const lineHeight = this.chartData.info.size || 30;\r\n    \r\n    const gap = (lineHeight/3)*2;\r\n    const itemsCount = this.chartData.data.length;\r\n    const totalHeight = itemsCount * lineHeight + (itemsCount-1) * gap;\r\n    // clac width:\r\n    const longestLine = this.chartData.data.reduce((acc, c) => {\r\n      if (c.tag.length > acc.length) return c.tag;\r\n      return acc;\r\n    }, '');\r\n    const lineSize = UTILS.getTextPxSize(longestLine, lineHeight, this.textStyle.font);\r\n    return {\r\n      lineHeight,\r\n      gap,\r\n      h: totalHeight,\r\n      w: lineHeight + gap + lineSize,\r\n    }\r\n  }\r\n\r\n  get legendSectionSize() {\r\n    const h = this.chartData.legend?.size || 50;\r\n    // console.log(this.legend?.tag, h, UTILS.getTextPxSize(this.legend?.tag, h));\r\n    // return UTILS.getTextPxSize(this.legend?.tag, h);\r\n    return { h, w: UTILS.getTextPxSize(this.legend?.tag, h, this.textStyle.font) }; \r\n  }\r\n  \r\n  getChartInfoRenderData() {\r\n    const { chartData, } = this;\r\n\r\n    const textBaseStyle = this.textStyle;\r\n\r\n    const res = [];\r\n\r\n    const zIndex = 2;\r\n\r\n    // info;\r\n    if (!chartData.info?.disable) {\r\n      const infoSize = this.infoSectionSize;\r\n      const infoPos = this.infoSectionsPos.info;\r\n      res.push(...chartData.data.reduce((acc, curr, idx) => {\r\n        const y = infoPos.y + (infoSize.lineHeight+infoSize.gap)*(idx);\r\n        const hoveredData = { item: curr };\r\n        acc.push(\r\n          {\r\n            style: { ...textBaseStyle, textBaseline: 'top' },\r\n            // isCenterPos: true,\r\n            text: curr.tag,\r\n            x: infoPos.x+infoSize.lineHeight,\r\n            y,\r\n            w: infoSize.lineHeight,\r\n            hoveredData,\r\n            zIndex\r\n          },\r\n          {\r\n            style: { fillStyle: this.constructor.getClrFromStyle(curr.style, idx), strokeStyle: 'gray' },\r\n            // isCenterPos: true,\r\n            x: infoPos.x,\r\n            y,\r\n            w: infoSize.lineHeight,\r\n            h: infoSize.lineHeight,\r\n            hoveredData,\r\n            zIndex\r\n          }\r\n        );\r\n        return acc;\r\n      }, []));\r\n    }\r\n\r\n    // legend;\r\n    if (chartData.legend) {\r\n      const legendPos = this.infoSectionsPos.legend;\r\n      res.push(\r\n        {\r\n          ...legendPos,\r\n          w: this.legendSectionSize.h,\r\n          isCenterPos: true,\r\n          text: chartData.legend.tag,\r\n          style: { ...textBaseStyle, textBaseline: 'top', textAlign: 'start' },\r\n          zIndex\r\n        }\r\n      )\r\n    }\r\n\r\n    return res;\r\n  }\r\n\r\n  getGridRenderData() {\r\n    const res = [];\r\n    \r\n    const { chartData } = this;\r\n    const { start, end, minVal, maxVal, mainAxis, secAxis, yByVal, xByVal, yByIdx, xByIdx } = this.chartDataUtils;\r\n\r\n    // chart outline\r\n    const gridStyle = { strokeStyle: 'gray', lineWidth: 3 };\r\n    const outPad = 15; // outline padding\r\n    // const outPad = 0; // outline padding\r\n    const exPad = this.extraPadForData;\r\n    res.push(\r\n      { style: gridStyle, geoShape: [ { x: start.x-exPad.left/2, y: start.y-exPad.top }, { x: start.x-exPad.left/2, y: end.y+exPad.bottom } ] },\r\n      { style: gridStyle, geoShape: [ { x: start.x-exPad.left, y: end.y+exPad.bottom/2 }, { x: end.x+exPad.left/2, y: end.y+exPad.bottom/2 } ] }\r\n    );\r\n\r\n    const textBaseStyle = this.textStyle;\r\n\r\n    const valLabels = [parseInt(minVal), parseInt(maxVal)];\r\n    if (minVal < 0 && maxVal > 0) valLabels.push(0);\r\n    const dataValRange = maxVal-minVal;\r\n    const valLabelsStep = parseInt(dataValRange/8);\r\n    for (let i = 0; i < dataValRange/valLabelsStep; i++) {\r\n      const curr = parseInt(minVal+valLabelsStep*i);\r\n      if (\r\n          Math.abs(maxVal - curr) < valLabelsStep || \r\n          Math.abs(minVal - curr) < valLabelsStep\r\n          || Math.abs(0 - curr) < valLabelsStep\r\n      ) continue\r\n      valLabels.push(curr);\r\n    }\r\n\r\n    // sec axis labels and grid;\r\n    const secAxisLabels = secAxis === 'y' ? valLabels : chartData.labels;\r\n    res.push(...secAxisLabels.reduce((acc, c, i) => {\r\n      const y = secAxis === 'y' ? yByVal(c) : yByIdx(i);\r\n      acc.push(\r\n        {\r\n          x: start.x - exPad.left*1.5,\r\n          y,\r\n          w: textBaseStyle.size,\r\n          text: c.toString(),\r\n          style: { ...textBaseStyle, textBaseline: 'middle', textAlign: 'right' },\r\n        },\r\n        {\r\n          geoShape: [{ x: start.x-exPad.left/2, y }, {x: end.x+exPad.bottom/2, y}],\r\n          style: { ...gridStyle, lineWidth: 1 },\r\n        }\r\n      )\r\n      return acc;\r\n    }, []));\r\n\r\n    // main axis labels and grid;\r\n    const mainAxisLabels = mainAxis === 'x' ? chartData.labels : valLabels.reverse();\r\n    res.push(...mainAxisLabels.reduce((acc, c, i) => {\r\n      const x = mainAxis === 'x' ? xByIdx(i) : xByVal(c);\r\n      acc.push(\r\n        {\r\n          x: x - exPad.left/2,\r\n          y: end.y + exPad.bottom,\r\n          w: textBaseStyle.size,\r\n          text: c.toString(),\r\n          style: { ...textBaseStyle, textBaseline: 'top', textAlign: 'center' }\r\n        },\r\n        {\r\n          geoShape: [{ x, y: start.y-exPad.top }, {x, y: end.y+exPad.bottom/2}],\r\n          style: { ...gridStyle, lineWidth: 1 },\r\n        }\r\n      )\r\n      return acc;\r\n    }, []));\r\n\r\n    return res;\r\n  }\r\n\r\n\r\n\r\n  fullGraphDataToRender() {\r\n    return [...this.getGridRenderData(), ...this.getChartInfoRenderData()];\r\n  }\r\n\r\n\r\n  getCahrtDataToRender() {\r\n    return [...this.fullGraphDataToRender()];\r\n  }\r\n\r\n  get animationSteps() { \r\n    let steps = '0'.repeat(100).split('').map((_, i) => (i+1)/100);\r\n    steps = steps.filter(c => (c*100)%2 === 0);\r\n    return steps;\r\n\r\n    const res = [];\r\n    const stepGroups = [];\r\n    const groupsCount = 8;\r\n    for (let i = 0; i < groupsCount; i++) stepGroups.push(steps.slice(steps.length/groupsCount*i, steps.length/groupsCount*(i+1)));\r\n    stepGroups.reverse().forEach((curr, idx) => {\r\n      res.push(...curr.filter((c, i) => i%(idx+1) === 0));\r\n    });\r\n    res.sort((a, b) => a - b);\r\n    return res;\r\n  }\r\n\r\n  getAnimationFrames() {\r\n    const data = this.chartData.data;\r\n    const frames = [];\r\n    const { animationSteps } = this;\r\n    for (let step of animationSteps) {\r\n      frames.push(this.getCahrtDataToRender(data.map(c => ({\r\n        c,\r\n        vals: c.vals?.map(c => c*step),\r\n        val : c.val*step\r\n      }))))\r\n    }\r\n    return frames;\r\n  }\r\n}\r\n\r\nexport class LineChart extends BaseDataChart {\r\n  getCahrtDataToRender(data) {\r\n    const { secByVal, mainByIdx, mainAxis, secAxis } = this.chartDataUtils;\r\n    if (!data) data = this.chartData.data;\r\n    return[\r\n      ...this.fullGraphDataToRender(),\r\n      ...data.map((curr, idx) => ({\r\n        style: { strokeStyle: this.constructor.getClrFromStyle(curr.style, idx), lineWidth: 5, lineCap: 'round' },\r\n        geoShape: curr.vals.map((c, i) => ({ [mainAxis]: mainByIdx(i), [secAxis]: secByVal(c) })),\r\n        // hoveredData: { item: curr }\r\n      }))\r\n    ];\r\n  }\r\n\r\n  // findRenderedItemPosMatch(pos) {\r\n  //   super.findRenderedItemPosMatch(pos, true);\r\n  // }\r\n}\r\n\r\nexport class BarChart extends BaseDataChart {\r\n  init() {\r\n    this.strictItemSize = true;\r\n    super.init();\r\n  }\r\n  getCahrtDataToRender(data) {\r\n    const { chartData } = this;\r\n    const { secByVal, mainByIdx, mainAxis, secAxis, dataAreaSize, mainSizeKey } = this.chartDataUtils;\r\n    if (!data) data = this.chartData.data;\r\n    const pad = 5;\r\n    const barW = (dataAreaSize[mainSizeKey]/chartData.labels.length)/chartData.data.length - pad;\r\n    return [\r\n      ...this.fullGraphDataToRender(),\r\n      ...data.reduce((acc, curr, idx) => {\r\n        acc.push(\r\n          ...curr.vals.map((val, i) => ({\r\n            geoShape: [\r\n              { [secAxis]: secByVal(0),   [mainAxis]: mainByIdx(i)+(barW)*idx+(pad*idx) },\r\n              { [secAxis]: secByVal(val), [mainAxis]: mainByIdx(i)+(barW)*idx+(pad*idx) },\r\n              { [secAxis]: secByVal(val), [mainAxis]: mainByIdx(i)+(barW)*(idx+1)+(pad*idx) },\r\n              { [secAxis]: secByVal(0),   [mainAxis]: mainByIdx(i)+(barW)*(idx+1)+(pad*idx) },\r\n            ],\r\n            style: { fillStyle: this.constructor.getClrFromStyle(curr.style, idx) },\r\n            hoveredData: { item: curr, val, label: chartData.labels?.[i] }\r\n          })),\r\n        );\r\n        return acc;\r\n      }, [])\r\n    ]\r\n  }\r\n}\r\n\r\nexport class PiChart extends BaseDataChart {\r\n  static getItemVal(item) {\r\n    let val = item.val || item.vals?.[0] || 0;\r\n    if (val < 0) val = 0;\r\n    return val;\r\n  }\r\n  get size() {\r\n    return {\r\n      w: 1000,\r\n      h: this.chartData.info?.disable ? 1000 : 800\r\n    }\r\n  }\r\n  get initPad() {\r\n    return { top: 0, bottom: 0, right: 0, left: 0 };\r\n  }\r\n  get extraPadForData() {\r\n    return { top: 0, bottom: 0, right: 0, left: 0 };\r\n  }\r\n  init() {\r\n    this.chartData.info.position = 'left';\r\n    // this.chartData.info.size = 60;\r\n    this.initService();\r\n  }\r\n  \r\n  get piSize() {\r\n    const { dataAreaSize } = this.chartDataUtils;\r\n    return Math.min(dataAreaSize.w, dataAreaSize.h);\r\n  }\r\n  \r\n  get piPos() {\r\n    const { size } = this;\r\n    const { dataAreaSize, start } = this.chartDataUtils;\r\n    return { x: start.x + dataAreaSize.w/2, y: start.y + dataAreaSize.h/2 };\r\n    // return { x: size.w/2 + size.w/7, y: size.h/2+size.h/16 };\r\n  }\r\n  get baseCircleItem() {\r\n    return {\r\n      ...this.piPos,\r\n      w: this.piSize,\r\n      h: this.piSize,\r\n      circleDegries: 360,\r\n      style: { strokeStyle: 'white', lineWidth: 7.5 },\r\n    }\r\n  }\r\n  getCahrtDataToRender() {\r\n    const { chartData } = this;\r\n    const valsSum = chartData.data.reduce((acc, c) => acc + (this.constructor.getItemVal(c)), 0);\r\n    let lastEndDeg = 0;\r\n    return [\r\n      ...this.getChartInfoRenderData(),\r\n      ...chartData.data.map((curr, idx) => {\r\n        const val = this.constructor.getItemVal(curr);\r\n        const percentages = val / valsSum;\r\n        const startDeg = lastEndDeg;\r\n        const endDeg = startDeg + 360*percentages;\r\n        lastEndDeg = endDeg;\r\n        return {\r\n          ...this.baseCircleItem,\r\n          circleDegries: [startDeg, endDeg],\r\n          closeCircle: true,\r\n          style: { ...this.baseCircleItem.style, fillStyle: this.constructor.getClrFromStyle(curr.style) },\r\n          hoveredData: { item: curr, val }\r\n        }\r\n      })\r\n    ]\r\n  }\r\n  getAnimationFrames() {\r\n    const finalData = this.getCahrtDataToRender();\r\n    const frames = [];\r\n    // const animationSteps = [0, 10,20,35,50,65,80,90,100].map(c => c/100);\r\n    const animationSteps = this.animationSteps;\r\n    for (let i = 0; i < animationSteps.length; i++) {\r\n      const currFrame = finalData.map(c => {\r\n        if (c.clearCircle) return c;\r\n        return {\r\n          ...c,\r\n          circleDegries: Array.isArray(c.circleDegries)? c.circleDegries.map(c => c*animationSteps[i]) : c.circleDegries*animationSteps[i]\r\n        }\r\n      });\r\n      frames.push(currFrame);\r\n    }\r\n    return frames;\r\n  }\r\n}\r\nexport class DonatChart extends PiChart {\r\n  get donatHoleSize() {\r\n    return this.piSize/2;\r\n  }\r\n\r\n  get centerCircle() {\r\n    return {\r\n      ...this.baseCircleItem,\r\n      w: this.donatHoleSize,\r\n      h: this.donatHoleSize\r\n    }\r\n  }\r\n\r\n  findRenderedItemPosMatch(pos) {\r\n    const hoveredItem = super.findRenderedItemPosMatch(pos);\r\n    return hoveredItem && !CanvasService.isPosOnItem(pos, this.centerCircle) && hoveredItem;\r\n  }\r\n\r\n  getCahrtDataToRender() {\r\n    return [\r\n      ...super.getCahrtDataToRender(),\r\n      {\r\n        clearCircle: true,\r\n        ...this.centerCircle,\r\n        closeCircle: true,\r\n        style: { clear: true },\r\n      },\r\n      { ...this.centerCircle }\r\n    ]\r\n  }\r\n}\r\nexport class DiscChart extends DonatChart {\r\n  get donatHoleSize() {\r\n    return this.piSize*0.9;\r\n  } \r\n}\r\nexport class FrameDiscChart extends DiscChart {\r\n  init() {\r\n    this.chartData.info.position = 'center';\r\n    this.chartData.info.size = 60;\r\n    this.initService();\r\n  }\r\n  get size() {\r\n    return {\r\n      w: 1000,\r\n      h: 1000\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport class Heatmap extends BaseChart {\r\n  calcedDataCash = null;\r\n\r\n  constructor(heatData = { width: 100, height: 100, data: [] }, selector, autoCalc = false) {\r\n    super(heatData, selector);\r\n    this.autoCalc = autoCalc;\r\n    this.init();\r\n  }\r\n\r\n  updateData(chartData) {\r\n    this.calcedDataCash = null;\r\n    super.updateData(chartData);\r\n  }\r\n\r\n  get heatData() { return this.chartData; }\r\n  \r\n  getCahrtDataToRender() {\r\n    return this.getheatPointsToRender(this.calcedData);\r\n  }\r\n\r\n  get calcedData() {\r\n    if (this.calcedDataCash) return this.calcedDataCash;\r\n    this.calcedDataCash = this.autoCalc? this.constructor.calcHeatMapData(this.heatData) : this.heatData;\r\n    return this.calcedDataCash;\r\n  }\r\n  \r\n  getheatPointsToRender = (() => {\r\n    const _colorBySevirity = (sevirity, opacity = 1) => {\r\n      // sevirity = Math.floor(sevirity*11)\r\n      // if (sevirity > 11) sevirity = 11;\r\n      // else if (sevirity < 0) sevirity = 0;\r\n      // sevirity = [0,1,2,3,4,5,6,7,8,9,10][sevirity]/10;\r\n\r\n      if (sevirity > 1) sevirity = 1;\r\n      else if (sevirity < 0) sevirity = 0;\r\n      return `hsla(${200*(1-sevirity)},100%,50%,${opacity})`;  // 1 is red, 120 is green;  // 240 == blue, 300 == pink, 180 == lightBlue;\r\n    }\r\n    const _getHeatPoinToRenderPart = (heatPoint, sevirity, idx, partsCount) => {\r\n      const percentages = (idx+1)/partsCount;\r\n      const negativePercentages = (partsCount-idx)/partsCount;\r\n      const currSevirity = sevirity * percentages;\r\n      const fullSize = 140*sevirity;\r\n      const mainPart = (0.6*fullSize)*sevirity;\r\n      const restSize = fullSize-mainPart;\r\n      const size = mainPart + restSize*negativePercentages;\r\n      const shadowDist = 2000;\r\n      return {\r\n        ...heatPoint,\r\n        id: heatPoint._id || makeId(),\r\n        style: {\r\n          // shadowBlur: 10,\r\n          shadowColor: _colorBySevirity(currSevirity),\r\n          shadowOffsetY: (heatPoint.y+shadowDist),\r\n          // fillStyle: _colorBySevirity(currSevirity),\r\n        },\r\n        x: heatPoint.x,\r\n        // y: heatPoint.y,\r\n        y: -shadowDist,\r\n        w: size, h: size, circleDegries: 360,\r\n        zIndex: 1+currSevirity\r\n      };\r\n    }\r\n    const _mapHeatPointToRender = (heatPoint) => {\r\n      const sevirity = this.sevirityByNegs(heatPoint.negsCount, heatPoint.negsDistAvg);\r\n      const depth = 10;\r\n      const res = [];\r\n      for (let i = 0; i < depth; i++) res.push(_getHeatPoinToRenderPart(heatPoint, sevirity, i, depth));\r\n      return res;\r\n    }\r\n    return (heatData) => {\r\n      return heatData.data.reduce((acc, c) => ([...acc, ..._mapHeatPointToRender(c)]), [])\r\n    }\r\n  })();\r\n  sevirityByNegs(negsCount = 0, distAvg = 0) {\r\n    const distSevirity = 1 - (distAvg / this.heatData.negMaxDist);;\r\n    const countPercentagesToMax = 1 - (negsCount / this.heatData.maxNegsCount);\r\n    const distPower = 0.25;\r\n    const percentPwer = 1- distPower;\r\n    const sevirity = distSevirity*distPower + countPercentagesToMax*percentPwer;\r\n    return 1 - sevirity;\r\n  }\r\n\r\n  static calcHeatMapData = (() => {\r\n    const negMaxDist = 300;\r\n    const lotsOfIncidents = 10000;\r\n    function _getNegsData(pos = { x: 0, y: 0 }, positions) {\r\n      const negsCountLimit = positions.length >= lotsOfIncidents? parseInt(positions.length/5) : Infinity;\r\n      let distSum = 0;\r\n      const negs = [];\r\n      for (let i = 0; i < positions.length; i++) {\r\n        const curr = positions[i];\r\n        if (curr._id === pos._id) continue;\r\n        const w = Math.abs(pos.x - curr.x);\r\n        const h = Math.abs(pos.y - curr.y);\r\n        const dist = Math.sqrt(w**2 + h**2); // Pythagoras;\r\n        // const dist = Math.abs(pos.x - curr.x) + Math.abs(pos.y - curr.y);\r\n        if (dist <= negMaxDist) {\r\n          negs.push(curr);\r\n          distSum += dist;\r\n        }\r\n        if (negs.length >= negsCountLimit) break;\r\n      }\r\n      const total = negs.length;\r\n      return { negs, total, distAvg: distSum/total };\r\n    }\r\n    return (heatData) => {\r\n      const positions = heatData.data;\r\n      let maxNegsCount = 0;\r\n      const data = positions.map(c => {\r\n        const negsData = _getNegsData(c, positions);\r\n        if (negsData.total > maxNegsCount) maxNegsCount = negsData.total;\r\n        return { ...c, negsCount: negsData.total, negsDistAvg: negsData.distAvg };\r\n      });\r\n      return { data, negMaxDist, maxNegsCount };\r\n    }\r\n  })();\r\n}\r\n\r\n\r\n\r\nconst UTILS = {\r\n  getDeepKey: function(key = '', endPoint = '', isIdx = false) {\r\n    if (!key) return endPoint;\r\n    if (isIdx) return `${key}[${endPoint}]`;\r\n    return `${key}.${endPoint}`;\r\n  },\r\n  fillData: function(data, fillBy, avoid = [], deepKey = '') {\r\n    if (avoid.includes(deepKey) && !data) return data;\r\n    if ((typeof data) !== 'object') return data;\r\n    if (Array.isArray(data)) return data.map((c,i) => UTILS.fillData(c, fillBy[i], avoid, UTILS.getDeepKey(deepKey, i, true)))\r\n                                    //  .filter((c, i) => !avoid.includes(UTILS.getDeepKey(deepKey, i, true)));\r\n    const res = { ...data };\r\n    for (let key in fillBy) {\r\n      const currDeepKey = UTILS.getDeepKey(deepKey, key, false);\r\n      if ((typeof data[key]) === 'object') res[key] = UTILS.fillData(data[key], fillBy[key], avoid, currDeepKey);\r\n      if (avoid.includes(currDeepKey) && !data[key]) continue;\r\n      else if (!data[key]) res[key] = fillBy[key];\r\n    }\r\n    return res;\r\n  },\r\n  \r\n  getTextPxSize: function(text, size, fontStyle = 'Ariel') {\r\n    const _context = document.createElement('canvas').getContext('2d');\r\n    _context.font = `${size}px ${fontStyle}`;\r\n    const textSize = _context.measureText(text).width;\r\n    // const testEl = document.createElement('div');\r\n    // testEl.style = `display:inline-block;width:auto;height:auto;font-size:${size}px;`;\r\n    // testEl.innerText = text;\r\n    // console.dir(text, size, testEl);\r\n    // const textW = { w: testEl.offsetWidth, h: testEl.offsetHeight };\r\n    return textSize;\r\n  }\r\n}\r\n","\r\n<template>\r\n  <section class=\"dashboard-page flex column align-center space-around\">\r\n      <h2>Dashboard</h2>\r\n      <div class=\"charts-container flex wrap align-center space-around\">\r\n        <div class=\"chart bar2-container\"/>\r\n        <div class=\"chart frame-container\"/>\r\n        <div class=\"chart line-container\"/>\r\n        <div class=\"chart bar3-container\"/>\r\n        <div class=\"chart donat-container\"/>\r\n        <div class=\"chart bar-container\"/>\r\n        <div class=\"chart disc-container\"/>\r\n        <div class=\"chart pi-container\"/>\r\n        <!-- <div class=\"chart hitmap-container\"></div> -->\r\n      </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { LineChart, BarChart, PiChart, DonatChart, DiscChart, FrameDiscChart, Heatmap } from '@/modules/common/services/AvivChart.js';\r\nexport default {\r\n    name: 'about-page',\r\n    data() {\r\n      return {\r\n        charts: []\r\n      }\r\n    },\r\n    mounted() {\r\n      this.mountCharts();\r\n    },\r\n    destroyed() {\r\n      this.charts.forEach(c => c.destroy());\r\n      this.charts = [];\r\n    },\r\n    methods: {\r\n      mountCharts() {\r\n        const range = (count) => '0'.repeat(count).split('').map((_, i) => i);\r\n        const randInt = (min = -infinity, max) => Math.floor(Math.random() * (max - min) + min);\r\n\r\n        const labels = ['Sep', 'Oct', 'Nov', 'Dec', 'Jan', 'Feb'];\r\n        const randData = (min = false) => range(labels.length).map(c => randInt(min? -50 : 0, 100));\r\n\r\n        const baseOptions = () => ({ \r\n          // width: 1500,\r\n          // height: 1000,\r\n          data: [\r\n            {tag: 'Data sample 1', vals: randData(), style: {color: '#abcdeb'}},\r\n            {tag: 'Data sample 2', vals: randData(), style: {color: '#fdaaaa'}},\r\n            {tag: 'Data sample 3', vals: randData(), style: {color: '#b4ffd9'}},\r\n            {tag: 'Data sample 4', vals: randData(), style: {color: '#fcfdcd'}},\r\n            {tag: 'Data sample 5', vals: randData(), style: {color: '#f2ddff'}},\r\n          ], \r\n          labels,\r\n          horizontal: false,\r\n          labelsNegative: true,\r\n          dataNegative: false,\r\n          // width: 1000, height: 1000,\r\n          info: {\r\n            disable: true,\r\n            size: 40,\r\n            position: 'right',\r\n            align: 'middle'\r\n          },\r\n          // legend: { tag: 'Chart test', align: 'start' }\r\n        })\r\n\r\n        this.charts = [\r\n          new DonatChart(baseOptions(), '.donat-container'),\r\n      \r\n          new BarChart(baseOptions(), '.bar-container'),\r\n          \r\n          new BarChart({\r\n            ...baseOptions(),\r\n            data: [\r\n              {tag: 'Data sample 1', vals: randData(true), style: {color: '#abcdeb'}},\r\n              {tag: 'Data sample 2', vals: randData(true), style: {color: '#fdaaaa'}},\r\n              {tag: 'Data sample 3', vals: randData(true), style: {color: '#b4ffd9'}},\r\n              {tag: 'Data sample 4', vals: randData(true), style: {color: '#fcfdcd'}},\r\n              {tag: 'Data sample 5', vals: randData(true), style: {color: '#f2ddff'}},\r\n            ],\r\n          }, '.bar2-container'),\r\n          \r\n          new BarChart({...baseOptions(), horizontal: true}, '.bar3-container'),\r\n        \r\n          new LineChart(baseOptions(), '.line-container'),\r\n        \r\n          new DiscChart(baseOptions(), '.disc-container'),\r\n        \r\n          new PiChart(baseOptions(), '.pi-container'),\r\n        \r\n          new FrameDiscChart({...baseOptions(), info: { disable: false }}, '.frame-container')\r\n        ]\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.dashboard-page {\r\n  h2 {\r\n    margin: 30px 0;\r\n  }\r\n  .charts-container {\r\n    gap: 10px;\r\n    .chart {\r\n      width: 300px;\r\n      height: 200px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n    }\r\n    margin-bottom: 30px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DashboardPage.vue?vue&type=template&id=1fe8b317&scoped=true&\"\nimport script from \"./DashboardPage.vue?vue&type=script&lang=js&\"\nexport * from \"./DashboardPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DashboardPage.vue?vue&type=style&index=0&id=1fe8b317&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1fe8b317\",\n  null\n  \n)\n\nexport default component.exports","import DashboardApp from './DashboardApp';\r\nimport DashboardPage from './views/DashboardPage';\r\n\r\nexport const dashboardRoutes = [\r\n  {\r\n    name: 'DashboardApp',\r\n    path: '/dashboard',\r\n    component: DashboardApp,\r\n    children: [\r\n      {\r\n        name: 'DashboardPage',\r\n        path: '/',\r\n        component: DashboardPage\r\n      }\r\n    ]\r\n  }\r\n]","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ed-app inner-app\"},[_c('router-view',{staticClass:\"inner-app-content\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./EdApp.vue?vue&type=template&id=fcfafbfc&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"map-page flex column space-between\"},[(_vm.userLocation)?_c('div',{staticClass:\"chat-section flex column gap10\"},[_c('h2',[_vm._v(\"Say something!\")]),_c('form',{staticClass:\"flex align-center gap10\",on:{\"submit\":function($event){$event.preventDefault();return _vm.sendMsg.apply(null, arguments)}}},[_c('FormInput',{attrs:{\"type\":\"select\",\"placeholder\":\"Send a message!\",\"itemsMap\":_vm.msgMap},model:{value:(_vm.msgTxt),callback:function ($$v) {_vm.msgTxt=$$v},expression:\"msgTxt\"}}),_c('button',[_vm._v(_vm._s(_vm.$t('send')))])],1)]):_vm._e(),_c('div',{ref:\"elMapContainer\",staticClass:\"google-map\"})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","let msgMap = {\r\n  // \"shual\": \"\",\r\n  // \"danger\": \"\",\r\n  // \"sos\": \"\",\r\n  // \"needHelp\": \"\",\r\n  // \"turnOnLights\": \"\",\r\n  // \"hy\": \"\",\r\n  // \"ok\": \"\",\r\n  // \"rockNRoll\": \"\",\r\n  // \"rockNRoll2\": \"\",\r\n  // \"wave\": \"\",\r\n  // \"spiderman\": \"\",\r\n  // \"thanks\": \"\",\r\n  // \"mascle\": \"\",\r\n  // \"selfy\": \"\",\r\n  // \"chips\": \"\",\r\n  // \"burger\": \"\",\r\n  // \"pizza\": \"\",\r\n  // \"salad\": \"\",\r\n  // \"falafel\": \"\",\r\n  // \"fu\": \"\",\r\n  // \"robot\": \"\",\r\n}\r\n\r\nconst setMsgMap = (map) => msgMap = map;\r\n// const getMsgs = () => msgMap;\r\nconst transMsg = msg => msgMap[msg] || msg;\r\n\r\n\r\n\r\nimport { httpService } from '@/modules/common/services/http.service';\r\nconst ENDPOINT = 'ed-app/msg';\r\n\r\n\r\nfunction getMsgs() {\r\n  return httpService.get(`${ENDPOINT}/`);\r\n}\r\nfunction updateMsgs(msgsMapToUpdate) {\r\n  return httpService.put(`${ENDPOINT}/`, msgsMapToUpdate);\r\n}\r\n\r\nexport const msgService = {\r\n  setMsgMap,\r\n  transMsg,\r\n\r\n  getMsgs,\r\n  updateMsgs\r\n}","// googleApi?\r\n\r\n// let API_KEY = 'AIzaSyClJEGatJZ5nsl0wqdDZ3KLGNHKVUsY9WA';\r\n// let API_KEY = 'AIzaSyAe2XGlg89MWiVjLX03yWczKkhJV2wS3Jc';\r\n// let API_KEY = 'AIzaSyAOnAXgEw57B4TwBiapcl08aer_grWgPDo';\r\n// let API_KEY = 'AIzaSyDdM-mXBbvyBn24sF6Z-CR7jfYQRpgj1y8';\r\n// let API_KEY = 'AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg'; // FROM GOOGLE DEV DOV\r\nlet API_KEY = '';\r\nconst setApiKey = (key) => API_KEY = key;\r\n\r\nasync function initMap(containerEl, center = { lat:0, lng: 0 }) {\r\n  const connectionRes = await _connectGoogleApi();\r\n  if (connectionRes.err) return connectionRes;\r\n  return new google.maps.Map(containerEl, {\r\n    center,\r\n    zoom: 15,\r\n    mapId: 'GOOGLE_MAP_ELEMENT'\r\n  });\r\n}\r\n\r\nasync function _connectGoogleApi() {\r\n  if (window.google) return {};\r\n  const elScript = document.createElement('script');\r\n  elScript.src = `https://maps.googleapis.com/maps/api/js?key=${API_KEY}`;\r\n  // elScript.src = `https://maps.googleapis.com/maps/api/js?key=${API_KEY}&v=beta`;\r\n  // elScript.src = `https://maps.googleapis.com/maps/api/js?key=${API_KEY}&libraries=maps&libraries=marker&v=beta`;\r\n  // elScript.src = `https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&libraries=marker&v=beta`;\r\n  elScript.async = true;\r\n\r\n  document.body.append(elScript);\r\n  const res = await new Promise((resolve, reject) => {\r\n    elScript.onload = resolve;\r\n    elScript.onerror = (err) => resolve({ err: 'cantConnectGoogleApi' });\r\n  });\r\n  setHtmlMarkerClass();\r\n  return res;\r\n}\r\n\r\nfunction getCoordBySearchStr(locationSearchStr) {\r\n  return fetch(_createGeocodeAPI(locationSearchStr))\r\n          .then(data => data.json())\r\n}\r\nfunction _createGeocodeAPI(locationSearchStr) {\r\n  return `https://maps.googleapis.com/maps/api/geocode/json?address=${locationSearchStr}&key=${API_KEY}`;\r\n}\r\n\r\n\r\nfunction addElementToMap(map, location, el = _createDefaultMarkEl()) {\r\n  el.classList.add('map-marker');\r\n\r\n  return new HtmlMarker(location, map, el);\r\n  // return new google.maps.marker.AdvancedMarkerView({\r\n  return new google.maps.Marker({\r\n    map,\r\n    position: location,\r\n    content: el\r\n  });\r\n}\r\nfunction _createDefaultMarkEl() {\r\n  const el = document.createElement('div');\r\n  return el;\r\n}\r\n\r\nfunction removeElementFromMap(preview) {\r\n  preview.onRemove();\r\n  // preview.setMap(null);\r\n}\r\n\r\n\r\n\r\nexport const googleMapService = {\r\n  setApiKey,\r\n  initMap,\r\n  getCoordBySearchStr,\r\n  addElementToMap,\r\n  removeElementFromMap\r\n}\r\n\r\n\r\nvar HtmlMarker;\r\nfunction setHtmlMarkerClass() {\r\n  HtmlMarker = class HtmlMarker extends google.maps.OverlayView {\r\n    constructor(position, map, html) {\r\n        super();\r\n        this.position = position;\r\n        this.html = html;\r\n        this.setMap(map);\r\n    }\r\n\r\n    updatePosition(newPosition) {\r\n      this.position = newPosition;\r\n      this.draw();\r\n    }\r\n  \r\n    onAdd() {\r\n        let div;\r\n        if (typeof this.html === 'string') {\r\n          div = document.createElement(\"div\");\r\n          div.innerHTML = this.html;\r\n        } else div = this.html;\r\n        div.style.position = \"absolute\";\r\n        this.getPanes().overlayMouseTarget.appendChild(div);\r\n        this.div = div;\r\n    }\r\n  \r\n    draw() {\r\n        let point = this.getProjection().fromLatLngToDivPixel(this.position);\r\n        if (point) {\r\n            this.div.style.left = point.x + \"px\";\r\n            this.div.style.top = point.y + \"px\";\r\n        }\r\n    }\r\n  \r\n    onRemove() {\r\n        if (this.div) {\r\n            this.div.parentNode.removeChild(this.div);\r\n            this.div = null;\r\n        }\r\n    }\r\n  }\r\n}","\r\nexport const elementService = {\r\n  getElType,\r\n  El,\r\n  StyleEl,\r\n  dataToCss,\r\n  \r\n}\r\n\r\nfunction getElType(template) {\r\n  if (template[0] === '<' && template[template.length-1] === '>') {\r\n      if (template[1] === '/') {\r\n          return template.split('/')[1].split(' ')[0].split('>')[0];\r\n      } \r\n      else {\r\n          return template.split('<')[1].split(' ')[0].split('>')[0].split('/')[0];\r\n      }\r\n  } else return;\r\n}\r\nfunction El(htmlStr = '', evs = {}, children = []) {\r\n  let parentType = 'div';\r\n  const elType = getElType(htmlStr);\r\n  if (elType === 'tr') parentType = 'table';\r\n  else if (elType === 'td') parentType = 'tr';\r\n  const parent = document.createElement(parentType);\r\n  parent.innerHTML = htmlStr;\r\n  const el = parent.firstChild;\r\n  for (let evName in evs) el[evName] = evs[evName];\r\n  children.forEach(child => child && el.appendChild(child));\r\n  return el;\r\n}\r\nfunction StyleEl(selector = '', style = {}) {\r\n  return El(`<style>${dataToCss(selector, style)}</style>`)\r\n}\r\nfunction dataToCss(selector = '', style = {}, tab = 0) {\r\n  const tabStr = '\\t'.repeat(tab);\r\n  let styleStr = `${tabStr}${selector} {`;\r\n  let nestedStyle = ''\r\n  for (let key in style) {\r\n      const val = style[key];\r\n      key = _stringToLowerKabab(key);\r\n      if (typeof val === 'object') {\r\n          const isCssRule = key[0] === '@';\r\n          if (!isCssRule) {\r\n              let nestedSelector = selector;\r\n              if (key[0] === '&') nestedSelector += key.slice(1);\r\n              else nestedSelector += ` ${key}`;\r\n              nestedStyle += dataToCss(nestedSelector, val);\r\n          } else {\r\n              nestedStyle += `${key} {\\n`;\r\n              const rullType = key.split(' ')[0].split('@')[1];\r\n              if (rullType === 'keyframes') for (let c in val) nestedStyle += dataToCss(c, val[c]);\r\n              else nestedStyle += dataToCss(selector, val, 1);\r\n              nestedStyle += '}\\n';\r\n          }\r\n      }\r\n      else styleStr += `\\n${tabStr}\\t${key}: ${val};`;\r\n  }\r\n  styleStr += `\\n${tabStr}}\\n`;\r\n  styleStr += nestedStyle;\r\n  return styleStr;\r\n}\r\nfunction _stringToLowerKabab(str) {\r\n  const CAPS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');\r\n  let fixedStr = '';\r\n  for (let i = 0; i < str.length; i++) {\r\n      let curr = str[i];\r\n      let lowerCurr = curr.toLowerCase();\r\n      if (CAPS.includes(curr)) {\r\n          if (i === 0) fixedStr += lowerCurr;\r\n          else if (str[i-1] && (str[i-1] !== ' ')) fixedStr += `-${lowerCurr}`;\r\n      } else fixedStr += lowerCurr;\r\n  }\r\n  return fixedStr;\r\n}\r\n","import { googleMapService } from \"./googleMap.service\";\r\nimport { elementService } from \"../../common/services/element.service\";\r\nimport { msgService } from \"./msg.service\";\r\nconst El = elementService.El;\r\nimport evEmmiter from '@/modules/common/services/event-emmiter.service';\r\n\r\n\r\n\r\nconst AccountsPreviewMap = {}; // id: {el, preview}\r\n\r\n\r\nfunction updateAccountMapPreview(map, account, selectedAccounts) {\r\n  // const prevEl = document.querySelector(`${_getAccountPreviewSelector(account)}`);\r\n  const prevEl = AccountsPreviewMap[account._id]?.el;\r\n  if (!prevEl) return addAccountMapPreview(map, account, selectedAccounts);\r\n  const newEl = createAccountMapEl(account, selectedAccounts);\r\n  const oldMsgsEl = prevEl.querySelector('ul');\r\n  oldMsgsEl.innerHTML = newEl.querySelector('ul').innerHTML;\r\n\r\n  // console.log(AccountsPreviewMap[account._id]);\r\n  // AccountsPreviewMap[account._id].preview.setPosition(account.location);\r\n  AccountsPreviewMap[account._id].preview.updatePosition(account.location);\r\n}\r\nfunction addAccountMapPreview(map, account, selectedAccounts) {\r\n  const el = createAccountMapEl(account, selectedAccounts);\r\n  const preview = googleMapService.addElementToMap(map, account.location, el);\r\n  // AccountsPreviewMap[account._id] = preview;\r\n  AccountsPreviewMap[account._id] = {el, preview};\r\n  return preview;\r\n}\r\nfunction createAccountMapEl(account, selectedAccounts) {\r\n  const elMsg = El(`<ul hidden></ul>`, {}, account.msgs.length? account.msgs.map(c => El(`<li>${msgService.transMsg(c.txt)}</li>`)) : [El(`<li>No messages..</li>`)]);\r\n  const el = El(`<div class=\"account-map-preview ${_getAccountPreviewSelector(account)}\"></div>`, {},\r\n    [\r\n      El(`<p>${account.username}</p>`, {onclick: () => elMsg.hidden = !elMsg.hidden}),\r\n      El(`<input type=\"checkbox\"/>`, {\r\n        checked: selectedAccounts.find(c => c._id === account._id)? true : '',\r\n        oninput: (ev) => evEmmiter.emit('map-user-selected', { account, ev, val: ev.target.checked }) \r\n      }),\r\n      elMsg\r\n    ]\r\n  );\r\n  return el;\r\n}\r\nfunction _getAccountPreviewSelector(account) {\r\n  return `account-map-preview-${account._id}`;\r\n}\r\n\r\nfunction removeAccountFromMap(account) {\r\n  googleMapService.removeElementFromMap(AccountsPreviewMap[account._id].preview);\r\n  delete AccountsPreviewMap[account._id];\r\n}\r\n\r\nfunction clearAllAccountsData() {\r\n  for (let key in AccountsPreviewMap) removeAccountFromMap({_id: key});\r\n}\r\n\r\nexport const mapService = {\r\n  addAccountMapPreview,\r\n  updateAccountMapPreview,\r\n  removeAccountFromMap,\r\n  createAccountMapEl,\r\n  clearAllAccountsData\r\n}","// const errorImg = require('@/client/assets/imgs/error.svg')\r\n// const closeImg = require('@/client/assets/imgs/close-btn.svg')\r\n\r\nimport scssVars from '@/assets/styles/global/_vars.scss';\r\n\r\nimport { elementService } from './element.service';\r\n\r\nfunction toast({type = 'danger', msg = '', html = '', timeout = 7000} = {}, olCloseCb) {\r\n  const styleStr =`<style>\r\n    ${elementService.dataToCss('.toast-alert', {\r\n      position: 'fixed',\r\n      zIndex: 20,\r\n      top: '40px',\r\n      right: '50%',\r\n      transform: 'translateX(50%)',\r\n      padding: '10px',\r\n      borderRadius: '4px',\r\n      fontStyle: 'italic',\r\n      width: '370px',\r\n      boxShadow: scssVars.lightShadow,\r\n      '&.success': {\r\n        backgroundColor: '#95f495',\r\n        '.prime-msg': {\r\n          // color: 'green-darker'\r\n        }\r\n      },\r\n      '&.warning': {\r\n        backgroundColor: 'yellow',\r\n        '.prime-msg': {\r\n          // color: 'yellow-darker'\r\n        }\r\n      },\r\n      '&.danger': {\r\n        backgroundColor: '#FFF5F5',\r\n        '.prime-msg': {\r\n          '&::before': {\r\n            // content: `url(${errorImg})`,\r\n            marginInlineEnd: '5px'\r\n          }\r\n        }\r\n      },\r\n      a: {\r\n        fontWeight: 'bold',\r\n        cursor: 'pointer',\r\n        textDecoration: 'underline'\r\n      },\r\n      '@keyframes fadeaway': {\r\n        '0%': {opacity: '100%'},\r\n        '100%': {opacity: '0%'}\r\n      },\r\n      '&.fade': {\r\n        animationName: 'fadeaway',\r\n        animationDuration: '1s'\r\n      },\r\n      '.close-btn': {\r\n        position: 'absolute',\r\n        top: '3px',\r\n        right: '3px',\r\n        // backgroundImage: `url(${closeImg})`,\r\n        backgroundSize: `10px 10px`,\r\n        width: '10px',\r\n        height: '10px',\r\n        content: '\"X\"'\r\n      },\r\n      '@media (max-width: 420px)': {\r\n        width: '90vw',\r\n        textAlign: 'center',\r\n        '.sec-msg': {\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }\r\n      }\r\n    })}\r\n  </style>`;\r\n\r\n  let toastEl;\r\n\r\n  let isClosed = false;\r\n  const onClose = () => {\r\n    if (isClosed) return;\r\n    isClosed = true;\r\n    document.body.removeChild(toastEl);\r\n    olCloseCb?.();\r\n  }\r\n\r\n  toastEl = elementService.El(`<div class=\"toast-alert ${type}\">\r\n    ${styleStr}\r\n    ${msg? `<p class=\"prime-msg\">${msg}</p>` : ''}\r\n    ${html || ''}\r\n  </div>`, {}, [elementService.El(`<button class=\"close-btn\"></button>`, {onclick: onClose})]);\r\n\r\n  document.body.appendChild(toastEl);\r\n\r\n  if (timeout) {\r\n    setTimeout(() => {\r\n      if (isClosed) return;\r\n      toastEl.classList.add('fade');\r\n    }, timeout - 900);\r\n    setTimeout(() => {\r\n      onClose();\r\n    }, timeout);\r\n  }\r\n\r\n  return onClose;\r\n}\r\n\r\nclass A_Alert {\r\n    static counter = 0;\r\n    id = 0;\r\n\r\n    idClass = '';\r\n    RootClass = 'A-Alert';\r\n    pasitionClass = 'alert-fixed';\r\n    compactClass = 'compact-alert';\r\n    parentSelector = '';\r\n    styleTemplateStr = '';\r\n\r\n    constructor(parentSelector = 'body', isAbsolute = false, styleTemplateStr = _getDefaultAlertStyle()) {\r\n        this.parentSelector = parentSelector;\r\n        this.id = A_Alert.counter++;\r\n\r\n        if (isAbsolute) this.pasitionClass = 'alert-absolute';\r\n\r\n        this.styleTemplateStr = styleTemplateStr;\r\n\r\n        this.idClass = 'ALERT' + this.id;\r\n    }\r\n\r\n    state = {\r\n        type: '',\r\n        msg: '',\r\n        placeHolder: '',\r\n    \r\n        reject: undefined,\r\n        resolve: undefined,\r\n    }\r\n\r\n    Confirm = (msg = '') => {\r\n        return this._seStatePromise('confirm', msg, '');\r\n    }\r\n    Alert = (msg = '') => {\r\n        return this._seStatePromise('alert', msg, '');\r\n    }\r\n    Prompt = (msg = '', placeHolder = '') => {\r\n        return this._seStatePromise('prompt', msg, placeHolder);\r\n    }\r\n\r\n    _render() {\r\n        var {msg, type, placeHolder} = this.state;\r\n        return `\r\n            ${this.styleTemplateStr}\r\n            <div class=\"alert-screen\"></div>\r\n            <section class=\"alert-modal\">\r\n                <p class=\"msg\">${msg}</p>\r\n                ${type === 'prompt' && `\r\n                    <form class=\"a-alert-prompt-form\">\r\n                        <input type=\"text\" placeholder=\"${placeHolder}\"/>\r\n                        <button>Submit</button>\r\n                    </form>\r\n                    <button class=\"a-alert-reject-btn\">Close</button>\r\n                ` || `\r\n                    <div class=\"a-alert-buttons-container\">\r\n                        ${type === 'confirm' && `\r\n                            <button class=\"a-alert-confirm-btn\">Confirm</button>\r\n                            <button class=\"a-alert-reject-btn\">Cancel</button>\r\n                        ` || `\r\n                            <button class=\"a-alert-reject-btn\">Close</button>\r\n                        `}\r\n                    </div>\r\n                `}\r\n            </section>\r\n            `\r\n    }\r\n\r\n    _show = () => {\r\n        const alertHtmlStr = this._render();\r\n        var elAlert = document.querySelector('.' + this.idClass);\r\n        if (!elAlert) {\r\n            elAlert = document.createElement('div');\r\n            elAlert.classList = `${this.RootClass} ${this.idClass} ${this.pasitionClass}`;\r\n\r\n            let elParent = document.querySelector(this.parentSelector);\r\n            if (elParent.offsetWidth < 400) elAlert.classList.add(this.compactClass);\r\n            elParent.appendChild(elAlert);\r\n        }\r\n        elAlert.innerHTML = alertHtmlStr;\r\n        elAlert.classList.add(this.state.type);\r\n        try {elAlert.querySelector('.a-alert-prompt-form').onsubmit = event => this._promptResolve(event);} catch(err) {}\r\n        try {elAlert.querySelector('.a-alert-reject-btn').onclick = this.state.type === 'confirm' ? \r\n                                                                                this._alertResolveFalse : \r\n                                                                                this._alertResolveUndefined ;\r\n                                                                    } catch(err) {}\r\n        try {elAlert.querySelector('.a-alert-confirm-btn').onclick = this._alertResolveTrue;} catch(err) {}\r\n    }\r\n    \r\n    _hide = (prmCbFunc, val = undefined) => {\r\n        var currTypeClassName = this.state.type;\r\n        this.state.isPending = false;\r\n        this.state.msg = '';\r\n        this.state.type = '';\r\n        this.state.placeHolder = '';\r\n        this.state.resolve = undefined;\r\n        this.state.reject = undefined;\r\n\r\n        var elAlert = document.querySelector('.' + this.idClass);\r\n        elAlert.classList.remove(currTypeClassName);\r\n        elAlert.innerHTML = null;\r\n        return prmCbFunc(val);\r\n    }\r\n\r\n    _alertResolveTrue = () => {\r\n        return this.state.resolve(true);\r\n    }\r\n    _alertResolveFalse = () => {\r\n        return this.state.resolve(false);\r\n    }\r\n    _alertResolveUndefined = () => {\r\n        this.state.resolve();\r\n    }\r\n    _alertReject = () => {\r\n        return this.state.reject();\r\n    }\r\n    _promptResolve = (ev) => {\r\n        ev.preventDefault();\r\n        var value = ev.target.querySelector('input').value;\r\n        if (!value.length) return;\r\n        ev.target.querySelector('input').value = '';\r\n        return this.state.resolve(value);\r\n    }\r\n\r\n    _seStatePromise = (type, msg = '', placeHolder = '') => {\r\n        if (this.state.isPending) return Promise.reject(`NOTE: can not set new alert becouse another alert is already in pending state.`);\r\n        this.state.isPending = true;\r\n        this.state.type = type;\r\n        this.state.msg = msg;\r\n        this.state.placeHolder = placeHolder;\r\n        this._show();\r\n        return new Promise((resolve, reject) => {\r\n            this.state.resolve = (val) => this._hide(val => resolve(val), val);\r\n            this.state.reject = () => this._hide(reject);\r\n        });\r\n    }\r\n}\r\n\r\nconst { Alert, Prompt, Confirm } = new A_Alert();\r\n\r\nexport const alertService = {\r\n  toast,\r\n  A_Alert,\r\n  Alert,\r\n  Prompt,\r\n  Confirm\r\n}\r\n\r\n\r\n// var tryAlert = new A_Alert();\r\n// window.Alert = tryAlert.Alert;\r\n// window.Confirm = tryAlert.Confirm;\r\n// window.Prompt = tryAlert.Prompt;\r\n\r\nfunction _getDefaultAlertStyle() {\r\n    return  {\r\n        name: 'alert-style',\r\n        template: `\r\n            <style>\r\n                .A-Alert .alert-screen {\r\n                    top: 0;\r\n                    right: 0;\r\n                    background-color: rgba(0, 0, 0, 0.01);\r\n                    z-index: 29;\r\n                }\r\n                .A-Alert.alert-absolute .alert-screen {\r\n                    position: absolute;\r\n                    height: 100%;\r\n                    width: 100%;\r\n                }\r\n                .A-Alert.alert-fixed .alert-screen {\r\n                    position: fixed;\r\n                    width: 100%;\r\n                    height: 100vh;\r\n                }\r\n    \r\n                .A-Alert .alert-modal {\r\n                    display: flex;\r\n                    flex-direction: column;\r\n                    align-items: center;\r\n                    justify-content: center;\r\n                    color: black;\r\n                    background-color: #fff;\r\n                    border: 1px solid rgb(165, 12, 12);\r\n                    border-radius: 20px;\r\n                    width: 350px;\r\n                    max-width: 98%;\r\n                    padding: 20px;\r\n                    z-index: 30 !important;\r\n                    right: 50%;\r\n                    bottom: 50%;\r\n                    transform: translate(50%, 50%);\r\n                    font-family: Verdana, Geneva, Tahoma, sans-serif;\r\n                }\r\n                .A-Alert.compact-alert.alert-absolute .alert-modal {\r\n                    width: 75%;\r\n                }\r\n                .A-Alert.alert-absolute .alert-modal {\r\n                    position: absolute;\r\n                }\r\n                .A-Alert.alert-fixed .alert-modal {\r\n                    position: fixed;\r\n                    top: 12vh;\r\n                    bottom: unset;\r\n                    transform: translate(50%, 0);\r\n                }\r\n    \r\n                .A-Alert .alert-modal > * {\r\n                    text-align: center;\r\n                    width: 100%;\r\n                    margin: 20px 0;\r\n                }\r\n    \r\n                .A-Alert .alert-modal .a-alert-buttons-container, \r\n                .A-Alert .alert-modal .a-alert-prompt-form {\r\n                    display: flex;\r\n                    align-items: center;\r\n                    justify-content: space-around;\r\n                    flex-wrap: wrap;\r\n                }\r\n                .A-Alert .alert-modal .a-alert-buttons-container >*, \r\n                .A-Alert .alert-modal .a-alert-prompt-form >* {\r\n                    margin: 5px;\r\n                }\r\n    \r\n                .A-Alert .alert-modal button {\r\n                    background: unset;\r\n                    <!-- font-size: 1rem; -->\r\n                    font-size: 0.8rem;\r\n                    border: 1px solid rgb(165, 12, 12);\r\n                    border-radius: 7.5px;\r\n                    outline: unset;\r\n                    color: rgb(165, 12, 12);\r\n                    width: fit-content;\r\n                }\r\n                .A-Alert .alert-modal button:hover {\r\n                    cursor: pointer;\r\n                }\r\n                .A-Alert .alert-modal button:active {\r\n                    cursor: pointer;\r\n                    border: 1px solid #eca1a1;\r\n                    color: #eca1a1;\r\n                }\r\n\r\n                .A-Alert .alert-modal input {\r\n                    width: 60%;\r\n                    outline: none;\r\n                    padding: 5px;\r\n                    padding-left: none;\r\n                    border: unset;\r\n                    background: unset;\r\n                    border-bottom: 1px solid black;\r\n                }\r\n    \r\n                \r\n                @media (max-width: 400px) {\r\n                    .A-Alert.alert-fixed .alert-modal {\r\n                        width: 80vw;\r\n                    }\r\n                }\r\n    \r\n            </style>\r\n    `\r\n    }.template\r\n}","<template>\r\n  <div class=\"map-page flex column space-between\">\r\n    <div v-if=\"userLocation\" class=\"chat-section flex column gap10\">\r\n      <h2>Say something!</h2>\r\n      <form @submit.prevent=\"sendMsg\" class=\"flex align-center gap10\">\r\n        <FormInput type=\"select\" placeholder=\"Send a message!\" v-model=\"msgTxt\" :itemsMap=\"msgMap\"/>\r\n        <button>{{$t('send')}}</button>\r\n        <!-- <p v-if=\"accountsToShow.every(c => !isAccountInMsg(c))\">{{$t('noUserSelectedMsg')}}</p> -->\r\n      </form>\r\n      <!-- <ul class=\"flex column gap10\" ref=\"elAccounts\"> -->\r\n        <!-- <li v-for=\"account in accountsToShow\" :key=\"account._id\" class=\"flex column gap5 width-all\">\r\n          <p @click=\"toggleAccountToMsg(account)\">User: {{account.username}} <span v-if=\"isAccountInMsg(account)\">V</span></p>\r\n          <ul class=\"flex wrap gap5 width-all\">\r\n            <li v-for=\"message in account.msgs\" :key=\"message._id\">\r\n              {{msgMap[message.txt] || message.txt}}\r\n            </li>\r\n          </ul>\r\n        </li> -->\r\n      <!-- </ul> -->\r\n    </div>\r\n    <div class=\"google-map\" ref=\"elMapContainer\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { socketService } from '@/modules/common/services/socket.service';\r\nimport FormInput from '@/modules/common/cmps/FormInput.vue';\r\nimport { msgService } from '../services/msg.service';\r\nimport { getGeoLocation } from '../services/location.service';\r\nimport { googleMapService } from '../services/googleMap.service';\r\nimport { mapService } from '../services/map.service';\r\nimport { alertService } from '@/modules/common/services/alert.service';\r\n\r\nimport evEmmiter from '@/modules/common/services/event-emmiter.service';\r\n\r\n\r\nexport default {\r\n  name: 'MapPage',\r\n  data() {\r\n    return {\r\n      chatData: { accounts: [], msgs: [] },\r\n      room: '',\r\n      msgTxt: '',\r\n      msgTo: [],\r\n      msgMap: {},\r\n      userLocation: null,\r\n      map: null,\r\n\r\n      autoLocationInterval: null\r\n    }\r\n  },\r\n  async mounted() {\r\n    this.init();\r\n  },\r\n  destroyed() {\r\n    this.disconnectEvents();\r\n  },\r\n  computed: {\r\n    accountsToShow() {\r\n      const accounts = [];\r\n      const allMsgs = this.chatData.msgs;\r\n      for (let account of this.chatData.accounts) accounts.push({\r\n        ...account,\r\n        msgs: allMsgs.filter(c => c.from._id === account._id)\r\n      });\r\n      return accounts;\r\n    }\r\n  },\r\n  methods: {\r\n    async connectEvents() {\r\n      await socketService.connect();\r\n\r\n      socketService.on('map_room_data', data => {\r\n        this.chatData = data;\r\n\r\n        if (data.msgMap) {\r\n          this.msgMap = data.msgMap;\r\n          msgService.setMsgMap(data.msgMap);\r\n        }\r\n\r\n        // const { elAccounts } = this.$refs;\r\n        // elAccounts.innerHTML = '';\r\n        // this.accountsToShow.forEach(c => elAccounts.appendChild(mapService.createAccountMapEl(c, this.msgTo)));\r\n\r\n        this.accountsToShow.forEach(c => mapService.updateAccountMapPreview(this.map, c, this.msgTo));\r\n      });\r\n      socketService.on('new_map_message', msg => {\r\n        // this.chatData.msgs.unshift(msg);\r\n        alertService.toast({type: 'success', timeout: 5000, msg: `${msg.from.username} says: ${msgService.transMsg(msg.txt)}`});\r\n      });\r\n      evEmmiter.on('map-user-selected', ({ account, val, ev }) => {\r\n        this.toggleAccountToMsg(account);\r\n      });\r\n    },\r\n    disconnectEvents() {\r\n      socketService.emit('leave_map_room');\r\n      socketService.off('new_map_message');\r\n      socketService.off('map_room_data');\r\n      evEmmiter.off('map-user-selected');\r\n\r\n      clearInterval(this.autoLocationInterval);\r\n      mapService.clearAllAccountsData();\r\n    },\r\n\r\n    async sendMsg() {\r\n      if (!this.msgTxt) return;\r\n      const location = await this.getUserLocation();\r\n      const msg = { txt: this.msgTxt, to: this.msgTo, location };\r\n      socketService.emit('send_map_message', msg);\r\n      this.msgTxt = '';\r\n      // this.msgTo = [];\r\n    },\r\n    async getUserLocation() {\r\n      const res = await getGeoLocation();\r\n      if (res.err) this.handleError({err: `error getting geo lofation - ${res.err}`});\r\n      this.userLocation = res;\r\n      return res;\r\n    },\r\n    isAccountInMsg(account) {\r\n      return this.accountInMsgIdx(account) !== -1;\r\n    },\r\n    accountInMsgIdx(account) {\r\n      return this.msgTo.findIndex(c => c._id === account._id);\r\n    },\r\n    toggleAccountToMsg(account) {\r\n      const accountToPush = { ...account, msgs: undefined };\r\n      if (this.isAccountInMsg(account)) this.msgTo.splice(this.accountInMsgIdx(accountToPush, 1));\r\n      else this.msgTo.push(accountToPush);\r\n    },\r\n\r\n    async updateUserLocation() {\r\n      const location = await this.getUserLocation();\r\n      socketService.emit('update_user_location', location);\r\n    },\r\n\r\n\r\n    \r\n    async init() {\r\n      googleMapService.setApiKey(this.$store.getters['settings/settings'].GOOGLE_API_KEY);\r\n      const location = await this.getUserLocation();\r\n      await this.initMap();\r\n      socketService.emit('join_map_room', location);\r\n      this.connectEvents();\r\n\r\n      this.autoLocationInterval = setInterval(this.updateUserLocation, 5000);\r\n    },\r\n    async initMap() {\r\n      const map = await googleMapService.initMap(this.$refs.elMapContainer, this.userLocation);\r\n      if (map.err) this.handleError({err: `error getting loading map - ${map.err}`});\r\n      this.map = map;\r\n    },\r\n\r\n\r\n    handleError(err) {\r\n      alertService.toast({type: 'danger', msg: `Error: ${err.err}`});\r\n      throw err;\r\n    }\r\n  },\r\n  components: { FormInput },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '@/assets/styles/global/index';\r\n.map-page {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  .chat-section {\r\n    .form-input {\r\n      width: 50px;\r\n    }\r\n    position: absolute;\r\n    z-index: 20;\r\n    top: 95px;\r\n    left: 10px;\r\n    color: black;\r\n    background-color: rgba(255, 255, 255, 0.9);\r\n    padding: 15px;\r\n    border-radius: 3px;\r\n    border: 1px solid rgba(0, 0, 0, 0.5);\r\n    box-shadow: $light-shadow;\r\n  }\r\n  .google-map {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  .account-map-preview {\r\n    width: fit-content;\r\n    height: 30px;\r\n    padding: 5px;\r\n    @include flex-center;\r\n    border-radius: 3px;\r\n    box-shadow: $light-shadow;\r\n    background-color: white;\r\n    position: relative;\r\n    color: black;\r\n    p {\r\n      &:hover {\r\n        cursor: pointer;\r\n      }\r\n    }\r\n    ul {\r\n      position: absolute;\r\n      left: calc(100% + 3px);\r\n      top: 0;\r\n      // width: 30px;\r\n      padding: 5px;\r\n      border-radius: 3px;\r\n      box-shadow: $light-shadow;\r\n      background-color: white;\r\n      text-align: center;\r\n      max-height: 150px;\r\n      overflow-y: auto;\r\n      overflow-x: hidden;\r\n\r\n      >*:not(:last-child) {\r\n        margin-bottom: 5px;\r\n      }\r\n\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapPage.vue?vue&type=template&id=eab8e500&\"\nimport script from \"./MapPage.vue?vue&type=script&lang=js&\"\nexport * from \"./MapPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapPage.vue?vue&type=style&index=0&id=eab8e500&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container msgs-page flex column gap10\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.saveMsgs.apply(null, arguments)}}},[_c('ul',{staticClass:\"flex column gap15\"},_vm._l((_vm.msgs),function(msg){return _c('li',{key:msg._id,staticClass:\"flex align-center gap15\"},[_c('FormInput',{attrs:{\"label\":\"emoji\"},model:{value:(msg.ui),callback:function ($$v) {_vm.$set(msg, \"ui\", $$v)},expression:\"msg.ui\"}}),_c('FormInput',{attrs:{\"label\":\"maxDistM\"},model:{value:(msg.maxDistM),callback:function ($$v) {_vm.$set(msg, \"maxDistM\", $$v)},expression:\"msg.maxDistM\"}}),_c('FormInput',{attrs:{\"label\":\"name\"},model:{value:(msg.name),callback:function ($$v) {_vm.$set(msg, \"name\", $$v)},expression:\"msg.name\"}})],1)}),0),_c('button',[_vm._v(_vm._s(_vm.$t('save')))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container msgs-page flex column gap10\">\r\n    <form @submit.prevent=\"saveMsgs\">\r\n      <ul class=\"flex column gap15\">\r\n        <li v-for=\"msg in msgs\" :key=\"msg._id\" class=\"flex align-center gap15\">\r\n          <FormInput label=\"emoji\" v-model=\"msg.ui\"/>\r\n          <FormInput label=\"maxDistM\" v-model=\"msg.maxDistM\"/>\r\n          <FormInput label=\"name\" v-model=\"msg.name\"/>\r\n        </li>\r\n      </ul>\r\n      <button>{{$t('save')}}</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FormInput from '@/modules/common/cmps/FormInput.vue';\r\nimport evEmmiter from '@/modules/common/services/event-emmiter.service';\r\n\r\nexport default {\r\n  name: 'MsgsPage',\r\n  data() {\r\n    return {\r\n      msgs: []\r\n    }\r\n  },\r\n  methods: {\r\n    async saveMsgs() {\r\n      const updatedSettings = await this.$store.dispatch({ type: 'ed/updateMsgs', msgs: this.msgs });\r\n      this.msgs = JSON.parse(JSON.stringify(updatedSettings));\r\n    },\r\n    async loadMsgs() {\r\n      this.msgs = await this.$store.dispatch('ed/loadMsgs');\r\n    }\r\n  },\r\n  created() {\r\n    this.loadMsgs();\r\n  },\r\n  components: { FormInput }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MsgEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MsgEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MsgEdit.vue?vue&type=template&id=619eb1f2&\"\nimport script from \"./MsgEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./MsgEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import EdApp from './EdApp';\r\nimport MapPage from './views/MapPage';\r\nimport MsgEdit from './views/MsgEdit';\r\n\r\nexport const edRoutes = [\r\n  {\r\n    name: 'EdApp',\r\n    path: '/ED',\r\n    component: EdApp,\r\n    children: [\r\n      {\r\n        name: 'EdMapPage',\r\n        path: '/',\r\n        component: MapPage\r\n      },\r\n      {\r\n        name: 'EdMsgEdit',\r\n        path: 'msgs',\r\n        component: MsgEdit\r\n      },\r\n    ]\r\n  }\r\n]","import Vue from 'vue';\nimport VueRouter from 'vue-router';\n\nimport { commonRoutes } from '@/modules/common/routes';\nimport { authRoutes } from '@/modules/auth/routes';\nimport { accountRoutes } from '@/modules/account/routes';\nimport { settingsRoutes } from '@/modules/settings/routes';\nimport { dashboardRoutes } from '../modules/dashboard/routes';\nimport { edRoutes } from '@/modules/ED/routes';\n\nVue.use(VueRouter)\n\nconst routes = [\n  ...commonRoutes,\n  ...authRoutes,\n  ...accountRoutes,\n  ...settingsRoutes,\n  ...dashboardRoutes,\n  ...edRoutes\n]\n\nexport const router = new VueRouter({\n  mode: 'hash',\n  routes,\n  // base: process.env.BASE_URL\n});\n\n// for before each usage\nlet _store = null;\nexport const setStoreForRouter = store => _store = store\n\n// router.beforeEach((to, from, next) => {\n//   next();\n// });\n\n// export default router\n","const initState = () => ({\r\n  isLoading: true,\r\n  error: ''\r\n});\r\n\r\nexport const _commonStore = {\r\n  state: initState(),\r\n  getters: {\r\n    isRootLoading: (state) => state.isLoading,\r\n    rootError: (state) => state.error,\r\n  },\r\n  mutations: {\r\n    setRootLoading(state, { val }) {\r\n      state.isLoading = val;\r\n    },\r\n    setError(state, { err }) {\r\n      state.error = err;\r\n    },\r\n    resetCommonState(state) {\r\n      const newState = initState();\r\n      for (let key in state) state[key] = newState[key];\r\n    }\r\n  },\r\n  actions: {\r\n    resetState({ commit }) {\r\n      commit('account/resetState');\r\n      commit('auth/resetState');\r\n      commit('example/resetState');\r\n      // commit('settings/resetState');\r\n    }\r\n  }\r\n}\r\n\r\nexport const commonStore = { common: _commonStore };","import { httpService } from '@/modules/common/services/http.service';\r\n\r\nconst ENDPOINT = 'auth';\r\n\r\nexport const authService = {\r\n  login,\r\n  getUserInfo,\r\n  logout,\r\n  signup\r\n}\r\n\r\nfunction login(cred) {\r\n  return httpService.post(`${ENDPOINT}/login`, cred);\r\n}\r\nfunction logout() {\r\n  return httpService.post(`${ENDPOINT}/logout`);\r\n}\r\nfunction getUserInfo() {\r\n  return httpService.get(`${ENDPOINT}/info`);\r\n}\r\nfunction signup(cred) {\r\n  return httpService.post(`${ENDPOINT}/signup`, cred);\r\n}","import { alertService } from '@/modules/common/services/alert.service'\r\nimport { delay } from '@/modules/common/services/util.service';\r\n\r\nconst initFilterBy = () => ({\r\n  filter: {\r\n    search: '',\r\n    params: {}\r\n  },\r\n  pagination: {\r\n    page: 0,\r\n    limit: 10,\r\n  },\r\n  sort: {},\r\n});\r\n\r\nasync function StoreAjax({ commit, dispatch }, { do: toDo, onSuccess, onError, dontDelay = false }) {\r\n  try {\r\n    commit({ type: 'setLoading', val: true });\r\n    if (!dontDelay) await delay(200);\r\n  \r\n    const res = await toDo();\r\n    if (res.err) {\r\n      if (onError) onError(res);\r\n      else throw res;\r\n    }\r\n    else if (onSuccess) onSuccess(res);\r\n  \r\n    commit({ type: 'setLoading', val: false });\r\n    \r\n    if (typeof res === 'object') return JSON.parse(JSON.stringify(res));\r\n    return res;\r\n  } catch(err) {\r\n    console.log(err);\r\n    if (err.err && onError) onError(err);\r\n    else alertService.toast({type: 'danger', msg: `Error ${err.status || 500}: ${err.err || err.message || err.msg || err.error || 'internal error'}`})\r\n    setTimeout(() => {\r\n      commit({ type: 'setLoading', val: false });\r\n    }, 3000);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport const basicStoreService = {\r\n  initFilterBy,\r\n  StoreAjax\r\n}","import { authService } from './services/auth.service';\r\nimport { alertService } from '@/modules/common/services/alert.service';\r\nimport { basicStoreService } from '@/modules/common/services/basic-store.service';\r\n\r\nconst initState = () => ({\r\n  loggedUser: null,\r\n  isLoading: false\r\n});\r\n\r\nexport const _authStore = {\r\n  namespaced: true,\r\n  state: initState(),\r\n  getters: {\r\n    isLoading: (state) => state.isLoading,\r\n    loggedUser: (state) => state.loggedUser,\r\n    isAdmin: (state) => state.loggedUser?.role === 'admin' || state.loggedUser?.roles.includes('admin')\r\n  },\r\n  mutations: {\r\n    setLoading(state, { val }) {\r\n      state.isLoading = val;\r\n    },\r\n\r\n    setLoggedUser(state, { user }) {\r\n      state.loggedUser = user;\r\n    },\r\n    resetState(state) {\r\n      const newState = initState();\r\n      for (let key in state) state[key] = newState[key];\r\n    },\r\n    updateOrgStatus(state, { organizationId, newStatus }) {\r\n      state.loggedUser.organizations.find(c => c._id === organizationId).status = newStatus;\r\n    }\r\n  },\r\n  actions: {\r\n    _Ajax: basicStoreService.StoreAjax,\r\n    async login({ commit, dispatch }, { cred }) {\r\n      return dispatch({\r\n        type: '_Ajax',\r\n        do: async () => authService.login(cred),\r\n        onSuccess: (res) => {\r\n          commit({ type: 'setLoggedUser', user: res.user });\r\n          alertService.toast({type: 'success', msg: `Welcome back, ${res.user.username}!`});\r\n        }\r\n      });\r\n    },\r\n    async getUserInfo({ commit, dispatch }) {\r\n      return dispatch({\r\n        type: '_Ajax',\r\n        do: async () => authService.getUserInfo(),\r\n        onSuccess: (user) => commit({ type: 'setLoggedUser', user }),\r\n        onError: () => {}\r\n      });\r\n    },\r\n    async logout({ commit, dispatch }) {\r\n      return dispatch({\r\n        type: '_Ajax',\r\n        do: async () => authService.logout(),\r\n        onSuccess: (res) => {\r\n          commit({ type: 'setLoggedUser', user: null });\r\n          alertService.toast({type: 'success', msg: `Goodby`});\r\n          dispatch('resetState', {}, {root: true});\r\n        }\r\n      });\r\n    },\r\n    async signup({ commit, dispatch }, { cred }) {\r\n      return dispatch({\r\n        type: '_Ajax',\r\n        do: async () => authService.signup(cred),\r\n        onSuccess: (res) => {\r\n          commit({ type: 'setLoggedUser', user: res.user });\r\n          alertService.toast({type: 'success', msg: `Welcome, ${res.user.username}!`});\r\n        }\r\n      });\r\n    },\r\n  }\r\n}\r\n\r\nexport const authStore = { auth: _authStore };","import { accountService } from './services/account.service';\r\nimport { alertService } from '@/modules/common/services/alert.service';\r\nimport { basicStoreService } from '@/modules/common/services/basic-store.service';\r\n\r\nconst initState = () => ({\r\n  data: { items: [], total: 0},\r\n  selectedAccount: null,\r\n  filterBy: basicStoreService.initFilterBy(),\r\n  isLoading: false\r\n});\r\n\r\nexport const _accountStore = {\r\n  namespaced: true,\r\n  state: initState(),\r\n  getters: {\r\n    data: (state) => state.data,\r\n    accounts: (state) => state.data.items,\r\n    totalAccounts: (state) => state.data.total,\r\n    selectedAccount: (state) => state.selectedAccount,\r\n    filterBy: (state) => state.filterBy,\r\n    isLoading: (state) => state.isLoading\r\n  },\r\n  mutations: {\r\n    setProp(state, { key, val }) {\r\n      state[key] = val;\r\n    },\r\n    setAccountData(state, { data }) {\r\n      state.data = data;\r\n    },\r\n    setSelectedAccount(state, { item }) {\r\n      state.selectedAccount = item;\r\n    },\r\n    removeAccount(state, { id }) {\r\n    },\r\n    setFilterBy(state, { filterBy }) {\r\n      state.filterBy = filterBy;\r\n    },\r\n    setLoading(state, { val }) {\r\n      state.isLoading = val;\r\n    },\r\n    resetState(state) {\r\n      const newState = initState();\r\n      for (let key in state) state[key] = newState[key];\r\n    }\r\n  },\r\n  actions: {\r\n    _Ajax: basicStoreService.StoreAjax,\r\n    async loadAccounts({ commit, dispatch }, { filterBy }) {\r\n      return dispatch({\r\n        type: '_Ajax',\r\n        do: async () => {\r\n          if (filterBy) commit({ type: 'setFilterBy', filterBy });\r\n          const accountsRes = await accountService.query(filterBy);\r\n          return accountsRes;\r\n        },\r\n        onSuccess: (data) => commit({ type: 'setAccountData', data })\r\n      });\r\n    },\r\n    async loadAccount({ commit, dispatch }, { id }) {\r\n      return dispatch({\r\n        type: '_Ajax',\r\n        do: async () => accountService.get(id),\r\n        onSuccess: (item) => commit({ type: 'setSelectedAccount', item })\r\n      });\r\n    },\r\n    async removeAccount({ commit, dispatch }, { id }) {\r\n      if (!await alertService.Confirm('Are you sure you want to remove this account?')) return;\r\n      return dispatch({\r\n        type: '_Ajax',\r\n        do: async () => accountService.remove(id),\r\n        onSuccess: () => alertService.toast({type: 'success', msg: `Account removed successfully! id: ${id}`})\r\n      });\r\n    },\r\n    async saveAccount({ commit, dispatch }, { item }) {\r\n      return dispatch({\r\n        type: '_Ajax',\r\n        do: async () => accountService.save(item),\r\n        onSuccess: () => alertService.toast({type: 'success', msg: `Account saved successfully! id: ${item._id}`})\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport const accountStore = { account: _accountStore };","import { httpService } from '@/modules/common/services/http.service';\r\n\r\nconst ENDPOINT = 'settings';\r\n\r\nexport const settingsService = {\r\n  getSettings,\r\n  updateSettings\r\n}\r\n\r\nfunction getSettings() {\r\n  return httpService.get(`${ENDPOINT}/`);\r\n}\r\nfunction updateSettings(settingsToUpdate) {\r\n  return httpService.put(`${ENDPOINT}/`, settingsToUpdate);\r\n}","import { settingsService } from './services/settings.service';\r\nimport { alertService } from '@/modules/common/services/alert.service'\r\nimport { basicStoreService } from '@/modules/common/services/basic-store.service';\r\n\r\n\r\nconst initState = () => ({\r\n  settings: null,\r\n  isLoading: false\r\n});\r\n\r\nexport const _settingsStore = {\r\n  namespaced: true,\r\n  state: initState(),\r\n  getters: {\r\n    settings: (state) => state.settings,\r\n    isLoading: (state) => state.isLoading,\r\n  },\r\n  mutations: {\r\n    setSettings(state, { settings }) {\r\n      state.settings = settings;\r\n    },\r\n    setLoading(state, { val }) {\r\n      state.isLoading = val;\r\n    },\r\n    resetState(state) {\r\n      const newState = initState();\r\n      for (let key in state) state[key] = newState[key];\r\n    }\r\n  },\r\n  actions: {\r\n    _Ajax: basicStoreService.StoreAjax,\r\n    async loadSettings({ commit, dispatch }) {\r\n      return dispatch({\r\n        type: '_Ajax',\r\n        do: async () => {\r\n          const settingsRes = await settingsService.getSettings();\r\n          return settingsRes;\r\n        },\r\n        onSuccess: (settings) => commit({ type: 'setSettings', settings }),\r\n        onError: (err) => {}, // NOOP;,\r\n        dontDelay: true\r\n      });\r\n    },\r\n    async updateSettings({ commit, dispatch }, { settings }) {\r\n      return dispatch({\r\n        type: '_Ajax',\r\n        do: async () => {\r\n          const settingsRes = await settingsService.updateSettings(settings);\r\n          return settingsRes;\r\n        },\r\n        onSuccess: (newSettings) => commit({ type: 'setSettings', settings: newSettings }),\r\n        // onError: (err) => {} // NOOP;\r\n        dontDelay: true\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport const settingsStore = { settings: _settingsStore };","import { httpService } from '@/modules/common/services/http.service';\r\n\r\nconst ENDPOINT = 'dashboard';\r\n\r\nexport const dashboardService = {\r\n  getDashboardData\r\n}\r\n\r\nfunction getDashboardData() {\r\n  return httpService.get(`${ENDPOINT}/`);\r\n}","import { dashboardService } from './services/dashboard.service';\r\nimport { basicStoreService } from '@/modules/common/services/basic-store.service';\r\n\r\n\r\nconst initState = () => ({\r\n  data: null,\r\n  isLoading: false\r\n});\r\n\r\nexport const _dashboardStore = {\r\n  namespaced: true,\r\n  state: initState(),\r\n  getters: {\r\n    data: (state) => state.data,\r\n    isLoading: (state) => state.isLoading,\r\n  },\r\n  mutations: {\r\n    setData(state, { data }) {\r\n      state.data = data;\r\n    },\r\n    setLoading(state, { val }) {\r\n      state.isLoading = val;\r\n    },\r\n    resetState(state) {\r\n      const newState = initState();\r\n      for (let key in state) state[key] = newState[key];\r\n    }\r\n  },\r\n  actions: {\r\n    _Ajax: basicStoreService.StoreAjax,\r\n    async loadDashboardData({ commit, dispatch }) {\r\n      return dispatch({\r\n        type: '_Ajax',\r\n        do: async () => {\r\n          const dashboardRes = await dashboardService.getDashboardData();\r\n          return dashboardRes;\r\n        },\r\n        onSuccess: (data) => commit({ type: 'setData', data }),\r\n        onError: (err) => {} // NOOP;\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport const dashboardStore = { dashboard: _dashboardStore };","import { msgService } from './services/msg.service';\r\nimport { basicStoreService } from '@/modules/common/services/basic-store.service';\r\n\r\n\r\nconst initState = () => ({\r\n  msgs: null,\r\n  isLoading: false\r\n});\r\n\r\nexport const _edStore = {\r\n  namespaced: true,\r\n  state: initState(),\r\n  getters: {\r\n    msgs: (state) => state.msgs,\r\n    isLoading: (state) => state.isLoading,\r\n  },\r\n  mutations: {\r\n    setMsgs(state, { msgs }) {\r\n      state.msgs = msgs;\r\n    },\r\n    setLoading(state, { val }) {\r\n      state.isLoading = val;\r\n    },\r\n    resetState(state) {\r\n      const newState = initState();\r\n      for (let key in state) state[key] = newState[key];\r\n    }\r\n  },\r\n  actions: {\r\n    _Ajax: basicStoreService.StoreAjax,\r\n    async loadMsgs({ commit, dispatch }) {\r\n      return dispatch({\r\n        type: '_Ajax',\r\n        do: async () => {\r\n          const msgsMapRes = await msgService.getMsgs();\r\n          return msgsMapRes;\r\n        },\r\n        onSuccess: (msgs) => commit({ type: 'setMsgs', msgs }),\r\n        onError: (err) => {} // NOOP;\r\n      });\r\n    },\r\n    async updateMsgs({ commit, dispatch }, { msgs }) {\r\n      return dispatch({\r\n        type: '_Ajax',\r\n        do: async () => {\r\n          const msgsMapRes = await msgService.updateMsgs(msgs);\r\n          return msgsMapRes;\r\n        },\r\n        onSuccess: (newMsgs) => commit({ type: 'setMsgs', msgs: newMsgs }),\r\n        // onError: (err) => {} // NOOP;\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport const edStore = { ed: _edStore };","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport { commonStore } from '@/modules/common/store'\nimport { authStore } from '@/modules/auth/store'\nimport { accountStore } from '@/modules/account/store'\nimport { settingsStore } from '@/modules/settings/store'\nimport { dashboardStore } from '../modules/dashboard/store'\nimport { edStore } from '@/modules/ED/store'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n  },\n  mutations: {\n  },\n  actions: {\n  },\n  modules: {\n    commonStore,\n    ...authStore,\n    ...accountStore,\n    ...settingsStore,\n    ...dashboardStore,\n    ...edStore\n  }\n})\n","import Vue from 'vue';\r\nimport VueI18n from 'vue-i18n';\r\n\r\nimport en from '@/assets/locales/en';\r\nimport he from '@/assets/locales/he';\r\n\r\nVue.use(VueI18n);\r\n\r\nconst i18n = new VueI18n({\r\n  locale: localStorage.locale || 'en',\r\n  messages: {\r\n    en,\r\n    he\r\n  }\r\n});\r\n\r\nexport default i18n;\r\nexport const $t = str => i18n.t(str);","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport './registerServiceWorker'\r\nimport { router } from './router'\r\nimport store from './store'\r\n\r\nimport './assets/styles/index.scss';\r\n\r\nimport i18n from '@/plugins/i18n';\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  i18n,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fontSizeSmaller\":\"12px\",\"fontSizeSmall\":\"100px\",\"fontSizeNormal\":\"15px\",\"fontSizeMedium\":\"17px\",\"fontSizeBig\":\"18px\",\"appFont\":\"sans-serif\",\"smallScreenBreak\":\"800px\",\"mediumScreenBreak\":\"1200px\",\"bigScreenBreak\":\"1500px\",\"clr1\":\"#000\",\"clr2\":\"gray\",\"clr3\":\"blue\",\"clrSafe\":\"green\",\"clrWarn\":\"#ff0\",\"clrDanger\":\"red\",\"lightShadow\":\"0px 0px 10px 1px rgba(0,0,0,0.1)\"};","\r\n\r\nasync function getGeoLocation() {\r\n  if (!navigator.geolocation) return Promise.resolve({ err: 'notSuported' });\r\n  return new Promise((resolve, reject) => {\r\n    navigator.geolocation.getCurrentPosition((position) => {\r\n      resolve({\r\n        lat: position.coords.latitude,\r\n        lng: position.coords.longitude\r\n      });\r\n    }, (err) => resolve({ err: 'errorGettingLocation', message: _getPositionError(err) }));\r\n  });\r\n}\r\n\r\nfunction _getPositionError(err) {\r\n  switch (err.code) {\r\n    case err.PERMISSION_DENIED: return 'permissionDenied';\r\n    case err.POSITION_UNAVAILABLE: return 'permissionUnavailable';\r\n    case err.TIMEOUT: return 'timeoutError';\r\n    case err.UNKNOWN_ERROR: default: return 'unknownError';\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  getGeoLocation\r\n}","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardPage.vue?vue&type=style&index=0&id=1fe8b317&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreditLogo.vue?vue&type=style&index=0&id=df998aa2&prod&lang=css&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fontSizeSmaller\":\"12px\",\"fontSizeSmall\":\"100px\",\"fontSizeNormal\":\"15px\",\"fontSizeMedium\":\"17px\",\"fontSizeBig\":\"18px\",\"appFont\":\"sans-serif\",\"smallScreenBreak\":\"800px\",\"mediumScreenBreak\":\"1200px\",\"bigScreenBreak\":\"1500px\",\"clr1\":\"#000\",\"clr2\":\"gray\",\"clr3\":\"blue\",\"clrSafe\":\"green\",\"clrWarn\":\"#ff0\",\"clrDanger\":\"red\",\"lightShadow\":\"0px 0px 10px 1px rgba(0,0,0,0.1)\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABHNCSVQICAgIfAhkiAAAAHhJREFUaIHt1zEOgDAMQ9GE+98ZJjO0GwJaW/8NiG7xECmuCtHD+1wyxXM9/ZRfCOn7U74hpI/VE7yFILuJW3ZxCzPODwAAgA/EHI1xZ7xrCKGzbycmSNyyi1sYOjsAAMAPYo7GuDPeNYTQ2bcTEyRu2cUtTF5nvwDang8iUay8OgAAAABJRU5ErkJggg==\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tooltip.vue?vue&type=style&index=0&id=671a0e06&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapPage.vue?vue&type=style&index=0&id=eab8e500&prod&lang=scss&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fontSizeSmaller\":\"12px\",\"fontSizeSmall\":\"100px\",\"fontSizeNormal\":\"15px\",\"fontSizeMedium\":\"17px\",\"fontSizeBig\":\"18px\",\"appFont\":\"sans-serif\",\"smallScreenBreak\":\"800px\",\"mediumScreenBreak\":\"1200px\",\"bigScreenBreak\":\"1500px\",\"clr1\":\"#000\",\"clr2\":\"gray\",\"clr3\":\"blue\",\"clrSafe\":\"green\",\"clrWarn\":\"#ff0\",\"clrDanger\":\"red\",\"lightShadow\":\"0px 0px 10px 1px rgba(0,0,0,0.1)\"};","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SandBox.vue?vue&type=style&index=0&id=45c8e6f7&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnimationLoader.vue?vue&type=style&index=0&id=40d779b4&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppAside.vue?vue&type=style&index=0&id=5bcafa49&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=style&index=0&id=70cbe306&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemSearchList.vue?vue&type=style&index=0&id=d48e1c86&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=style&index=0&id=043614d9&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SunSistem.vue?vue&type=style&index=0&id=8508d2e0&prod&lang=scss&scoped=true&\""],"sourceRoot":""}